(self.webpackChunkcontainer=self.webpackChunkcontainer||[]).push([[394],{181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var a in Object(e))t.push(a);return t}},1791:(e,t,a)=>{var i=a(6547),r=a(3360);e.exports=function(e,t,a,s){var n=!a;a||(a={});for(var d=-1,o=t.length;++d<o;){var l=t[d],c=s?s(a[l],e[l],l,a,e):void 0;void 0===c&&(c=e[l]),n?r(a,l,c):i(a,l,c)}return a}},1961:(e,t,a)=>{var i=a(9653);e.exports=function(e,t){var a=t?i(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}},2193:(e,t,a)=>{var i=a(8984),r=a(5861),s=a(2428),n=a(6449),d=a(4894),o=a(3656),l=a(5527),c=a(7167),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(d(e)&&(n(e)||"string"==typeof e||"function"==typeof e.splice||o(e)||c(e)||s(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!i(e).length;for(var a in e)if(u.call(e,a))return!1;return!0}},2271:(e,t,a)=>{var i=a(1791),r=a(4664);e.exports=function(e,t){return i(e,r(e),t)}},2284:(e,t,a)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}a.d(t,{A:()=>i})},2464:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l}),Math.pow(10,8);var i=6e4,r=a(2284);function s(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function n(e){s(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.A)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}var d={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},o="trunc";function l(e,t,a){s(2,arguments);var r,l=function(e,t){return s(2,arguments),n(e).getTime()-n(t).getTime()}(e,t)/i;return((r=null==a?void 0:a.roundingMethod)?d[r]:d[o])(l)}},2903:(e,t,a)=>{var i=a(3805),r=a(5527),s=a(181),n=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return s(e);var t=r(e),a=[];for(var d in e)("constructor"!=d||!t&&n.call(e,d))&&a.push(d);return a}},3007:e=>{e.exports=function(e,t){var a=-1,i=e.length;for(t||(t=Array(i));++a<i;)t[a]=e[a];return t}},3201:e=>{var t=/\w*$/;e.exports=function(e){var a=new e.constructor(e.source,t.exec(e));return a.lastIndex=e.lastIndex,a}},3243:(e,t,a)=>{var i=a(6110),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},3290:(e,t,a)=>{e=a.nmd(e);var i=a(9325),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,n=s&&s.exports===r?i.Buffer:void 0,d=n?n.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var a=e.length,i=d?d(a):new e.constructor(a);return e.copy(i),i}},3349:(e,t,a)=>{var i=a(2199),r=a(6375),s=a(9622);e.exports=function(e){return i(e,s,r)}},3360:(e,t,a)=>{var i=a(3243);e.exports=function(e,t,a){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}},3729:e=>{e.exports=function(e,t){for(var a=-1,i=null==e?0:e.length;++a<i&&!1!==t(e[a],a,e););return e}},3736:(e,t,a)=>{var i=a(1873),r=i?i.prototype:void 0,s=r?r.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},3810:(e,t)=>{"use strict";var a,i;Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationActions=t.NotificationAction=void 0,function(e){e.CREATE="create",e.UPDATE="update",e.DELETE="delete",e.UPDATE_STAGE="updateStage"}(a||(t.NotificationAction=a={})),function(e){e.SUBSCIRBE="subscribe",e.PUBLISH="publish"}(i||(t.NotificationActions=i={}))},3838:(e,t,a)=>{var i=a(1791),r=a(9622);e.exports=function(e,t){return e&&i(t,r(t),e)}},4657:(e,t)=>{"use strict";var a,i,r,s,n,d,o,l,c;Object.defineProperty(t,"__esModule",{value:!0}),t.EMessengerType=t.ChatType=t.EMessageStatus=t.EMetaType=t.EMetaEntity=t.EActiveEntity=t.ERelationsAction=t.ERelationsEntity=t.MessageType=void 0,function(e){e.DEFAULT="MESSAGE",e.AUDIO="AUDIO",e.VOICE="VOICE",e.VIDEO="VIDEO",e.GIF="GIF"}(a||(t.MessageType=a={})),function(e){e.LEAD="lead",e.CONTACT="contact",e.DEAL="deal"}(i||(t.ERelationsEntity=i={})),function(e){e.CREATE="create"}(r||(t.ERelationsAction=r={})),function(e){e.CHATS="chats",e.CONTACTS="contacts",e.ACTIVE_EXTERNAL="activeExternal",e.UNDISTRIBUTED_EXTERNAL="undistributedExternal",e.INACTIVE_EXTERNAL="inactiveExternal"}(s||(t.EActiveEntity=s={})),function(e){e.POST="post",e.STORY="story",e.REEL="reel"}(n||(t.EMetaEntity=n={})),function(e){e.COMMENT="comment",e.REACTION="reaction",e.DEFAULT="default"}(d||(t.EMetaType=d={})),function(e){e.SENT="sent",e.DELIVERED="delivered",e.READ="read",e.ERROR="error"}(o||(t.EMessageStatus=o={})),function(e){e.PRIVATE="PRIVATE",e.PUBLIC="PUBLIC",e.GROUP="GROUP",e.DIRECT="DIRECT",e.EXTERNAL="EXTERNAL"}(l||(t.ChatType=l={})),function(e){e.INTERNAL_CHAT="internalChat",e.EXTERNAL_LINES="externalLines",e.MAIL="mail"}(c||(t.EMessengerType=c={}))},4733:(e,t,a)=>{var i=a(1791),r=a(5950);e.exports=function(e,t){return e&&i(t,r(t),e)}},5015:(e,t,a)=>{var i=a(2552),r=a(6449),s=a(346);e.exports=function(e){return"string"==typeof e||!r(e)&&s(e)&&"[object String]"==i(e)}},5187:e=>{e.exports=function(e){return null===e}},5529:(e,t,a)=>{var i=a(9344),r=a(8879),s=a(5527);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:i(r(e))}},6038:(e,t,a)=>{var i=a(5861),r=a(346);e.exports=function(e){return r(e)&&"[object Set]"==i(e)}},6169:(e,t,a)=>{var i=a(9653);e.exports=function(e,t){var a=t?i(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}},6189:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var a=e.length,i=new e.constructor(a);return a&&"string"==typeof e[0]&&t.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},6375:(e,t,a)=>{var i=a(4528),r=a(8879),s=a(4664),n=a(3345),d=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,s(e)),e=r(e);return t}:n;e.exports=d},6394:(e,t)=>{"use strict";var a,i,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.ECalendarRoles=t.EServicesAccountStatuses=t.EEventsValues=t.EServicesAccountDirectionType=void 0,function(e){e.DOUBLE_SIDED="double_sided",e.PROVIDER_ACTIVITY="provider_activity",e.ACTIVITY_PROVIDER="activity_provider"}(a||(t.EServicesAccountDirectionType=a={})),function(e){e.TASK="task",e.CALL="call",e.MEETING="meeting",e.CHAT="chat",e.EMAIL="email"}(i||(t.EEventsValues=i={})),function(e){e.RUN="run",e.STARTED="started",e.STOPPED="stopped"}(r||(t.EServicesAccountStatuses=r={})),function(e){e.OWNER="owner",e.WRITER="writer",e.READER="reader"}(s||(t.ECalendarRoles=s={}))},6547:(e,t,a)=>{var i=a(3360),r=a(5288),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,a){var n=e[t];s.call(e,t)&&r(n,a)&&(void 0!==a||t in e)||i(e,t,a)}},7199:(e,t,a)=>{var i=a(9653),r=a(6169),s=a(3201),n=a(3736),d=a(1961);e.exports=function(e,t,a){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return r(e,a);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return d(e,a);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return s(e);case"[object Symbol]":return n(e)}}},7730:(e,t,a)=>{var i=a(9172),r=a(7301),s=a(6009),n=s&&s.isMap,d=n?r(n):i;e.exports=d},8023:(e,t,a)=>{var i=a(2552),r=a(346);e.exports=function(e){return"number"==typeof e||r(e)&&"[object Number]"==i(e)}},8055:(e,t,a)=>{var i=a(9999);e.exports=function(e){return i(e,5)}},8394:(e,t,a)=>{(()=>{"use strict";var t={3970:(e,t)=>{var a,i;Object.defineProperty(t,"__esModule",{value:!0}),t.fieldsForTasks=t.fieldForCalls=t.staticEntities=t.AVAILABLE_ENTITY_TYPES=t.unreadMessagesValue=t.FieldType=t.defaultProductFieldKeys=t.EntityIds=t.OTHER_DEFAULT_FIELDS=t.requisiteField=t.taskField=t.dealsField=t.stageField=t.idColumnField=t.idColumn=t.TWO_WEEK_TIME_VALUE=t.API_PREFIX_SETTINGS=t.API_PREFIX_FILES=void 0,t.API_PREFIX_FILES="/files/v1",t.API_PREFIX_SETTINGS="/settings/v1",t.TWO_WEEK_TIME_VALUE=1123200,t.idColumn={name:"number_",code:"id_column",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"id_column",field_section_id:"",system_field:!0,sort:"",default_value:""},t.idColumnField=Object.assign({},t.idColumn),t.stageField={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",sort:"",default_value:"",system_field:!1},t.dealsField={name:"deals",code:"deals",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"deals_filter",field_section_id:"",system_field:!0,sort:"",default_value:""},t.taskField={name:"tasks",code:"tasks",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"tasks_filter",field_section_id:"",system_field:!0,sort:"",default_value:""},t.requisiteField={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",system_field:!0,base_field:!0,sort:""},t.OTHER_DEFAULT_FIELDS={openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"AND",table_fields:[],sortModel:[]},function(e){e.leads="1",e.deals="2",e.contacts="3",e.companies="4"}(a||(t.EntityIds=a={})),t.defaultProductFieldKeys=["owner","id","title","product_category_id","type","article","prices","measurement_unit_id","comment","currency","tax","link","availability","is_active","description","quantity","reserved_quantity","remainder","preview_image_id","file_ids","files"],function(e){e.STAGE="stage",e.STRING="string",e.TEXTAREA="textarea",e.INTEGER="integer",e.FLOAT="float",e.LIST="list",e.DATETIME="datetime",e.MONEY="money",e.LABEL="label",e.PHONE="phone",e.EMAIL="email",e.SOCIAL="social",e.LINK="link",e.BOOLEAN="boolean",e.USER_ID="user_id",e.PHOTO="photo",e.FILE="file",e.ADDRESS="address",e.LEGAL_DETAILS="legal_details",e.ENTITY_REFERENCE="entity_reference",e.UTM="utm",e.CUSTOM_LINK="customLink",e.DEALS_FILTER="deals_filter",e.TASKS_FILTER="tasks_filter",e.ID_COLUMN="id_column",e.REQUISITE="requisite",e.PRIORITY="priority"}(i||(t.FieldType=i={})),t.unreadMessagesValue="unreadMessages",t.AVAILABLE_ENTITY_TYPES=["tasks","comment","crm","company","contact","deal","lead","post","task","companies","contacts","deals","leads"],t.staticEntities=[{id:10001,title:"Calls",table_name:"calls",type:"calls",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10002,title:"Products",table_name:"products",type:"products",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10003,title:"Tasks",table_name:"tasks",type:"tasks",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)},{id:10004,title:"Tasks",table_name:"activities",type:"activities",sort:10,title_singular:null,kanban:!1,for_all_users:!0,display_in_menu:!0,activity_support:!0,task_support:!0,created_by:null,changed_by:null,created_at:Math.floor(Date.now()/1e3),updated_at:Math.floor(Date.now()/1e3)}],t.fieldForCalls=[t.idColumn,{name:"callType",code:"call_type",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_type",sort:"",system_field:!1,default_value:""},{name:"callStatus",code:"call_status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_status",sort:"",system_field:!1,default_value:""},{name:"date",code:"date",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_date",sort:"",system_field:!1,default_value:""},{name:"clientPhone",code:"client_phone",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_phone",field_section_id:"",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"record",code:"record",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_record",sort:"",system_field:!1,default_value:""},{name:"baseCRMEntity",code:"base_entity",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"call_entity_reference",sort:"",system_field:!1,default_value:""},{name:"duration",code:"duration",required:!1,editable:!1,show:!0,hidden:!0,multiple:!1,type:"list",sort:"",system_field:!1,default_value:""}],t.fieldsForTasks=[{name:"caseType",code:"type",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"list",field_section_id:"",system_field:!0,sort:"",default_value:"",values:[{color:"",selected:!1,sort:0,title:"task",value:"task"},{color:"",selected:!1,sort:0,title:"call",value:"call"},{color:"",selected:!1,sort:0,title:"meeting",value:"meeting"},{color:"",selected:!1,sort:0,title:"chat",value:"chat"},{color:"",selected:!1,sort:0,title:"message",value:"email"}]},{name:"taskTitle",code:"title",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"string",sort:"",system_field:!1,default_value:""},{name:"eventStartDate",code:"start_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"eventEndDate",code:"end_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"status",code:"status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"status",sort:"",system_field:!1,default_value:""},{name:"priority",code:"priority",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"priority",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"leadOrAgreement",code:"leadOrDeal",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"contacts",code:"contacts",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"company",code:"company",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"dateOfCompletion",code:"closed_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"created_at",code:"created_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"dateOfUpdate",code:"updated_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"participants",code:"participants",required:!1,editable:!1,show:!0,hidden:!1,multiple:!0,type:"user_id",field_section_id:"",system_field:!1,sort:"",default_value:""}]},1897:function(e,t,a){var i=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.changeCRMColumn=t.changeColumn=void 0;const s=r(a(9699));t.changeColumn=(e,t,a)=>{const r=Object.values(e).map((e=>Object.assign(Object.assign({},e),{id:+e.id}))).filter((e=>!isNaN(e.id)&&0!==e.id));let n=!1,d=[];if(r.length>0){d=r.map((e=>{const{columnUniqueName:t,items:a}=e;return i(e,["columnUniqueName","items"])}));const e=d.filter((e=>!a.filter((e=>e)).some((t=>+e.id==+t.id)))),o=a.filter((e=>!d.some((t=>+e.id==+t.id))));n=!(0,s.default)(e)||!(0,s.default)(o)||t}return{isUpdateStages:n,newStageArray:d}},t.changeCRMColumn=(e,t,a)=>{const r=Object.values(e).map((e=>Object.assign(Object.assign({},e),{id:+e.id}))).filter((e=>!isNaN(e.id)));let n=!1,d=[];if(r.length>0){d=r.map((e=>{const{columnUniqueName:t,items:r}=e,s=i(e,["columnUniqueName","items"]),n=a.find((t=>t.id===e.id));return n?Object.assign(Object.assign({},s),{reasons:n.reasons,stage_code:n.stage_code,system_stage:n.system_stage}):Object.assign(Object.assign({},s),{reasons:[],system_stage:!1})}));const e=d.filter((e=>!a.some((t=>+e.id==+t.id)))),o=a.filter((e=>!d.some((t=>+e.id==+t.id))));n=!(0,s.default)(e)||!(0,s.default)(o)||t}return{isUpdateStages:n,newStageArray:d}}},3925:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkBasicRequisite=void 0,t.checkBasicRequisite=(e,t)=>e.map((e=>{const a=t.is_basic;return(null==e?void 0:e.id)===t.id?Object.assign(Object.assign({},e),t):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))},1066:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.disabledPermissions=void 0,t.disabledPermissions={create:["crm.leads.create.department.disabled-any","crm.leads.create.mine.disabled-any","crm.companies.create.department.disabled-any","crm.companies.create.mine.disabled-any","crm.contacts.create.department.disabled-any","crm.contacts.create.mine.disabled-any","crm.deals.create.department.disabled-any","crm.deals.create.mine.disabled-any","crm.activity.create.department.disabled-any","crm.activity.create.mine.disabled-any","crm.uspacy_calls.create.allowed.disabled-any","crm.uspacy_calls.create.mine.disabled-any","crm.uspacy_calls.create.department.disabled-any","hrm.activity.create.department.disabled-any","hrm.activity.create.mine.disabled-any","hrm.employee.create.mine.disabled-any","hrm.employee.create.department.disabled-any","tasks.task.create.department.disabled-any","tasks.task.create.mine.disabled-any"],edit:["crm.uspacy_calls.edit.department.disabled-any"],view:["crm.uspacy_calls.view.department.disabled-any"],delete:["crm.uspacy_calls.delete.allowed.disabled-any","crm.uspacy_calls.delete.mine.disabled-any","crm.uspacy_calls.delete.department.disabled-any"]}},9860:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDealsParams=t.getFilterParams=t.getField=t.updateFieldsInPresets=t.getFilterField=t.getDefaultFastFields=void 0;const r=i(a(5599)),s=i(a(8524)),n=i(a(7078)),d=i(a(7026)),o=a(3970);t.getDefaultFastFields=e=>{switch(e){case"lead":return["kanban_status","kanban_stage_id","source","created_at","owner"];case"deal":return["kanban_status","kanban_stage_id","tasks","created_at","owner"];case"company":return["company_label","source","created_at","owner","updated_at"];case"contact":return["contact_label","source","created_at","owner","updated_at"];case"task":case"product":return["kanban_status","kanban_stage_id","source","created_at","owner","contact_label","deals","company_label"];case"calls":return["responsible_id","call_type","call_status","duration","created_at"];default:return["created_at","updated_at","owner","created_by","changed_by","created_at_custom","updated_at_custom"]}},t.getFilterField=(e,a)=>{var i,r,s,n,d;const o=["lead","deal","contact","product","company","task"];if(!(null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.length))return[];const l=[],c=null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.find((e=>o.includes(a)?e.code===(0,t.getDefaultFastFields)(a)[0]:e.code.includes((0,t.getDefaultFastFields)(a)[0]))),u=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.find((e=>o.includes(a)?e.code===(0,t.getDefaultFastFields)(a)[1]:e.code.includes((0,t.getDefaultFastFields)(a)[1]))),p=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.find((e=>e.code===(0,t.getDefaultFastFields)(a)[2])),y=null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.find((e=>e.code===(0,t.getDefaultFastFields)(a)[3])),g=null==e?void 0:e.data.find((e=>e.code===(0,t.getDefaultFastFields)(a)[4]));return(null==c?void 0:c.code)&&l.push(c),(null==u?void 0:u.code)&&l.push(u),(null==p?void 0:p.code)&&l.push(p),(null==y?void 0:y.code)&&l.push(y),(null==g?void 0:g.code)&&l.push(g),[...l,...e.data.filter((e=>!(0,t.getDefaultFastFields)(a).includes(e.code)))].map(((e,i)=>({id:i,title:e.name,code:e.code,sort:10*(i+1),checked:(0,t.getDefaultFastFields)(a).includes(e.code),fast:(0,t.getDefaultFastFields)(a).includes(e.code)})))},t.updateFieldsInPresets=(e,t)=>{const a=e.filter((e=>[...null==t?void 0:t.data.map((e=>e.code)),"select","search"].includes(e.code))).map((e=>Object.assign({},e)));return t.data.forEach(((e,t)=>{a.some((t=>t.code===e.code))||a.push({id:t+1,title:e.name,code:e.code,sort:10*(a.length+1),checked:!1,fast:!1})})),a},t.getField=e=>[o.FieldType.DATETIME,o.FieldType.TASKS_FILTER].includes(e.type)?{[`certainDateOrPeriod_${null==e?void 0:e.code}`]:[],[`time_label_${null==e?void 0:e.code}`]:[],[`${null==e?void 0:e.code}`]:[]}:[o.FieldType.INTEGER,o.FieldType.FLOAT].includes(e.type)?"kanban_reason_id"===e.code?{[`${null==e?void 0:e.code}`]:[]}:{[`to_${null==e?void 0:e.code}`]:null,[`from_${null==e?void 0:e.code}`]:null}:e.type===o.FieldType.MONEY?{[`to_${null==e?void 0:e.code}`]:null,[`from_${null==e?void 0:e.code}`]:null,[`currency_${null==e?void 0:e.code}`]:""}:[o.FieldType.TEXTAREA,o.FieldType.UTM,o.FieldType.ADDRESS,o.FieldType.PHONE,o.FieldType.LINK,o.FieldType.SOCIAL,o.FieldType.EMAIL,o.FieldType.STRING,o.FieldType.FLOAT,o.FieldType.INTEGER].includes(e.type)?"kanban_status"===(null==e?void 0:e.code)?{[`${null==e?void 0:e.code}`]:[]}:{[`${null==e?void 0:e.code}`]:""}:{[`${null==e?void 0:e.code}`]:[]},t.getFilterParams=(e,t,a=!1)=>{var i;return null===(i=null==Object?void 0:Object.entries(e))||void 0===i?void 0:i.filter((([e,t])=>!(("time_label_start_time"!==e||!t.includes("expiredtask"))&&((null==e?void 0:e.includes("certainDateOrPeriod_"))||(null==e?void 0:e.includes("time_label_"))||(null==e?void 0:e.includes("openDatePicker"))||(null==e?void 0:e.includes("View"))||(null==e?void 0:e.includes("entityCode"))||a&&["select","page","perPage","table_fields","entityCode","sortModel"].includes(e)||!((null==e?void 0:e.includes("select"))?t>0:(0,r.default)(t)?(null==t?void 0:t.length)>0:(0,d.default)(t)?t:!(0,n.default)(t)||!isNaN(t)))))).reduce(((e,[a,i])=>{const n=null==t?void 0:t.find((e=>(null==e?void 0:e.code)===a));if("search"===a)return Object.assign(Object.assign({},e),{q:i});if("perPage"===a)return Object.assign(Object.assign({},e),{list:i});if("time_label_start_time"===a&&(null==i?void 0:i.includes("expiredtask")))return Object.assign(Object.assign({},e),{expired:Math.floor((new Date).getTime()/1e3)});if("select"===a)return Object.assign(Object.assign({},e),{funnel_id:i});if("deals"===a&&"customLink"!==(null==n?void 0:n.type))return Object.assign(Object.assign({},e),{deals:null==i?void 0:i.filter((e=>"NO_DEALS"!==e))});if("customLink"===(null==n?void 0:n.type)){const t="company"===a?"companies":a;return Object.assign(Object.assign({},e),{[`${t}[title]`]:i})}if(["kanban_status","kanban_reason_id"].includes(a))return Object.assign(Object.assign({},e),{[a]:(0,r.default)(i)?i:[i]});if(["tasks"].includes(a))return Object.assign(Object.assign({},e),{[a]:null==i?void 0:i.filter((e=>0!==e))});if(["owner"].includes(a))return Object.assign(Object.assign({},e),{[a]:0==i?null:null==i?void 0:i.filter((e=>0!==e))});if(["sortModel"].includes(a)){const t=(0,r.default)(i)?i:[i];if(0===t.length)return e;const[a,s]=null==Object?void 0:Object.entries(t[0])[0],n="id_column"===a?"id":a;return Object.assign(Object.assign({},e),{[`sort_by[${n}]`]:s})}if((null==a?void 0:a.startsWith("from_"))||(null==a?void 0:a.startsWith("to_"))||(null==a?void 0:a.startsWith("currency_"))){const t=a.replace(/^(from_|to_|currency_)/,""),r=a.split("_")[0];return(0,s.default)(i)?e:Object.assign(Object.assign({},e),{[`${t}[${r}]`]:i})}return[o.FieldType.SOCIAL].includes(null==n?void 0:n.type)&&((null==i?void 0:i.startsWith("@"))||(null==i?void 0:i.startsWith("+")))?Object.assign(Object.assign({},e),{[a]:i.substring(1)}):[o.FieldType.STAGE,o.FieldType.LIST,o.FieldType.LABEL,o.FieldType.PRIORITY].includes(null==n?void 0:n.type)?Object.assign(Object.assign({},e),{[a]:(0,r.default)(i)?i:[i]}):Object.assign(Object.assign({},e),{[a]:i})}),{})},t.getDealsParams=(e,t)=>{const a=(Array.isArray(null==e?void 0:e.time_label_tasks)?null==e?void 0:e.time_label_tasks:[e.time_label_task]).filter(Boolean),i=void 0!==(null==e?void 0:e.time_label_tasks)&&(null==a?void 0:a.includes("noBusiness"));return Object.assign(Object.assign({},t),i?{tasks:""}:{})}},7736:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unFormatNumber=t.formatNumber=t.getSecondWordLowercase=void 0,t.getSecondWordLowercase=(e,t)=>`${e} ${t.slice(0,1).toLowerCase()+t.slice(1)}`,t.formatNumber=e=>100*parseFloat(e.replace(/,/g,".")),t.unFormatNumber=(e,t="USD")=>"UAH"===t?String((e/100).toFixed(2)).replace(/\./g,","):(e/100).toFixed(2)},349:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.makeURIParams=void 0,t.makeURIParams=e=>{let t="";const a=(e,i="")=>{for(const r in e)if(e.hasOwnProperty(r)){const s=e[r];if(void 0!==s){const e=i?`${i}[${r}]`:r;"object"==typeof s?a(s,e):t+=`${e}=${encodeURIComponent(s)}&`}}};return a(e),t.slice(0,-1)}},4636:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateUnreadCountAndMentionedByChatId=t.updateLastMessageInExternalChat=t.updateExternalChat=t.separateExternalChats=t.sortChats=t.readLastMessagesInChat=t.readLastMessageInChat=t.onlyUnique=t.getUniqueItems=t.formatChats=t.formatChat=t.getChatPictureUrl=t.getChatName=void 0;const i=a(6063);t.getChatName=(e,t,a,r)=>{if(!e)return"";if((null==e?void 0:e.type)===i.ChatType.DIRECT){if(1===e.members.length&&e.members.includes(a.authUserId))return r(a);const i=e.members.find((e=>a.authUserId!==e)),s=t.find((({authUserId:e})=>e===i));if(!s)return;return r(s)}return e.name},t.getChatPictureUrl=(e,t,a)=>{if(!e)return"";if(e.type===i.ChatType.DIRECT){if(1===e.members.length&&e.members.includes(a.authUserId))return a.avatar;const i=e.members.find((e=>a.authUserId!==e)),r=t.find((({authUserId:e})=>e===i));return null==r?void 0:r.avatar}return e.pictureUrl},t.formatChat=(e,a,i,r)=>Object.assign(Object.assign({},e),{name:(0,t.getChatName)(e,a,i,r),pictureUrl:(0,t.getChatPictureUrl)(e,a,i),originalTimestamp:e.timestamp}),t.formatChats=(e,a,i,r)=>e.map((e=>(0,t.formatChat)(e,a,i,r))).filter((({name:e})=>Boolean(e))),t.getUniqueItems=e=>e.reduce(((e,t)=>(e.find((({id:e})=>e===t.id))||e.push(t),e)),[]),t.onlyUnique=(e,t,a)=>a.indexOf(e)===t,t.readLastMessageInChat=(e,t,a)=>e.map((e=>{var i;return e.id===t.chatId&&(null===(i=e.lastMessage)||void 0===i?void 0:i.id)===t.id?Object.assign(Object.assign(Object.assign({},e),t.mentioned.includes(a)&&{unreadMentions:e.unreadMentions.filter((e=>e!==t.id))}),{lastMessage:Object.assign(Object.assign({},e.lastMessage),{readBy:[...e.lastMessage.readBy||[],a]})}):e})),t.readLastMessagesInChat=(e,t,a,i)=>e.map((e=>{if(e.id===a){const a=t.find((({id:t})=>{var a;return t===(null===(a=e.lastMessage)||void 0===a?void 0:a.id)}));return a?Object.assign(Object.assign(Object.assign({},e),a.readBy.includes(i.authUserId)&&Object.assign(Object.assign({},e.lastMessage.mentioned.includes(i.authUserId)&&{unreadMentions:e.unreadMentions.filter((t=>t!==e.lastMessage.id))}),{unreadCount:Math.max(e.unreadCount-t.length,0)})),{lastMessage:Object.assign(Object.assign({},e.lastMessage),{readBy:a.readBy})}):Object.assign({},e)}return e})),t.sortChats=(e,t)=>t.pinned&&!e.pinned?1:!t.pinned&&e.pinned?-1:t.pinned&&e.pinned?t.pinnedTimestamp-e.pinnedTimestamp:t.timestamp-e.timestamp,t.separateExternalChats=e=>e.reduce(((e,t)=>{const a=t.active&&!!t.members.length,r=t.active&&!t.members.length,s=!t.active;switch(!0){case a:e.active.push(Object.assign(Object.assign({},t),{externalChatStatus:i.EActiveEntity.ACTIVE_EXTERNAL}));break;case r:e.undistributed.push(Object.assign(Object.assign({},t),{externalChatStatus:i.EActiveEntity.UNDISTRIBUTED_EXTERNAL}));break;case s:e.inactive.push(Object.assign(Object.assign({},t),{externalChatStatus:i.EActiveEntity.INACTIVE_EXTERNAL}))}return e}),{active:[],undistributed:[],inactive:[]});const r=(e,t)=>e.map((e=>e.id===t.id?Object.assign(Object.assign({},e),t):e));t.updateExternalChat=(e,t)=>({active:t.externalChatStatus===i.EActiveEntity.ACTIVE_EXTERNAL?r(e.active,t):e.active,undistributed:t.externalChatStatus===i.EActiveEntity.UNDISTRIBUTED_EXTERNAL?r(e.undistributed,t):e.undistributed,inactive:t.externalChatStatus===i.EActiveEntity.INACTIVE_EXTERNAL?r(e.inactive,t):e.inactive});const s=(e,t,a,i)=>e.id===t?Object.assign(Object.assign({},e),{lastMessage:a,timestamp:a.timestamp,unreadCount:i?e.unreadCount+1:e.unreadCount}):e;t.updateLastMessageInExternalChat=(e,t,a,i)=>{const r=a.authorId!==(null==i?void 0:i.authUserId)||a.externalAuthorId;return{active:e.active.map((e=>s(e,t,a,r))).sort(((e,t)=>t.timestamp-e.timestamp)),undistributed:e.undistributed.map((e=>s(e,t,a,r))).sort(((e,t)=>t.timestamp-e.timestamp)),inactive:e.inactive.map((e=>s(e,t,a,r))).sort(((e,t)=>t.timestamp-e.timestamp))}},t.updateUnreadCountAndMentionedByChatId=(e,t,a,i)=>e.map((e=>e.id===t&&e.unreadCount>0?Object.assign(Object.assign(Object.assign({},e),{unreadCount:e.unreadCount-1}),i.mentioned.includes(a)&&{unreadMentions:e.unreadMentions.filter((e=>e!==i.id))}):e))},7109:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDataColumns=t.normalizeMockFieldValue=t.normalizeSettingField=t.normalizeProductFields=t.normalizeProductField=t.normalizeCategories=t.normalizeProducts=t.normalizeGetProducts=t.normalizeProductForView=t.normalizeProduct=void 0;const r=i(a(5599)),s=i(a(9699)),n=i(a(5795)),d=a(3970),o=a(7736),l={productType:[{title:"goods",value:"goods",color:"",sort:0,selected:!0},{title:"service",value:"service",color:"",sort:0,selected:!1}],productAvailability:[{title:"true",value:"true",color:"#93DD5C",sort:0,selected:!0},{title:"false",value:"false",color:"#FF8C90",sort:0,selected:!1},{title:"await",value:"await",color:"#FFCF5C",sort:0,selected:!1}]};t.normalizeProduct=e=>{const t=(null==e?void 0:e.product_category_id)||0===(null==e?void 0:e.product_category_id),a={product_category_id:e.product_category_id||null},i={description:(0,r.default)(null==e?void 0:e.description)&&!(null==e?void 0:e.description[0])?null:null==e?void 0:e.description},l=e.remainder?+e.remainder:void 0,c=(0,n.default)(e.preview_image_id)?void 0:e.preview_image_id,u=Object.entries(e).reduce(((e,[t,a])=>d.defaultProductFieldKeys.includes(t)?e:Object.assign(Object.assign({},e),{[t]:a})),{}),p=Object.keys(u).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:void 0})),{}),y=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t&&a),(null==e?void 0:e.description)&&i),{quantity:l,preview_image_id:c,additional:(0,s.default)(u)?void 0:u}),p);if(!(null==e?void 0:e.prices))return y;const g=null===(v=null==e?void 0:e.prices)||void 0===v?void 0:v.filter((e=>null!==e.price)).map((e=>Object.assign(Object.assign({},e),{price:e.price?(0,o.formatNumber)(String(e.price)):(0,o.formatNumber)("0"),is_tax_included:e.is_tax_included?1:0})));var v;return Object.assign(Object.assign({},y),{prices:(null==g?void 0:g.length)?g:void 0})},t.normalizeProductForView=e=>{const t=e.files.find((t=>t.id===e.preview_image_id)),a=Object.assign(Object.assign(Object.assign({},e),e.additional),{remainder:e.quantity,preview_image_id:t?[t]:null});return(null==e?void 0:e.prices)?Object.assign(Object.assign(Object.assign({},e),a),{prices:null===(i=null==e?void 0:e.prices)||void 0===i?void 0:i.map((e=>Object.assign(Object.assign({},e),{price:e.price?(0,o.unFormatNumber)(e.price,e.currency):0})))}):a;var i},t.normalizeGetProducts=e=>{const a=e.data.map((e=>(0,t.normalizeProductForView)(e)));return Object.assign(Object.assign({},e),{data:a})},t.normalizeProducts=e=>e.map(t.normalizeProductForView),t.normalizeCategories=e=>{if(0!==e)return.1===e?null:((0,r.default)(e)?e:[e]).filter((e=>0!==e))},t.normalizeProductField=(e,t)=>{const a=t.find((t=>e.code===t.code)),i="files"===(null==a?void 0:a.code);return a?Object.assign(Object.assign({},a),{code:i?"preview_image_id":a.code,name:e.name}):e},t.normalizeProductFields=(e,a)=>{const i=Object.assign(Object.assign({},a[0]),{name:"preview_image_upload",hidden:!0,code:"file_ids",multiple:!0});return[...e.data.map((e=>(0,t.normalizeProductField)(e,a))),i]},t.normalizeSettingField=e=>"preview_image_id"===e.code?Object.assign(Object.assign({},e),{code:"files"}):e,t.normalizeMockFieldValue=e=>Object.assign(Object.assign({},e),{values:l[e.type]||[]});const c={name:"",code:"",required:!1,editable:!0,show:!0,hidden:!1,multiple:!1,type:"string",system_field:!0,base_field:!0};t.defaultDataColumns=[Object.assign(Object.assign({},c),{name:"product/service",code:"title",type:"productTitle",required:!0}),Object.assign(Object.assign({},c),{name:"category",code:"product_category_id",type:"productCategory"}),Object.assign(Object.assign({},c),{name:"productType",code:"type",type:"productType"}),Object.assign(Object.assign({},c),{name:"article",code:"article",type:"productArticle"}),Object.assign(Object.assign({},c),{name:"price",code:"prices",type:"productPrice",multiple:!0}),Object.assign(Object.assign({},c),{name:"unit",code:"measurement_unit_id",type:"productUnit"}),Object.assign(Object.assign({},c),{name:"availability",code:"availability",type:"productAvailability"}),Object.assign(Object.assign({},c),{name:"remainder",code:"remainder",type:"productRemind"}),Object.assign(Object.assign({},c),{name:"description",code:"description",type:"textarea"}),Object.assign(Object.assign({},c),{name:"tax",code:"tax",type:"productTax"}),Object.assign(Object.assign({},c),{name:"activity",code:"is_active",type:"productActivity"}),Object.assign(Object.assign({},c),{name:"productGallery",code:"files",type:"productGallery"}),Object.assign(Object.assign({},c),{name:"productLink",code:"link",type:"productLink"}),Object.assign(Object.assign({},c),{name:"commentProduct",code:"comment",type:"textarea"}),Object.assign(Object.assign({},c),{name:"currency",code:"currency",type:"label"})]},6462:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.transformNotificationMessage=t.getNotificationSubTitle=t.deleteHtmlFromComment=t.getNotificationTitle=t.getLinkEntity=t.getServiceName=void 0;const i=a(414),r=a(3970);t.getServiceName=e=>{const[t]=e.split("-");return t.replace("news_feed","newsfeed")},t.getLinkEntity=e=>{var a,r,s,n,d,o,l,c,u,p,y,g,v,m,f;if(e.data.action===i.NotificationAction.DELETE)return;const h=(0,t.getServiceName)(e.data.service);switch(h){case"crm":return`/crm/${(null===(a=e.data.entity)||void 0===a?void 0:a.table_name)||`${"crm_activity"===e.type?"tasks/task":e.type}`}/${e.data.entity.id}`;case"comments":if(!(null===(r=e.data.entity)||void 0===r?void 0:r.entity_type))return;const t=e.data.root_parent&&Object.keys(e.data.root_parent).length,i=e.data.entity.parent?e.data.entity.parent:e.data.entity,S=t?e.data.root_parent:i,k="tasksView=list&page=1&perPage=20&boolean_operator=XOR",b=["lead","deal","company","contact"].includes(null==S?void 0:S.entity_type)?"/crm":"",F=(e=>{if("post"===e.type)return"newsfeed";switch(e.entity_type){case"company":return"companies";case"post":return"newsfeed";default:return"entity_crm"===e.type?`${e.service}/${e.table_name}`:e.type?`${e.type}s`:`${e.entity_type}s`}})(S);return"tasks"===(null===(s=e.data.root_parent)||void 0===s?void 0:s.service)?`${b}/${F}/${null===(o=null===(d=null===(n=e.data)||void 0===n?void 0:n.root_parent)||void 0===d?void 0:d.data)||void 0===o?void 0:o.id}?${k}&comment_id=${null===(c=null===(l=e.data)||void 0===l?void 0:l.entity)||void 0===c?void 0:c.id}`:"news_feed"===(null===(u=e.data.root_parent)||void 0===u?void 0:u.service)?`${b}/${F}/${null===(g=null===(y=null===(p=e.data)||void 0===p?void 0:p.root_parent)||void 0===y?void 0:y.data)||void 0===g?void 0:g.id}?comment_id=${null===(m=null===(v=e.data)||void 0===v?void 0:v.entity)||void 0===m?void 0:m.id}`:`${b}/${F}/${t?null===(f=S.data)||void 0===f?void 0:f.id:S.entity_id}`;default:return`/${"activities"===h?"crm/tasks":h}/${e.data.entity.id}`}},t.getNotificationTitle=(e,a)=>{var s,n,d,o,l,c,u;const p=(0,t.getServiceName)(e.data.service),y=!!(null===(d=null===(n=null===(s=e.data.entity)||void 0===s?void 0:s.mentioned)||void 0===n?void 0:n.users)||void 0===d?void 0:d.includes(a)),g=(e=>{var t,a,i,s,n,d,o;const l=null===(a=null===(t=e.data)||void 0===t?void 0:t.root_parent)||void 0===a?void 0:a.type,c=null===(n=null===(s=null===(i=e.data)||void 0===i?void 0:i.entity)||void 0===s?void 0:s.parent)||void 0===n?void 0:n.entity_type;return"entity_crm"===l?null===(d=e.data)||void 0===d?void 0:d.entity.entity_type:e.data.root_parent&&Object.keys(e.data.root_parent).length?l:c||(u=null===(o=e.data.entity)||void 0===o?void 0:o.entity_type,r.AVAILABLE_ENTITY_TYPES.includes(u)?u:"crm.activity");var u})(e);return(null===(o=e.data.entity)||void 0===o?void 0:o.new_kanban_stage_id)&&(null===(l=e.data.entity)||void 0===l?void 0:l.old_kanban_stage_id)?`notifications.${p}.${(null===(c=e.data.entity)||void 0===c?void 0:c.table_name)||e.type}.${i.NotificationAction.UPDATE_STAGE}`:y?`notifications.${p}.${g}.${e.type}.mentioned.${e.data.action}`:"comments"===p?`notifications.${p}.${g}.${e.type}.${e.data.action}`:`notifications.${p}.${(null===(u=e.data.entity)||void 0===u?void 0:u.table_name)||e.type}.${e.data.action}`},t.deleteHtmlFromComment=e=>{const t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""},t.getNotificationSubTitle=e=>"comments"===(0,t.getServiceName)(e.data.service)?(0,t.deleteHtmlFromComment)(e.data.entity.message):e.data.entity.title,t.transformNotificationMessage=(e,a,i)=>{var r,s,n,d,o,l;const c=a.find((({id:t})=>t===e.data.user_id)),u=new Date(e.data.timestamp).getTime(),p=!!(null===(n=null===(s=null===(r=e.data.entity)||void 0===r?void 0:r.mentioned)||void 0===s?void 0:s.users)||void 0===n?void 0:n.includes(i)),y=null===(l=null===(o=null===(d=e.data)||void 0===d?void 0:d.root_parent)||void 0===o?void 0:o.data)||void 0===l?void 0:l.title;return{id:e.id,title:(0,t.getNotificationTitle)(e,i),subTitle:(0,t.getNotificationSubTitle)(e),date:u,link:(0,t.getLinkEntity)(e),author:c,mentioned:p,commentEntityTitle:y,read:e.read||!1,createdAt:e.createdAt}}},3124:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSeparateCardId=t.normalizeRequisiteCreation=t.normalizeDynamicFields=t.getPluralType=t.getFieldsWithValue=void 0,t.getFieldsWithValue=(e,t)=>Object.entries(t).map((([t,a])=>{const i=e.find((e=>e.code===t));return Object.assign(Object.assign({},i),{value:a})})),t.getPluralType=e=>"company"===e?"companies":`${e}s`,t.normalizeDynamicFields=e=>e.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.code]:t.value||""})),{}),t.normalizeRequisiteCreation=e=>t=>{if(t.cardId===e.cardId){const a=t=>{var a;return(null===(a=e.requisite)||void 0===a?void 0:a.is_basic)?t.map((e=>Object.assign(Object.assign({},e),{is_basic:!1}))):t};return Object.assign(Object.assign({},t),{requisites:[...a(t.requisites),e.requisite]})}return t},t.getSeparateCardId=e=>(null==e?void 0:e.split("_"))||[]},2089:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sortStagesWhenCreateNew=void 0,t.sortStagesWhenCreateNew=(e,t)=>{const a=e.data.filter((e=>"FAIL"===e.stage_code||"SUCCESS"===e.stage_code)).map((e=>Object.assign(Object.assign({},e),{sort:+e.sort+10}))),i=e.data.filter((e=>"FAIL"!==e.stage_code&&"SUCCESS"!==e.stage_code));return i.push(t),[...i.sort(((e,t)=>e.sort-t.sort)),...a]}},5398:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fillTheString=void 0,t.fillTheString=(e,t,a)=>"before"===a?t+e:"after"===a?e+t:e},641:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useMemoizedAppSelector=t.useAppSelector=t.useAppDispatch=void 0;const r=i(a(113)),s=a(6689),n=a(6022);t.useAppDispatch=()=>(0,n.useDispatch)(),t.useAppSelector=n.useSelector,t.useMemoizedAppSelector=e=>{const a=(0,s.useRef)();return(0,t.useAppSelector)((t=>{const i=e(t);return(0,r.default)(a.current,i)?a.current:(a.current=i,i)}))}},3607:function(e,t,a){var i=this&&this.__createBinding||(Object.create?function(e,t,a,i){void 0===i&&(i=a);var r=Object.getOwnPropertyDescriptor(t,a);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,i,r)}:function(e,t,a,i){void 0===i&&(i=a),e[i]=t[a]}),r=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||i(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),r(a(641),t),r(a(8527),t),r(a(1464),t)},3206:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReport=t.updateReport=t.createReport=t.getReport=t.getAnalyticsReportList=void 0;const r=a(5184),s=a(4809);t.getAnalyticsReportList=(0,r.createAsyncThunk)("analytics/getAnalyticsReportList",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.analyticsService.getAnalyticsReportList(e.params,null==e?void 0:e.signal);return null==t?void 0:t.data}catch(a){return e.signal.aborted?{aborted:!0}:t(a)}})))),t.getReport=(0,r.createAsyncThunk)("analytics/getReport",(({id:e},{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.getAnalyticReport(e)).data}catch(e){return t(e)}})))),t.createReport=(0,r.createAsyncThunk)("analytics/createReport",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.createReport(e)).data}catch(e){return t(e)}})))),t.updateReport=(0,r.createAsyncThunk)("analytics/updateReport",(({id:e,body:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.analyticsService.updateReport(e,t)).data}catch(e){return a(e)}})))),t.deleteReport=(0,r.createAsyncThunk)("analytics/deleteReport",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.analyticsService.deleteReport(e),e}catch(e){return t(e)}}))))},2472:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllReport=void 0;const i=a(5184),r=a(3206),s={reports:{data:[],meta:{total:0,page:1}},report:null,loadingReports:!0,loadingReport:!0,errorLoadingReports:null},n=(0,i.createSlice)({name:"analytics",initialState:s,reducers:{clearAllReport:e=>{e.reports=s.reports}},extraReducers:{[r.getAnalyticsReportList.fulfilled.type]:(e,t)=>{e.loadingReports=!1,e.errorLoadingReports=null,e.reports=Object.assign(Object.assign({},e.reports),{data:[...e.reports.data,...t.payload.data],meta:t.payload.meta})},[r.getAnalyticsReportList.pending.type]:e=>{e.loadingReports=!0,e.errorLoadingReports=null},[r.getAnalyticsReportList.rejected.type]:e=>{e.loadingReports=!1,e.errorLoadingReports=null},[r.getReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload},[r.getReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[r.getReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[r.createReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload,e.reports=Object.assign(Object.assign({},e.reports),{data:[t.payload,...e.reports.data],meta:Object.assign(Object.assign({},e.reports.meta),{total:e.reports.meta.total+1,unfiltered_total:e.reports.meta.unfiltered_total+1})})},[r.createReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[r.createReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[r.updateReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=t.payload,e.reports=Object.assign(Object.assign({},e.reports),{data:e.reports.data.map((e=>e.id===t.payload.id?t.payload:e))})},[r.updateReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[r.updateReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload},[r.deleteReport.fulfilled.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=null,e.report=s.report,e.reports=Object.assign(Object.assign({},e.reports),{data:e.reports.data.filter((e=>e.id!==t.payload)),meta:Object.assign(Object.assign({},e.reports.meta),{total:e.reports.meta.total-1,unfiltered_total:e.reports.meta.unfiltered_total-1})})},[r.deleteReport.pending.type]:e=>{e.loadingReport=!0,e.errorLoadingReports=null},[r.deleteReport.rejected.type]:(e,t)=>{e.loadingReport=!1,e.errorLoadingReports=t.payload}}});t.clearAllReport=n.actions.clearAllReport,t.default=n.reducer},9727:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAnnouncers=void 0;const r=a(5184),s=a(4809);t.fetchAnnouncers=(0,r.createAsyncThunk)("announcers/fetchAnnouncers",(({populateParams:e,locale:t,apiPoint:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.announcersService.getAnnouncers(e,t,a)).data}catch(e){return r.rejectWithValue("Failure")}}))))},8580:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setBannerExists=t.announcersSlice=void 0;const i=a(5184),r=a(9727);t.announcersSlice=(0,i.createSlice)({name:"announcersReducer",initialState:{loadingAnnouncers:!1,errorLoading:!1,isBannerExists:!1,notifications:[],widgets:[],banner:null,popup:[],meta:{pagination:{page:0,pageSize:0,pageCount:0,total:0}}},reducers:{setBannerExists:(e,t)=>{e.isBannerExists=t.payload}},extraReducers:{[r.fetchAnnouncers.fulfilled.type]:(e,t)=>{e.loadingAnnouncers=!1,e.errorLoading=null,e.banner=t.payload.data.banner,e.notifications=t.payload.data.notifications,e.widgets=t.payload.data.widgets,e.popup=t.payload.data.popup,e.meta=t.payload.meta},[r.fetchAnnouncers.pending.type]:e=>{e.loadingAnnouncers=!0,e.errorLoading=null},[r.fetchAnnouncers.rejected.type]:e=>{e.loadingAnnouncers=!1,e.errorLoading=!0}}}),t.setBannerExists=t.announcersSlice.actions.setBannerExists,t.default=t.announcersSlice.reducer},4628:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchAppById=t.fetchApps=void 0;const r=a(5184),s=a(4809);t.fetchApps=(0,r.createAsyncThunk)("apps/fetchApps",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.appsService.getApps(e.page,(null==e?void 0:e.lng)||"uk",12)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchAppById=(0,r.createAsyncThunk)("apps/fetchAppById",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.appsService.getApp(e.id,(null==e?void 0:e.lng)||"uk")).data}catch(e){return t.rejectWithValue(e)}}))))},3980:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearApp=t.fillApp=t.handlerInstallAppForList=t.handlerInstallApp=t.clearApps=void 0;const r=a(5184),s=a(4628),n={data:[],meta:{},allApps:[],app:{},error:null,loading:!0},d=(0,r.createSlice)({name:"apps",initialState:n,reducers:{clearApps:e=>{e.allApps=n.allApps},clearApp:e=>{e.app=n.app,e.error=n.error},fillApp:(e,t)=>{e.app=t.payload,e.loading=!1},handlerInstallAppForList:(e,t)=>{e.allApps=e.allApps.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{installed:t.payload.status}):e))},handlerInstallApp:(e,t)=>{e.app=e.app.id===t.payload.id?Object.assign(Object.assign({},e.app),{installed:t.payload.status}):e.app}},extraReducers:{[s.fetchApps.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.data=t.payload.data,e.meta=t.payload.meta,e.allApps=e.allApps.concat(t.payload.data)},[s.fetchApps.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchApps.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload},[s.fetchAppById.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.app=t.payload},[s.fetchAppById.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchAppById.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});i=d.actions,t.clearApps=i.clearApps,t.handlerInstallApp=i.handlerInstallApp,t.handlerInstallAppForList=i.handlerInstallAppForList,t.fillApp=i.fillApp,t.clearApp=i.clearApp,t.default=d.reducer},1193:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.downgradeTariff=t.disableSubscriptionRenewal=t.activatingDemo=t.createSubscriptionLegal=t.createSubscriptionInvdividual=t.getPortalSubscription=t.getTariffsList=t.getUrlToRedirectAfterOAuth=t.downgrade=t.disableSubscriptionsRenewal=t.createUsingPaymentIntent=t.createPaymentIntent=t.activateDemo=t.subscriptionsLegal=t.subscriptionsIndividual=t.fetchCoupon=t.fetchSubscription=t.fetchRatesList=t.fetchInvoicesPdf=t.fetchInvoices=void 0;const r=a(5184),s=a(4809);t.fetchInvoices=(0,r.createAsyncThunk)("auth/fetchInvoices",(({limit:e},{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getInvoices(e)).data}catch(e){return t(e)}})))),t.fetchInvoicesPdf=(0,r.createAsyncThunk)("auth/fetchInvoicesPdf",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getInvoicesPdf(e)).data}catch(e){return t(e)}})))),t.fetchRatesList=(0,r.createAsyncThunk)("auth/fetchRatesList",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getRatesList()).data}catch(e){return t(e)}})))),t.fetchSubscription=(0,r.createAsyncThunk)("auth/fetchSubscription",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getSubscription()).data}catch(e){return t(e)}})))),t.fetchCoupon=(0,r.createAsyncThunk)("auth/fetchCoupon",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getCoupon(encodeURIComponent(e))).data}catch(e){return t(e)}})))),t.subscriptionsIndividual=(0,r.createAsyncThunk)("auth/subscriptionsIndividual",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.subscriptionInvdividual(e)).data}catch(e){return t(e)}})))),t.subscriptionsLegal=(0,r.createAsyncThunk)("auth/subscriptionsLegal",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.subscriptionLegal(e)).data}catch(e){return t(e)}})))),t.activateDemo=(0,r.createAsyncThunk)("auth/activateDemo",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.activateDemo()).data}catch(e){return t(e)}})))),t.createPaymentIntent=(0,r.createAsyncThunk)("auth/createPaymentIntent",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createPaymentIntent(e)).data}catch(e){return t(e)}})))),t.createUsingPaymentIntent=(0,r.createAsyncThunk)("auth/createUsingPaymentIntent",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createUsingPaymentIntent(e)).data}catch(e){return t(e)}})))),t.disableSubscriptionsRenewal=(0,r.createAsyncThunk)("auth/disableSubscriptionsRenewal",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.authService.disableSubscriptionsRenewal(e),e}catch(e){return t(e)}})))),t.downgrade=(0,r.createAsyncThunk)("auth/downgrade",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.downgrade(e)).data}catch(e){return t(e)}})))),t.getUrlToRedirectAfterOAuth=(0,r.createAsyncThunk)("auth/getUrlToRedirectAfterOAuth",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getUrlToRedirectAfterOAuth(e)).data}catch(e){return t(e)}})))),t.getTariffsList=(0,r.createAsyncThunk)("auth/getTariffsList",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getTariffsList()).data}catch(e){return t(e)}})))),t.getPortalSubscription=(0,r.createAsyncThunk)("auth/getPortalSubscription",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.getPortalSubscription()).data}catch(e){return t(e)}})))),t.createSubscriptionInvdividual=(0,r.createAsyncThunk)("auth/createSubscriptionInvdividual",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createSubscriptionInvdividual(e)).data}catch(e){return t(e)}})))),t.createSubscriptionLegal=(0,r.createAsyncThunk)("auth/createSubscriptionLegal",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.createSubscriptionLegal(e)).data}catch(e){return t(e)}})))),t.activatingDemo=(0,r.createAsyncThunk)("auth/activatingDemo",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.activatingDemo()).data}catch(e){return t(e)}})))),t.disableSubscriptionRenewal=(0,r.createAsyncThunk)("auth/disableSubscriptionRenewal",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.disableSubscriptionRenewal()).data}catch(e){return t(e)}})))),t.downgradeTariff=(0,r.createAsyncThunk)("auth/downgradeTariff",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.authService.downgradeTariff(e)).data}catch(e){return t(e)}}))))},5891:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setPortalSubscription=t.setAutoRenewal=t.clearBill=t.setAfterGoogleOAuthData=t.setAutoDebit=t.clearCoupon=t.clearIntent=t.setActiveSubscription=t.setSubscription=t.clearInvoice=t.clearPdfLink=void 0;const r=a(5184),s=a(3970),n=a(1193),d={invoices:{},invoice:{},ratesList:{},subscription:[],coupon:{},intent:{},afterGoogleOAuthData:{},downloadPdfLink:"",loadingInvoices:!1,loadingPdfLink:!1,loadingRatesList:!1,loadingSubscription:!1,loadingSubscriptionItem:!1,loadingCoupon:!1,loadingPaymentIntent:!1,loadingSubscriptionRenewal:!1,loadingActivateDemo:!1,loadingDowngrade:!1,loadingAfterGoogleOAuth:!1,errorLoadingInvoices:null,errorLoadingPdfLink:null,errorLoadingRatesList:null,errorloadingSubscription:null,errorloadingSubscriptionItem:null,errorLoadingCoupon:null,errorLoadingPaymentIntent:null,errorLoadingSubscriptionRenewal:null,errorActivateDemo:null,errorLoadingDowngrade:null,errorLoadingUsingPaymentIntent:null,tariffs:[],portalSubsctription:null,bill:null,loadingTariffs:!1,loadingPortalSubsctription:!1,loadingCreatingSubscription:!1,loadingActivatingDemo:!1,loadingDisablingRenewal:!1,loadingDowngradeTariff:!1,errorLoadingTariffs:null,errorLoadingPortalSubsctription:null,errorLoadingCreatingSubscription:null,errorLoadingActivatingDemo:null,errorLoadingDisablingRenewal:null,errorLoadingDowngradeTariff:null},o=(0,r.createSlice)({name:"authReducer",initialState:d,reducers:{clearPdfLink:e=>{e.downloadPdfLink=""},clearInvoice:e=>{e.invoice={}},clearIntent:e=>{e.intent={}},clearCoupon:e=>{e.coupon={}},setSubscription:(e,t)=>{e.subscription=t.payload},setActiveSubscription:(e,t)=>{e.activeSubscription=t.payload},setAutoDebit:(e,t)=>{e.activeSubscription.auto_debit=t.payload},setAfterGoogleOAuthData:(e,t)=>{e.afterGoogleOAuthData=t.payload},clearBill:e=>{e.bill=d.bill},setPortalSubscription:(e,t)=>{e.portalSubsctription=t.payload},setAutoRenewal:(e,t)=>{e.portalSubsctription.auto_renewal=t.payload}},extraReducers:{[n.fetchInvoices.fulfilled.type]:(e,t)=>{e.loadingInvoices=!1,e.errorLoadingInvoices=null,e.invoices=t.payload},[n.fetchInvoices.pending.type]:e=>{e.loadingInvoices=!0,e.errorLoadingInvoices=null},[n.fetchInvoices.rejected.type]:(e,t)=>{e.loadingInvoices=!1,e.errorLoadingInvoices=t.payload},[n.fetchInvoicesPdf.fulfilled.type]:(e,t)=>{e.loadingPdfLink=!1,e.errorLoadingPdfLink=null,e.downloadPdfLink=t.payload.download_url},[n.fetchInvoicesPdf.pending.type]:e=>{e.loadingPdfLink=!0,e.errorLoadingPdfLink=null},[n.fetchInvoicesPdf.rejected.type]:(e,t)=>{e.loadingPdfLink=!1,e.errorLoadingPdfLink=t.payload},[n.fetchRatesList.fulfilled.type]:(e,t)=>{e.loadingRatesList=!1,e.errorLoadingRatesList=null,e.ratesList=t.payload},[n.fetchRatesList.pending.type]:e=>{e.loadingRatesList=!0,e.errorLoadingRatesList=null},[n.fetchRatesList.rejected.type]:(e,t)=>{e.loadingRatesList=!1,e.errorLoadingRatesList=t.payload},[n.fetchSubscription.fulfilled.type]:(e,t)=>{e.loadingSubscriptionItem=!1,e.errorloadingSubscriptionItem=null,e.subscription=t.payload,e.activeSubscription=t.payload.filter((({status:e})=>"active"===e||"non_renewing"===e))[0]},[n.fetchSubscription.pending.type]:e=>{e.loadingSubscriptionItem=!0,e.errorloadingSubscriptionItem=null},[n.fetchRatesList.rejected.type]:(e,t)=>{e.loadingSubscriptionItem=!1,e.errorloadingSubscriptionItem=t.payload},[n.fetchCoupon.fulfilled.type]:(e,t)=>{e.loadingCoupon=!1,e.errorLoadingCoupon=null,e.coupon=t.payload},[n.fetchCoupon.pending.type]:e=>{e.loadingCoupon=!0,e.errorLoadingCoupon=null},[n.fetchCoupon.rejected.type]:(e,t)=>{e.loadingCoupon=!1,e.errorLoadingCoupon=t.payload},[n.subscriptionsIndividual.fulfilled.type]:(e,t)=>{e.loadingSubscription=!1,e.errorloadingSubscription=null,e.invoice=t.payload,e.invoices.data&&e.invoices.data.invoices.unshift(t.payload)},[n.subscriptionsIndividual.pending.type]:e=>{e.loadingSubscription=!0,e.errorloadingSubscription=null},[n.subscriptionsIndividual.rejected.type]:(e,t)=>{e.loadingSubscription=!1,e.errorloadingSubscription=t.payload},[n.subscriptionsLegal.fulfilled.type]:(e,t)=>{e.loadingSubscription=!1,e.errorloadingSubscription=null,e.invoice=t.payload,e.invoices.data&&e.invoices.data.invoices.unshift(t.payload)},[n.subscriptionsLegal.pending.type]:e=>{e.loadingSubscription=!0,e.errorloadingSubscription=null},[n.subscriptionsLegal.rejected.type]:(e,t)=>{e.loadingSubscription=!1,e.errorloadingSubscription=t.payload},[n.activateDemo.fulfilled.type]:(e,t)=>{e.loadingActivateDemo=!1,e.errorActivateDemo=null,e.activeSubscription=t.payload,e.activeSubscription.current_term_end=t.payload.current_term_end+1123200},[n.activateDemo.pending.type]:e=>{e.loadingActivateDemo=!0,e.errorActivateDemo=null},[n.activateDemo.rejected.type]:(e,t)=>{e.loadingActivateDemo=!1,e.errorActivateDemo=t.payload},[n.createPaymentIntent.fulfilled.type]:(e,t)=>{e.loadingPaymentIntent=!1,e.errorLoadingPaymentIntent=null,e.intent=t.payload},[n.createPaymentIntent.pending.type]:e=>{e.loadingPaymentIntent=!0,e.errorLoadingPaymentIntent=null},[n.createPaymentIntent.rejected.type]:(e,t)=>{e.loadingPaymentIntent=!1,e.errorLoadingPaymentIntent=t.payload},[n.createUsingPaymentIntent.fulfilled.type]:e=>{e.loadingUsingPaymentIntent=!1,e.errorLoadingUsingPaymentIntent=null},[n.createUsingPaymentIntent.pending.type]:e=>{e.loadingUsingPaymentIntent=!0,e.errorLoadingUsingPaymentIntent=null},[n.createUsingPaymentIntent.rejected.type]:(e,t)=>{e.loadingUsingPaymentIntent=!1,e.errorLoadingUsingPaymentIntent=t.payload},[n.disableSubscriptionsRenewal.fulfilled.type]:(e,t)=>{e.loadingSubscriptionRenewal=!1,e.errorLoadingSubscriptionRenewal=null,e.activeSubscription.auto_debit=t.payload},[n.disableSubscriptionsRenewal.pending.type]:e=>{e.loadingSubscriptionRenewal=!0,e.errorLoadingSubscriptionRenewal=null},[n.disableSubscriptionsRenewal.rejected.type]:(e,t)=>{e.loadingSubscriptionRenewal=!1,e.errorLoadingSubscriptionRenewal=t.payload},[n.downgrade.fulfilled.type]:e=>{e.loadingDowngrade=!1,e.errorLoadingDowngrade=null},[n.downgrade.pending.type]:e=>{e.loadingDowngrade=!0,e.errorLoadingDowngrade=null},[n.downgrade.rejected.type]:(e,t)=>{e.loadingDowngrade=!1,e.errorLoadingDowngrade=t.payload},[n.getUrlToRedirectAfterOAuth.fulfilled.type]:(e,t)=>{e.loadingAfterGoogleOAuth=!1,e.errorLoadingAfterGoogleOAuth=null,e.afterGoogleOAuthData=t.payload},[n.getUrlToRedirectAfterOAuth.pending.type]:e=>{e.loadingAfterGoogleOAuth=!0,e.errorLoadingAfterGoogleOAuth=null},[n.getUrlToRedirectAfterOAuth.rejected.type]:(e,t)=>{e.loadingAfterGoogleOAuth=!1,e.errorLoadingAfterGoogleOAuth=t.payload},[n.getTariffsList.fulfilled.type]:(e,t)=>{e.loadingTariffs=!1,e.errorLoadingTariffs=null,e.tariffs=t.payload},[n.getTariffsList.pending.type]:e=>{e.loadingTariffs=!0,e.errorLoadingTariffs=null},[n.getTariffsList.rejected.type]:(e,t)=>{e.loadingTariffs=!1,e.errorLoadingTariffs=t.payload},[n.getPortalSubscription.fulfilled.type]:(e,t)=>{e.loadingPortalSubsctription=!1,e.errorLoadingPortalSubsctription=null,e.portalSubsctription=t.payload},[n.getPortalSubscription.pending.type]:e=>{e.loadingPortalSubsctription=!0,e.errorLoadingPortalSubsctription=null},[n.getPortalSubscription.rejected.type]:(e,t)=>{e.loadingPortalSubsctription=!1,e.errorLoadingPortalSubsctription=t.payload},[n.createSubscriptionInvdividual.fulfilled.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=null,e.bill=t.payload},[n.createSubscriptionInvdividual.pending.type]:e=>{e.loadingCreatingSubscription=!0,e.errorLoadingCreatingSubscription=null},[n.createSubscriptionInvdividual.rejected.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=t.payload},[n.createSubscriptionLegal.fulfilled.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=null,e.bill=t.payload},[n.createSubscriptionLegal.pending.type]:e=>{e.loadingCreatingSubscription=!0,e.errorLoadingCreatingSubscription=null},[n.createSubscriptionLegal.rejected.type]:(e,t)=>{e.loadingCreatingSubscription=!1,e.errorLoadingCreatingSubscription=t.payload},[n.activatingDemo.fulfilled.type]:e=>{e.loadingActivatingDemo=!1,e.errorLoadingActivatingDemo=null,e.portalSubsctription=Object.assign(Object.assign({},e.portalSubsctription),{plan_title:"demo",plan:"demo",plan_end:e.portalSubsctription.plan_end+s.TWO_WEEK_TIME_VALUE,demo_activation:!0})},[n.activatingDemo.pending.type]:e=>{e.loadingActivatingDemo=!0,e.errorLoadingActivatingDemo=null},[n.activatingDemo.rejected.type]:(e,t)=>{e.loadingActivatingDemo=!1,e.errorLoadingActivatingDemo=t.payload},[n.disableSubscriptionRenewal.fulfilled.type]:e=>{e.loadingDisablingRenewal=!1,e.errorLoadingDisablingRenewal=null},[n.disableSubscriptionRenewal.pending.type]:e=>{e.loadingDisablingRenewal=!0,e.errorLoadingDisablingRenewal=null},[n.disableSubscriptionRenewal.rejected.type]:(e,t)=>{e.loadingDisablingRenewal=!1,e.errorLoadingDisablingRenewal=t.payload},[n.downgradeTariff.fulfilled.type]:(e,t)=>{e.loadingDowngradeTariff=!1,e.errorLoadingDowngradeTariff=null,e.portalSubsctription=t.payload},[n.downgradeTariff.pending.type]:e=>{e.loadingDowngradeTariff=!0,e.errorLoadingDowngradeTariff=null},[n.downgradeTariff.rejected.type]:(e,t)=>{e.loadingDowngradeTariff=!1,e.errorLoadingDowngradeTariff=t.payload}}});i=o.actions,t.clearPdfLink=i.clearPdfLink,t.clearInvoice=i.clearInvoice,t.setSubscription=i.setSubscription,t.setActiveSubscription=i.setActiveSubscription,t.clearIntent=i.clearIntent,t.clearCoupon=i.clearCoupon,t.setAutoDebit=i.setAutoDebit,t.setAfterGoogleOAuthData=i.setAfterGoogleOAuthData,t.clearBill=i.clearBill,t.setAutoRenewal=i.setAutoRenewal,t.setPortalSubscription=i.setPortalSubscription,t.default=o.reducer},277:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toggleAutomation=t.deleteAutomation=t.fetchAutomations=void 0;const r=a(5184),s=a(4809);t.fetchAutomations=(0,r.createAsyncThunk)("automations/fetchAutomations",(({page:e,list:t,search:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.automationsService.getAutomations(e,t,a)).data}catch(e){return r.rejectWithValue("Failure")}})))),t.deleteAutomation=(0,r.createAsyncThunk)("automations/deleteAutomations",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.automationsService.deleteAutomation(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.toggleAutomation=(0,r.createAsyncThunk)("automations/toggleAutomation",(({id:e,body:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.automationsService.toggleAutomation(e,t),e}catch(e){return a.rejectWithValue("Failure")}}))))},5428:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.addAutomationToStartTable=t.toggleActiveAutomation=t.addAutomationToEndTable=void 0;const r=a(5184),s=a(277),n=(0,r.createSlice)({name:"automationsReducer",initialState:{automations:{data:[],meta:{}},automation:{},loadingAutomations:!1,errorLoadingAutomations:null},reducers:{addAutomationToEndTable:(e,t)=>{e.automations.data.push(t.payload)},toggleActiveAutomation:(e,t)=>{e.automations.data=e.automations.data.map((e=>e.portal_id===t.payload?Object.assign(Object.assign({},e),{active:!e.active}):e))},addAutomationToStartTable:(e,t)=>{e.automations.data=[t.payload,...e.automations.data],e.automations.meta.total=e.automations.meta.total+1}},extraReducers:{[s.fetchAutomations.fulfilled.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null,e.automations.data=t.payload.data,e.automations.meta=t.payload.meta},[s.fetchAutomations.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.fetchAutomations.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload},[s.deleteAutomation.fulfilled.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null,e.automations.data=e.automations.data.filter((e=>e.portal_id!==t.payload)),e.automations.meta.total=e.automations.meta.total-1},[s.deleteAutomation.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.deleteAutomation.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload},[s.toggleAutomation.fulfilled.type]:e=>{e.loadingAutomations=!1,e.errorLoadingAutomations=null},[s.toggleAutomation.pending.type]:e=>{e.loadingAutomations=!0,e.errorLoadingAutomations=null},[s.toggleAutomation.rejected.type]:(e,t)=>{e.loadingAutomations=!1,e.errorLoadingAutomations=t.payload}}});i=n.actions,t.addAutomationToEndTable=i.addAutomationToEndTable,t.toggleActiveAutomation=i.toggleActiveAutomation,t.addAutomationToStartTable=i.addAutomationToStartTable,t.default=n.reducer},6326:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=void 0;const i=(0,a(5184).createSlice)({name:"crm/cardBlocks",initialState:{},reducers:{setCardBlocks:(e,t)=>{const{entityCode:a}=t.payload;e[a]||(e[a]={data:[]}),e[a].data=t.payload.data}},extraReducers:{}});t.setCardBlocks=i.actions.setCardBlocks,t.default=i.reducer},6163:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCategory=t.updateCategory=t.createCategory=t.fetchCategories=void 0;const r=a(5184),s=a(4809);t.fetchCategories=(0,r.createAsyncThunk)("crm/categories/fetchCategories",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===e?void 0:e.getProductCategories();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCategory=(0,r.createAsyncThunk)("crm/categories/createCategory",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.createProductCategory(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCategory=(0,r.createAsyncThunk)("crm/categories/updateCategory",(({category:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.updateProductCategory(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCategory=(0,r.createAsyncThunk)("crm/categories/deleteCategory",(({id:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.deleteProductCategory(e),e}catch(e){return t.rejectWithValue(e)}}))))},7350:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(6163),s={data:[],loading:!1},n=(0,i.createSlice)({name:"categoriesReducer",initialState:{},reducers:{},extraReducers:{[r.fetchCategories.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=t.payload.data},[r.fetchCategories.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},s)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[r.fetchCategories.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[r.createCategory.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=[...e[t.meta.arg.entityCode].data,t.payload]},[r.createCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=s),e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0},[r.createCategory.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[r.updateCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.category.id?Object.assign(Object.assign({},e),t.meta.arg.category):e))},[r.deleteCategory.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))}}});n.actions,t.default=n.reducer},4627:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateDependenciesLists=t.deleteDependenciesList=t.createDependenciesList=t.fetchDependenciesLists=void 0;const r=a(5184),s=a(4809);t.fetchDependenciesLists=(0,r.createAsyncThunk)("crm/dependencies/fetchDependenciesLists",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.getDependenciesLists(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDependenciesList=(0,r.createAsyncThunk)("crm/dependencies/createDependenciesList",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.createOrUpdateDependencies(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDependenciesList=(0,r.createAsyncThunk)("crm/dependencies/deleteDependenciesList",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.deleteDependenciesLists(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateDependenciesLists=(0,r.createAsyncThunk)("crm/dependencies/updateDependenciesLists",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield s.uspacySdk.crmEntitiesService.createOrUpdateDependencies(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue(e)}}))))},9957:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearEntityDependenciesLists=void 0;const i=a(5184),r=a(4627),s=(0,i.createSlice)({name:"crm/dependencies",initialState:{},reducers:{clearEntityDependenciesLists:(e,t)=>{e[t.payload]=void 0}},extraReducers:{[r.fetchDependenciesLists.fulfilled.type]:(e,t)=>{const a=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage="",e[a].data=t.payload)},[r.fetchDependenciesLists.pending.type]:(e,t)=>{var a;const i=t.meta.arg;null!==(a=e[i])&&void 0!==a||(e[i]={loading:!0,data:[],errorMessage:""}),e[i].loading=!0,e[i].errorMessage=""},[r.fetchDependenciesLists.rejected.type]:(e,t)=>{const a=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)},[r.createDependenciesList.fulfilled.type]:(e,t)=>{var a;e[t.meta.arg.entityCode].loadingItem=!1,e[t.meta.arg.entityCode].errorMessage="";const i=t.meta.arg.entityCode;e[i].data=[...(null===(a=e[i])||void 0===a?void 0:a.data)||[],t.payload]},[r.createDependenciesList.pending.type]:(e,t)=>{var a;const i=t.meta.arg.entityCode;null!==(a=e[i])&&void 0!==a||(e[i]={loading:!1,data:[],errorMessage:"",loadingItem:!0}),e[t.meta.arg.entityCode].loadingItem=!0,e[t.meta.arg.entityCode].errorMessage=""},[r.createDependenciesList.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loadingItem=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[r.updateDependenciesLists.pending.type]:(e,t)=>{var a,i,r,s;const n=null===(a=t.meta.arg)||void 0===a?void 0:a.entityCode,d=null===(i=t.meta.arg)||void 0===i?void 0:i.data;e[n].data=null===(s=null===(r=e[n])||void 0===r?void 0:r.data)||void 0===s?void 0:s.map((e=>(null==e?void 0:e.id)===(null==d?void 0:d.id)?Object.assign(Object.assign({},e),d):e))},[r.deleteDependenciesList.pending.type]:(e,t)=>{var a;const i=null===(a=t.meta.arg)||void 0===a?void 0:a.id;e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==i))}}});t.clearEntityDependenciesLists=s.actions.clearEntityDependenciesLists,t.default=s.reducer},4413:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateEntity=t.deleteEntity=t.createEntity=t.fetchEntitiesWithFunnels=t.fetchEntities=void 0;const r=a(5184),s=a(4809);t.fetchEntities=(0,r.createAsyncThunk)("crm/entities/fetchEntities",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.crmEntitiesService.getEntities();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.fetchEntitiesWithFunnels=(0,r.createAsyncThunk)("crm/entities/fetchEntitiesWithFunnels",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.crmEntitiesService.getEntitiesWithFunnels();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.createEntity=(0,r.createAsyncThunk)("crm/entities/createEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.createEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteEntity=(0,r.createAsyncThunk)("crm/entities/deleteEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.crmEntitiesService.deleteEntity(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.updateEntity=(0,r.createAsyncThunk)("crm/entities/updateEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.crmEntitiesService.updateEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}}))))},1721:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(3970),s=a(4413),n=(0,i.createSlice)({name:"crm/entities",initialState:{loading:!0},reducers:{},extraReducers:{[s.fetchEntities.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,t.payload.data=[...t.payload.data,...r.staticEntities],e.items=t.payload},[s.fetchEntities.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.fetchEntities.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.fetchEntitiesWithFunnels.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,t.payload.data=[...t.payload.data,...r.staticEntities],e.itemsWithFunnels=t.payload},[s.fetchEntitiesWithFunnels.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.fetchEntitiesWithFunnels.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.updateEntity.fulfilled.type]:(e,t)=>{e.items.data=e.items.data.map((e=>e.id===t.meta.arg.id?Object.assign(Object.assign({},e),t.payload):e))},[s.deleteEntity.fulfilled.type]:(e,t)=>{e.items.data=e.items.data.filter((e=>e.id!==t.meta.arg))},[s.createEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[s.createEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.createEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.items.data=[...e.items.data,t.payload],e.errorMessage=null}}});n.actions,t.default=n.reducer},2563:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteListValue=t.updateListValues=t.updateField=t.deleteField=t.createField=t.fetchFields=void 0;const s=a(5184),n=a(4809);t.fetchFields=(0,s.createAsyncThunk)("crm/fields/fetchFields",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.crmEntitiesService.getEntityFields(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createField=(0,s.createAsyncThunk)("crm/fields/createField",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityField(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteField=(0,s.createAsyncThunk)("crm/fields/deleteField",(({fieldCode:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityField(t,e)}catch(e){return a.rejectWithValue("Failure")}})))),t.updateField=(0,s.createAsyncThunk)("crm/fields/updateField",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{code:a}=e,i=r(e,["code"]),s=yield n.uspacySdk.crmEntitiesService.updateEntityField(t,a,i);return null==s?void 0:s.data}catch(e){return a.rejectWithValue(e)}})))),t.updateListValues=(0,s.createAsyncThunk)("crm/fields/updateListValues",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{code:a,values:i}=e,r=yield n.uspacySdk.crmEntitiesService.updateEntityListValues(t,a,i);return null==r?void 0:r.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteListValue=(0,s.createAsyncThunk)("crm/fields/deleteListValue",(({fieldCode:e,value:t,entityCode:a},r)=>i(void 0,void 0,void 0,(function*(){try{const i=yield n.uspacySdk.crmEntitiesService.deleteEntityListValues(a,e,t);return null==i?void 0:i.data}catch(e){return r.rejectWithValue("Failure")}}))))},2238:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.clearEntityFields=void 0;const r=a(5184),s=i(a(9591)),n=a(3970),d=a(7109),o=a(2563),l=(0,r.createSlice)({name:"crm/fields",initialState:{},reducers:{clearEntityFields:(e,t)=>{e[t.payload]=void 0}},extraReducers:{[o.fetchFields.fulfilled.type]:(e,t)=>{const a=t.meta.arg;e[a].loading=!1;let i=t.payload.data;if(i.splice(0,0,n.idColumnField),"deals"===a&&i.splice(0,0,n.taskField),"calls"===a)i.splice(0,0,...n.fieldForCalls);else if(!["contacts","companies"].includes(a)){const e=i.findIndex((e=>"title"===e.code));i.splice(e?e+1:2,0,n.stageField)}"products"===a&&(i=(0,d.normalizeProductFields)(t.payload,d.defaultDataColumns)),["companies","contacts"].includes(a)&&i.splice(3,0,n.requisiteField),"tasks"===a&&i.splice(0,0,...n.fieldsForTasks),e[a].data=(0,s.default)(i).map((e=>{var t;return Object.assign(Object.assign({},e),{values:Array.isArray(e.values)?null===(t=e.values)||void 0===t?void 0:t.sort(((e,t)=>e.sort-t.sort)):e.values})})),e[a].meta=t.payload.meta},[o.fetchFields.pending.type]:(e,t)=>{var a;const i=t.meta.arg;null!==(a=e[i])&&void 0!==a||(e[i]={loading:!0,data:[]}),e[i].loading=!0,e[i].errorMessage=null},[o.fetchFields.rejected.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=t.payload},[o.createField.pending.type]:(e,t)=>{var a;const i=t.meta.arg.entityCode;null!==(a=e[i])&&void 0!==a||(e[i]={loading:!0,data:[]}),e[i].data.push(t.meta.arg.data)},[o.updateField.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.data.code?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[o.deleteField.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.code!==t.meta.arg.fieldCode))},[o.updateListValues.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.data.code?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[o.deleteListValue.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.code===t.meta.arg.fieldCode?Object.assign(Object.assign({},e),{values:e.values.filter((({value:e})=>e!==t.meta.arg.value))}):e))}}});t.clearEntityFields=l.actions.clearEntityFields,t.default=l.reducer},2159:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.updateCurrentFilterFields=t.setCurrentFilterPreset=t.unpinFilterPreset=t.pinFilterPreset=t.updateCurrentFilters=t.updateCurrentPresetFilters=t.updateFilterPreset=t.deleteFilterPreset=t.createFilterPreset=t.setFilterPresets=t.sortPresets=void 0;const r=a(5184);t.sortPresets=e=>e.sort(((e,t)=>e.pinned?-1:t.pinned?1:0));const s=(0,r.createSlice)({name:"crm/filters",initialState:{},reducers:{setFilterPresets:(e,a)=>{e[a.payload.entityCode]||(e[a.payload.entityCode]={presets:[]});const i=(0,t.sortPresets)(a.payload.data),r=i.find((e=>e.current));e[a.payload.entityCode]={presets:i,filters:Object.assign(Object.assign({},null==r?void 0:r.filters),a.payload.filtersFromSearchParams),filterFields:a.payload.filterFields}},createFilterPreset:(e,a)=>{const i=(0,t.sortPresets)([...e[a.payload.entityCode].presets.map((e=>Object.assign(Object.assign({},e),{current:!1,pinned:!1}))),a.payload.data]),r=i.find((e=>e.current));e[a.payload.entityCode]={presets:i,filters:null==r?void 0:r.filters,filterFields:null==r?void 0:r.filterFields}},deleteFilterPreset:(e,t)=>{var a;let i=null===(a=e[t.payload.entityCode])||void 0===a?void 0:a.presets.filter((e=>e.id!==t.payload.presetId||e.default)),r=!1;if((null==i?void 0:i.find((e=>e.pinned)))||(i=i.map((e=>e.default?(r=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0})):e))),e[t.payload.entityCode].presets=i,r){const a=i.find((e=>e.current));e[t.payload.entityCode].filters=null==a?void 0:a.filters}},updateFilterPreset:(e,t)=>{var a;e[t.payload.entityCode].presets=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.data.id?Object.assign(Object.assign({},e),t.payload.data):e))},pinFilterPreset:(e,a)=>{var i;let r=!1;const s=null===(i=e[a.payload.entityCode].presets)||void 0===i?void 0:i.map((e=>e.id!==a.payload.presetId||e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):(r=!0,Object.assign(Object.assign({},e),{pinned:!0,current:!0}))));if(e[a.payload.entityCode].presets=(0,t.sortPresets)(s),r){const t=s.find((e=>e.current));e[a.payload.entityCode].filters=null==t?void 0:t.filters}},unpinFilterPreset:(e,a)=>{var i;const r=null===(i=e[a.payload.entityCode].presets)||void 0===i?void 0:i.map((e=>e.id===a.payload.presetId&&e.pinned?Object.assign(Object.assign({},e),{pinned:!1}):e.default&&!e.pinned?Object.assign(Object.assign({},e),{pinned:!0,current:!0}):e));e[a.payload.entityCode].presets=(0,t.sortPresets)(r);const s=r.find((e=>e.current));e[a.payload.entityCode].filters=null==s?void 0:s.filters},setCurrentFilterPreset:(e,t)=>{var a;let i=!1;const r=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.id===t.payload.presetId?(i=!0,Object.assign(Object.assign({},e),{current:!0})):Object.assign(Object.assign({},e),{current:!1})));if(e[t.payload.entityCode].presets=r,i){const a=r.find((e=>e.current));e[t.payload.entityCode].filters=null==a?void 0:a.filters}},updateCurrentPresetFilters:(e,t)=>{var a,i;e[t.payload.entityCode].presets=null===(a=e[t.payload.entityCode].presets)||void 0===a?void 0:a.map((e=>e.current?Object.assign(Object.assign({},e),{filters:Object.assign(Object.assign({},e.filters),t.payload.filters)}):e)),e[t.payload.entityCode].filters=Object.assign(Object.assign({},null===(i=e[t.payload.entityCode])||void 0===i?void 0:i.filters),t.payload.filters)},updateCurrentFilters:(e,t)=>{var a;e[t.payload.entityCode].filters=Object.assign(Object.assign({},null===(a=e[t.payload.entityCode])||void 0===a?void 0:a.filters),t.payload.filters)},updateCurrentFilterFields:(e,t)=>{e[t.payload.entityCode].filterFields=t.payload.filterFields}}});i=s.actions,t.setFilterPresets=i.setFilterPresets,t.createFilterPreset=i.createFilterPreset,t.deleteFilterPreset=i.deleteFilterPreset,t.updateFilterPreset=i.updateFilterPreset,t.updateCurrentPresetFilters=i.updateCurrentPresetFilters,t.updateCurrentFilters=i.updateCurrentFilters,t.pinFilterPreset=i.pinFilterPreset,t.unpinFilterPreset=i.unpinFilterPreset,t.setCurrentFilterPreset=i.setCurrentFilterPreset,t.updateCurrentFilterFields=i.updateCurrentFilterFields,t.default=s.reducer},7685:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReason=t.updateReason=t.createReason=t.deleteStage=t.updateStage=t.createStage=t.deleteFunnel=t.updateFunnel=t.createFunnel=t.fetchStages=t.fetchFunnels=void 0;const s=a(5184),n=a(4809);t.fetchFunnels=(0,s.createAsyncThunk)("crm/funnels/fetchFunnels",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.getEntityFunnel(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchStages=(0,s.createAsyncThunk)("crm/stage/fetchStages",(({entityCode:e,funnelId:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.getEntityStages(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.createFunnel=(0,s.createAsyncThunk)("crm/funnels/createFunnel",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityFunnel(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateFunnel=(0,s.createAsyncThunk)("crm/funnels/updateFunnel",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){const{id:i}=e,s=r(e,["id"]);try{const e=yield n.uspacySdk.crmEntitiesService.updateEntityFunnel(t,i,s);return null==e?void 0:e.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteFunnel=(0,s.createAsyncThunk)("crm/funnels/deleteFunnel",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityFunnel(t,e)}catch(e){return a.rejectWithValue(e)}})))),t.createStage=(0,s.createAsyncThunk)("crm/funnels/createStage",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityStage(t,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.updateStage=(0,s.createAsyncThunk)("crm/funnels/updateStage",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.updateEntityStage(t,e.id,e);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStage=(0,s.createAsyncThunk)("crm/funnels/deleteStage",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityStage(t,e)}catch(e){return a.rejectWithValue(e)}})))),t.createReason=(0,s.createAsyncThunk)("crm/funnels/createReason",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.crmEntitiesService.createEntityReason(e.funnelId,e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateReason=(0,s.createAsyncThunk)("crm/funnels/editReason",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.updateEntityReason(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReason=(0,s.createAsyncThunk)("crm/funnels/deleteReason",(({id:e},t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityReason(e)}catch(e){return t.rejectWithValue(e)}}))))},1220:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.replaceReasons=void 0;const i=a(5184),r=a(7685),s=(0,i.createSlice)({name:"crm/funnels",initialState:{},reducers:{replaceReasons:(e,t)=>{const a=t.payload.entityCode;e[a].data=e[a].data.map((e=>{var a;return e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.data}):e))}):e}))}},extraReducers:{[r.fetchFunnels.fulfilled.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=null,e[t.meta.arg].data=t.payload.map((e=>{const t=e.stages.map((e=>Object.assign(Object.assign({},e),{sort:Number(e.sort)}))).sort(((e,t)=>e.sort-t.sort));return Object.assign(Object.assign({},e),{stages:t.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.sort(((e,t)=>e.sort-t.sort))})))})})).map((e=>"Universal funnel"===e.title?Object.assign(Object.assign({},e),{title:"newDirection"}):e))},[r.fetchFunnels.pending.type]:(e,t)=>{e[t.meta.arg]||(e[t.meta.arg]={loading:!0}),e[t.meta.arg].loading=!0,e[t.meta.arg].errorMessage=null},[r.fetchFunnels.rejected.type]:(e,t)=>{e[t.meta.arg].loading=!1,e[t.meta.arg].errorMessage=t.payload},[r.fetchStages.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>{if(e.id===t.meta.arg.funnelId){const a=t.payload.data.sort(((e,t)=>e.sort-t.sort));return Object.assign(Object.assign({},e),{stages:a.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.sort(((e,t)=>e.sort-t.sort))})))})}return e}))},[r.createFunnel.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a]||(e[a]={loading:!1,data:[]})},[r.createFunnel.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].data.push(t.payload)},[r.updateFunnel.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[r.deleteFunnel.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))},[r.createStage.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.data.funnel_id?Object.assign(Object.assign({},e),{stages:[Object.assign(Object.assign({},t.payload),{sort:Number(t.payload.sort)}),...e.stages.map((e=>e.sort>=t.payload.sort?Object.assign(Object.assign({},e),{sort:e.sort+10}):e))].sort(((e,t)=>e.sort-t.sort))}):e))},[r.updateStage.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.map((e=>{var a;return e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e.sort>=(null===(a=t.meta.arg.data)||void 0===a?void 0:a.sort)?Object.assign(Object.assign({},e),{sort:e.sort+10}):e})).sort(((e,t)=>e.sort-t.sort))})))},[r.deleteStage.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.meta.arg.id))}):e))},[r.createReason.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.data.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>e.stage_code===t.meta.arg.data.type?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[r.updateReason.pending.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))})))}):e))},[r.deleteReason.fulfilled.type]:(e,t)=>{const a=t.meta.arg.entityCode;e[a].data=e[a].data.map((e=>e.id===t.meta.arg.funnelId?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>Object.assign(Object.assign({},e),{reasons:e.reasons.filter((e=>e.id!==t.meta.arg.id))})))}):e))}}});t.replaceReasons=s.actions.replaceReasons,t.default=s.reducer},4789:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),s=i(a(6326)),n=i(a(7350)),d=i(a(9957)),o=i(a(1721)),l=i(a(2238)),c=i(a(2159)),u=i(a(1220)),p=i(a(3953)),y=i(a(7720)),g=i(a(443)),v=(0,r.combineReducers)({cardBlocks:s.default,categories:n.default,entities:o.default,fields:l.default,filters:c.default,funnels:u.default,items:p.default,taxes:y.default,units:g.default,dependencies:d.default});t.default=v},529:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchEntityItemsByStage=t.massItemsDeletion=t.massItemsEditing=t.deleteEntityItem=t.updateEntityItem=t.createEntityItem=t.moveItemFromStageToStage=t.fetchEntityItems=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(7109);t.fetchEntityItems=(0,s.createAsyncThunk)("crm/items/fetchEntityItems",(({fields:e,filters:t,entityCode:a,signal:s,parentEntityId:l,parentEntityCode:c},u)=>i(void 0,void 0,void 0,(function*(){try{const i=(0,d.getFilterParams)(t,e||[]);switch(a){case"calls":{const e=yield n.uspacySdk.crmCallsService.getCallsWithFilters(i);return null==e?void 0:e.data}case"products":{const e=Object.assign({},t),a=null===(0,o.normalizeCategories)(t.select),r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},i),{currency:(e.price_from||e.price_to)&&e.currency}),e.price_from?{price_from:Math.round(100*e.price_from)}:{}),e.price_to?{price_to:Math.round(100*e.price_to)}:{}),{is_active:e.is_active.map((e=>"boolean"!=typeof e?e:e?1:0)),product_category_ids:a?" ":(0,o.normalizeCategories)(t.select)}),s=yield n.uspacySdk.crmProductsService.getProductsWithFilters(r);return null==s?void 0:s.data}case"tasks":case"activities":{const e=i,{table_fields:t}=e,a=r(e,["table_fields"]),s=yield n.uspacySdk.crmTasksService.getTasksWithFilters(a);return null==s?void 0:s.data}case"deals":{const e=(0,d.getDealsParams)(t,i),r=yield n.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,e,s,String(l),c);return null==r?void 0:r.data}default:{const e=yield n.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,i,s,String(l),c);return null==e?void 0:e.data}}}catch(e){return u.rejectWithValue(e)}})))),t.moveItemFromStageToStage=(0,s.createAsyncThunk)("crm/items/moveItemFromStageToStage",(({entityId:e,stageId:t,reason_id:a,entityCode:r},s)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.moveEntityItemFromStageToStage(r,e,t,a)}catch(e){return s.rejectWithValue(e)}})))),t.createEntityItem=(0,s.createAsyncThunk)("crm/items/createEntityItem",(({data:e,entityCode:t,stageId:a},s)=>i(void 0,void 0,void 0,(function*(){var i;try{switch(t){case"products":{const t=e,{id:a}=t,s=r(t,["id"]),d=yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===i?void 0:i.createProduct((0,o.normalizeProduct)(s)),l=null==d?void 0:d.data;return(0,o.normalizeProductForView)(l)}case"tasks":{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmTasksService.createTask(a);return null==i?void 0:i.data}default:{const i=yield n.uspacySdk.crmEntitiesService.createEntityItem(t,Object.assign(Object.assign({},e),{kanban_stage_id:e.kanban_stage_id||a}));return null==i?void 0:i.data}}}catch(e){return s.rejectWithValue(e)}})))),t.updateEntityItem=(0,s.createAsyncThunk)("crm/items/updateEntityItem",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{switch(t){case"products":{const t=e,{id:a}=t,s=r(t,["id"]),d=yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===i?void 0:i.updateProduct(a,(0,o.normalizeProduct)(s)),l=null==d?void 0:d.data;return(0,o.normalizeProductForView)(l)}case"tasks":{const t=yield n.uspacySdk.crmTasksService.updateTask(e.id,e);return null==t?void 0:t.data}default:{const{id:a}=e,i=r(e,["id"]),s=yield n.uspacySdk.crmEntitiesService.updateEntityItem(t,a,i);return null==s?void 0:s.data}}}catch(e){return a.rejectWithValue(e)}})))),t.deleteEntityItem=(0,s.createAsyncThunk)("crm/items/deleteEntityItem",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{switch(t){case"products":return yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===i?void 0:i.deleteProduct(e);case"tasks":return yield n.uspacySdk.crmTasksService.deleteTask(e);default:return yield n.uspacySdk.crmEntitiesService.deleteEntityItem(t,e)}}catch(e){return a.rejectWithValue(e)}})))),t.massItemsEditing=(0,s.createAsyncThunk)("crm/items/massItemsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,entityCode:o},{rejectWithValue:l})=>i(void 0,void 0,void 0,(function*(){try{return"tasks"===o?yield n.uspacySdk.crmTasksService.massTasksEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?r:void 0,payload:s,settings:d}):yield n.uspacySdk.crmEntitiesService.massEntityItemsEditing(o,{all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?r:void 0,payload:s,settings:d})}catch(e){return l(e)}})))),t.massItemsDeletion=(0,s.createAsyncThunk)("crm/items/massItemsDeletion",(({entityCode:e,entityIds:t,exceptIds:a,all:r,params:s},{rejectWithValue:d})=>i(void 0,void 0,void 0,(function*(){try{switch(e){case"tasks":return yield n.uspacySdk.crmTasksService.massTasksDeletion({all:r,entityIds:t,exceptIds:a,params:r&&(null==s?void 0:s.length)?s:void 0});case"products":return yield n.uspacySdk.crmProductsService.massProductsDeletion({all:r,entityIds:t,exceptIds:a,params:r&&(null==s?void 0:s.length)?s:void 0});default:return yield n.uspacySdk.crmEntitiesService.massEntityItemsDeletion(e,{all:r,entityIds:t,exceptIds:a,params:r&&(null==s?void 0:s.length)?s:void 0})}}catch(e){return d(e)}})))),t.fetchEntityItemsByStage=(0,s.createAsyncThunk)("crm/items/fetchEntityItemsByStage",(({fields:e,filters:t,entityCode:a,stageId:s},o)=>i(void 0,void 0,void 0,(function*(){try{const i=t,{table_fields:o}=i,l=r(i,["table_fields"]),c=(0,d.getFilterParams)(l,e||[]);switch(a){case"tasks":{const e=yield n.uspacySdk.crmTasksService.getTasksWithFilters(c);return null==e?void 0:e.data}case"deals":{const e=(0,d.getDealsParams)(t,c),i=yield n.uspacySdk.crmEntitiesService.getEntityItemsByStage(a,e,s);return null==i?void 0:i.data}default:{const e=yield n.uspacySdk.crmEntitiesService.getEntityItemsByStage(a,c,s);return null==e?void 0:e.data}}}catch(e){return o.rejectWithValue(e)}}))))},3953:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setCompleteModalOpen=t.setCreateModalOpen=t.setViewModalOpen=t.clearItems=t.changeReason=void 0;const r=a(5184),s=a(7109),n=a(529),d={loading:!0,data:[],errorMessage:null,meta:void 0},o=(0,r.createSlice)({name:"crm/items",initialState:{},reducers:{changeReason:(e,t)=>{e[t.payload.entityCode].data=e[t.payload.entityCode].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{kanban_reason_id:t.payload.reasonId||""}):e))},clearItems:(e,t)=>{var a,i,r;const{entityCode:s,stageId:n}=t.payload;e[s]&&(e[s].data=[],e[s].loading=!0,e[s].errorMessage=null,e[s].meta=void 0),Array.isArray(null===(r=null===(i=null===(a=e[s])||void 0===a?void 0:a.stages)||void 0===i?void 0:i[n])||void 0===r?void 0:r.data)&&(e[s].stages[n]={data:[],loading:!0,errorMessage:null,meta:void 0})},setViewModalOpen:(e,t)=>{const{entityCode:a,value:i}=t.payload;e[a].viewModalOpen=i},setCreateModalOpen:(e,t)=>{const{entityCode:a,value:i}=t.payload;e[a].createModalOpen=i},setCompleteModalOpen:(e,t)=>{const{entityCode:a,value:i}=t.payload;e[a].completeModalOpen=i}},extraReducers:{[n.fetchEntityItems.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].loading=!1,e[a].errorMessage=null,e[a].data="products"===a?(0,s.normalizeProducts)(t.payload.data):t.payload.data,e[a].meta=t.payload.meta},[n.fetchEntityItems.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a]||(e[a]=Object.assign(Object.assign({},d),{stages:{}})),e[a].loading=!0,e[a].errorMessage=null},[n.fetchEntityItems.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].loading=!1,e[a].errorMessage=t.payload,e[a].meta={total:0,page:1,list:20}},[n.fetchEntityItemsByStage.fulfilled.type]:(e,t)=>{const{entityCode:a,stageId:i}=t.meta.arg;e[a].stages[i].data=[...e[a].stages[i].data,...t.payload.data],e[a].stages[i].loading=!1,e[a].stages[i].meta=t.payload.meta},[n.fetchEntityItemsByStage.pending.type]:(e,t)=>{const{entityCode:a,stageId:i,filters:r}=t.meta.arg;e[a]||(e[a]=Object.assign(Object.assign({},d),{stages:{}})),e[a].stages[i]=Object.assign(Object.assign(Object.assign(Object.assign({},d),e[a].stages[i]),1===r.page&&{data:[],meta:void 0}),{loading:!0,errorMessage:null})},[n.fetchEntityItemsByStage.rejected.type]:(e,t)=>{const{entityCode:a,stageId:i}=t.meta.arg;e[a].stages[i].loading=!1},[n.updateEntityItem.fulfilled.type]:(e,t)=>{var a,i,r,s;const{entityCode:n}=t.meta.arg,d=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].errorMessage=null,e[n].data=e[n].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].loading=!1,e[n].stages[d].errorMessage=null,e[n].stages[d].data=e[n].stages[d].data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e)))},[n.updateEntityItem.pending.type]:(e,t)=>{var a,i,r,s;const{entityCode:n}=t.meta.arg,d=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].errorMessage=null),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].loading=!0,e[n].stages[d].errorMessage=null)},[n.updateEntityItem.rejected.type]:(e,t)=>{var a,i,r,s;const{entityCode:n}=t.meta.arg,d=t.meta.arg.stageId||String(t.meta.arg.data.kanban_stage_id);Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].errorMessage=t.payload),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].loading=!1,e[n].stages[d].errorMessage=t.payload)},[n.createEntityItem.fulfilled.type]:(e,t)=>{var a,i,r,s;const{entityCode:n}=t.meta.arg,d=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].loading=!1,e[n].errorMessage=null,e[n].data=[t.payload,...e[n].data],e[n].meta.total++),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].data=[t.payload,...e[n].stages[d].data],e[n].stages[d].meta.total++,e[n].stages[d].loading=!1,e[n].stages[d].errorMessage=null)},[n.createEntityItem.pending.type]:(e,t)=>{var a,i,r,s;const{entityCode:n}=t.meta.arg,d=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].loading=!0,e[n].errorMessage=null),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].loading=!0,e[n].stages[d].errorMessage=null)},[n.createEntityItem.rejected.type]:(e,t)=>{var a,i,r;const{entityCode:s}=t.meta.arg,n=t.meta.arg.stageId||t.meta.arg.data.kanban_stage_id;e[s].loading=!1,e[s].errorMessage=t.payload,Array.isArray(null===(r=null===(i=null===(a=e[s])||void 0===a?void 0:a.stages)||void 0===i?void 0:i[n])||void 0===r?void 0:r.data)&&(e[s].stages[n].loading=!1,e[s].stages[n].errorMessage=t.payload)},[n.deleteEntityItem.pending.type]:(e,t)=>{var a,i,r,s;const{entityCode:n,stageId:d,id:o}=t.meta.arg;Array.isArray(null===(a=e[n])||void 0===a?void 0:a.data)&&(e[n].data=e[n].data.filter((e=>e.id!==o)),e[n].meta.total--),Array.isArray(null===(s=null===(r=null===(i=e[n])||void 0===i?void 0:i.stages)||void 0===r?void 0:r[d])||void 0===s?void 0:s.data)&&(e[n].stages[d].data=e[n].stages[d].data.filter((e=>e.id!==o)),e[n].stages[d].meta.total--)},[n.moveItemFromStageToStage.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a].movingCard=!1,e[a].errorMessage=null},[n.moveItemFromStageToStage.pending.type]:(e,t)=>{var a;const{entityCode:i,stageId:r,destinationIndex:s,entityId:n}=t.meta.arg;if(e[i]||(e[i]={loading:!0}),e[i].movingCard=!0,e[i].errorMessage=null,null===(a=e[i])||void 0===a?void 0:a.stages){let a;e[i].data=e[i].data.map((e=>e.id===t.meta.arg.entityId?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:r,updated_at:Math.floor((new Date).valueOf()/1e3),kanban_reason_id:t.meta.arg.reason_id,changed_by:t.meta.arg.profileId}),t.meta.arg.isFinishedStage&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||t.meta.arg.profileId,closed_by:t.meta.arg.profileId}):e));for(const r of Object.values(e[i].stages))if(a=r.data.find((e=>e.id===t.meta.arg.entityId)),a)break;if(!a)return;e[i].stages=Object.fromEntries(Object.entries(e[i].stages).map((([e,i])=>{var d,o,l;if(+e===r){const r=i.data;return r.splice(s||0,0,Object.assign(Object.assign({},a),t.meta.arg.isFinishedStage&&{first_closed_at:(null==a?void 0:a.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==a?void 0:a.first_closed_by)||t.meta.arg.profileId,closed_by:t.meta.arg.profileId})),[e,Object.assign(Object.assign({},i),{data:r,meta:Object.assign(Object.assign({},i.meta),{total:((null===(d=null==i?void 0:i.meta)||void 0===d?void 0:d.total)||0)+1})})]}const c=i.data.filter((e=>e.id!==n)),u=c.length===i.data.length?null===(o=i.meta)||void 0===o?void 0:o.total:(null===(l=i.meta)||void 0===l?void 0:l.total)-1;return[e,Object.assign(Object.assign({},i),{data:c,meta:Object.assign(Object.assign({},i.meta),{total:u||0})})]})))}},[n.moveItemFromStageToStage.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;e[a]||(e[a]={loading:!0}),e[a].movingCard=!1,e[a].errorMessage=t.payload},[n.massItemsEditing.fulfilled.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=null)},[n.massItemsEditing.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!0,e[a].errorMessage=null)},[n.massItemsEditing.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)},[n.massItemsDeletion.fulfilled.type]:(e,t)=>{var a;const{entityCode:i}=t.meta.arg;if(!(null==e?void 0:e[i]))return;const r=Array.isArray(Object.keys((null===(a=e[i])||void 0===a?void 0:a.stages)||{}));e[i].loading=!1,e[i].errorMessage=null,e[i].data=e[i].data.filter((e=>!t.meta.arg.entityIds.map(Number).includes(e.id))),r&&Object.keys(e[i].stages).forEach((a=>{e[i].stages[a].data=e[i].stages[a].data.filter((e=>!t.meta.arg.exceptIds.map(Number).includes(e.id)))})),t.meta.arg.all?(r&&Object.keys(e[i].stages).forEach((t=>{e[i].stages[t].meta.total=0})),e[i].meta.total=0):t.meta.arg.all&&t.meta.arg.exceptIds.length?(e[i].meta.total=t.meta.arg.exceptIds.length,r&&Object.keys(e[i].stages).forEach((a=>{e[i].stages[a].meta.total=t.meta.arg.exceptIds.length}))):(e[i].meta.total-=t.meta.arg.entityIds.length,r&&Object.keys(e[i].stages).forEach((a=>{e[i].stages[a].meta.total-=t.meta.arg.exceptIds.length})))},[n.massItemsDeletion.pending.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!0,e[a].errorMessage=null)},[n.massItemsDeletion.rejected.type]:(e,t)=>{const{entityCode:a}=t.meta.arg;(null==e?void 0:e[a])&&(e[a].loading=!1,e[a].errorMessage=t.payload)}}});i=o.actions,t.changeReason=i.changeReason,t.clearItems=i.clearItems,t.setViewModalOpen=i.setViewModalOpen,t.setCreateModalOpen=i.setCreateModalOpen,t.setCompleteModalOpen=i.setCompleteModalOpen,t.default=o.reducer},9933:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTax=t.updateTax=t.createTax=t.fetchTaxes=void 0;const r=a(5184),s=a(4809);t.fetchTaxes=(0,r.createAsyncThunk)("crm/taxes/fetchTaxes",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===e?void 0:e.getProductTaxes();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createTax=(0,r.createAsyncThunk)("crm/taxes/createTax",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.createProductTax(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateTax=(0,r.createAsyncThunk)("crm/taxes/updateTax",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.updateProductTax(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteTax=(0,r.createAsyncThunk)("crm/taxes/deleteTax",(({id:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.deleteProductTax(e)}catch(e){return t.rejectWithValue(e)}}))))},7720:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(9933),s={data:[],loading:!1,errorMessage:""},n=(0,i.createSlice)({name:"productsTaxes",initialState:{},reducers:{},extraReducers:{[r.fetchTaxes.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=t.payload.data},[r.fetchTaxes.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},s)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[r.fetchTaxes.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[r.createTax.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=[...e[t.meta.arg.entityCode].data,t.payload]},[r.createTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=s)},[r.createTax.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[r.updateTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[r.deleteTax.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))}}});n.actions,t.default=n.reducer},3372:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteUnit=t.updateUnit=t.createUnit=t.fetchUnits=void 0;const r=a(5184),s=a(4809);t.fetchUnits=(0,r.createAsyncThunk)("crm/units/fetchUnits",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===e?void 0:e.getProductUnits();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createUnit=(0,r.createAsyncThunk)("crm/units/createUnit",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.createProductUnit(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUnit=(0,r.createAsyncThunk)("crm/units/updateUnit",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.updateProductUnit(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteUnit=(0,r.createAsyncThunk)("crm/units/deleteUnit",(({id:e},t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.deleteProductUnit(e)}catch(e){return t.rejectWithValue(e)}}))))},443:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(3372),s={data:[],loading:!1,errorMessage:""},n=(0,i.createSlice)({name:"productsUnit",initialState:{},reducers:{},extraReducers:{[r.fetchUnits.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=t.payload.data},[r.fetchUnits.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=Object.assign({},s)),e[t.meta.arg.entityCode].loading=!0,e[t.meta.arg.entityCode].errorMessage=""},[r.fetchUnits.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage=t.payload},[r.createUnit.fulfilled.type]:(e,t)=>{e[t.meta.arg.entityCode].loading=!1,e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].data=[...e[t.meta.arg.entityCode].data,t.payload]},[r.createUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode]||(e[t.meta.arg.entityCode]=s),e[t.meta.arg.entityCode].errorMessage="",e[t.meta.arg.entityCode].loading=!0},[r.createUnit.rejected.type]:(e,t)=>{e[t.meta.arg.entityCode].errorMessage=t.payload,e[t.meta.arg.entityCode].loading=!1},[r.updateUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.map((e=>e.id===t.meta.arg.data.id?Object.assign(Object.assign({},e),t.meta.arg.data):e))},[r.deleteUnit.pending.type]:(e,t)=>{e[t.meta.arg.entityCode].data=e[t.meta.arg.entityCode].data.filter((e=>e.id!==t.meta.arg.id))}}});n.actions,t.default=n.reducer},9929:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCall=t.fetchCall=t.editCall=t.createCall=t.fetchCallsWithFilters=t.fetchCalls=void 0;const s=a(5184),n=a(4809);t.fetchCalls=(0,s.createAsyncThunk)("calls/fetchCalls",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmCallsService.getCalls();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchCallsWithFilters=(0,s.createAsyncThunk)("calls/fetchCallsWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){const a=Object.assign({page:e.page,list:e.perPage,status:e.status,type:e.type,responsible_id:e.responsible_id,start_time:e.period},e.search?{q:e.search}:{});try{const e=yield n.uspacySdk.crmCallsService.getCallsWithFilters(a);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCall=(0,s.createAsyncThunk)("calls/createCall",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmCallsService.createCall(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editCall=(0,s.createAsyncThunk)("calls/editCall",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmCallsService.editCall(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.fetchCall=(0,s.createAsyncThunk)("calls/fetchCall",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmCallsService.getCall(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure!")}})))),t.deleteCall=(0,s.createAsyncThunk)("calls/deleteCall",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCallsService.deleteCall(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},1599:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearCallsFilter=t.clearCalls=t.editCallInState=t.removeCallFromState=t.addCallToState=t.changeItemsFilterCalls=t.changeFilterCalls=void 0;const r=a(5184),s=a(9929),n={data:[],meta:{total:0,from:0,per_page:0,list:0}},d={page:1,perPage:20,status:[],openDatePicker:!1,search:"",responsible_id:[],durationPeriod:[],duration:[],interval:[],period:[],time_label:[],certainDateOrPeriod:[],participants:[],boolean_operator:"",type:[]},o={calls:n,call:null,callFilter:d,errorMessage:"",loading:!1,loadingCallList:!0},l=(0,r.createSlice)({name:"calls",initialState:o,reducers:{changeFilterCalls:(e,t)=>{e.callFilter[t.payload.key]=t.payload.value},changeItemsFilterCalls:(e,t)=>{e.callFilter=t.payload},addCallToState:(e,t)=>{e.calls.data=[t.payload,...e.calls.data]},removeCallFromState:(e,t)=>{e.calls.data=e.calls.data.filter((e=>e.id!==t.payload))},editCallInState:(e,t)=>{e.calls.data=e.calls.data.map((e=>e.id===t.payload.id?t.payload:e))},clearCalls:e=>{e.calls=n,e.loadingCallList=!0},clearCallsFilter:e=>{e.callFilter=d}},extraReducers:{[s.fetchCalls.fulfilled.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage="",e.calls=t.payload},[s.fetchCalls.pending.type]:e=>{e.loadingCallList=!0,e.errorMessage=""},[s.fetchCalls.rejected.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage=t.payload},[s.fetchCallsWithFilters.fulfilled.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage="",e.calls=t.payload},[s.fetchCallsWithFilters.pending.type]:e=>{e.loadingCallList=!0,e.errorMessage=""},[s.fetchCallsWithFilters.rejected.type]:(e,t)=>{e.loadingCallList=!1,e.errorMessage=t.payload},[s.createCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.calls.data.unshift(t.payload),e.calls.meta.total=++e.calls.meta.total},[s.createCall.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[s.createCall.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.editCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage="",e.calls.data=e.calls.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[s.editCall.pending.type]:e=>{e.loading=!0,e.loadingCallList=!0,e.errorMessage=""},[s.editCall.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage=t.payload},[s.fetchCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.call=t.payload},[s.fetchCall.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[s.fetchCall.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[s.deleteCall.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage="",e.calls.data=e.calls.data.filter((e=>e.id!==t.payload))},[s.deleteCall.pending.type]:e=>{e.loading=!0,e.loadingCallList=!0,e.errorMessage=""},[s.deleteCall.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCallList=!1,e.errorMessage=t.payload}}});i=l.actions,t.changeFilterCalls=i.changeFilterCalls,t.changeItemsFilterCalls=i.changeItemsFilterCalls,t.addCallToState=i.addCallToState,t.removeCallFromState=i.removeCallFromState,t.editCallInState=i.editCallInState,t.clearCalls=i.clearCalls,t.clearCallsFilter=i.clearCallsFilter,t.default=l.reducer},215:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCompanyField=t.deleteCompanyListValues=t.createCompanyField=t.updateCompanyListValues=t.updateCompanyField=t.fetchFieldsForCompany=t.fetchCompaniesWithFilters=t.massCompaniesEditing=t.massCompaniesDeletion=t.deleteCompany=t.updateCompany=t.createCompany=t.fetchCompanies=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(349);t.fetchCompanies=(0,s.createAsyncThunk)("companies/fetchCompanies",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmCompaniesService)||void 0===e?void 0:e.getCompanies();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createCompany=(0,s.createAsyncThunk)("companies/createCompany",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmCompaniesService.createCompany(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.updateCompany=(0,s.createAsyncThunk)("companies/updateCompany",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmCompaniesService.updateCompany(t,a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteCompany=(0,s.createAsyncThunk)("companies/deleteCompany",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCompaniesService.deleteCompany(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massCompaniesDeletion=(0,s.createAsyncThunk)("companies/massCompaniesDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCompaniesService.massCompaniesDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massCompaniesEditing=(0,s.createAsyncThunk)("companies/massCompaniesEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCompaniesService.massCompaniesEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchCompaniesWithFilters=(0,s.createAsyncThunk)("companies/fetchCompaniesWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.deals)?e.params.deals:[e.params.deals]).includes("NO_DEALS"),a=(0,d.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),i=`${(0,o.makeURIParams)(a)}${t?"&deals=":""}`,r=yield n.uspacySdk.crmCompaniesService.getCompaniesWithFilters(i,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==r?void 0:r.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchFieldsForCompany=(0,s.createAsyncThunk)("companies/fetchFieldsForCompany",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmCompaniesService.getCompanyFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCompanyField=(0,s.createAsyncThunk)("companies/updateCompanyField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmCompaniesService.updateCompanyField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCompanyListValues=(0,s.createAsyncThunk)("companies/updateCompanyListValues",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmCompaniesService.updateCompanyListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createCompanyField=(0,s.createAsyncThunk)("companies/createCompanyField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmCompaniesService.createCompanyField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCompanyListValues=(0,s.createAsyncThunk)("companies/deleteCompanyListValues",(({value:e,fieldCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCompaniesService.deleteCompanyListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteCompanyField=(0,s.createAsyncThunk)("companies/deleteCompanyField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmCompaniesService.deleteCompanyField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},4712:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.clearCompanyFilters=t.clearCompanies=t.changeItemsFilterCompany=t.changeFilterCompany=t.companiesReducer=t.initialCompaniesFilter=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(215),o={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialCompaniesFilter={company_label:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],deals:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const l={companies:o,company:{},companyFields:{data:[]},companyFilters:{},companyFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingCompanyList:!0,loadingCompanyFields:!0,cardBlocks:[]},c={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",fieldSectionId:"",system_field:!0,base_field:!0,sort:"",defaultValue:""};t.companiesReducer=(0,r.createSlice)({name:"companies",initialState:l,reducers:{changeFilterCompany:(e,t)=>{e.companyFilters[t.payload.key]=t.payload.value},changeItemsFilterCompany:(e,t)=>{e.companyFilters=t.payload},clearCompanies:e=>{e.companies=o,e.loadingCompanyList=!0},clearCompanyFilters:e=>{var t,a,i;(null===(t=Object.keys(e.companyFields.data))||void 0===t?void 0:t.length)&&(e.companyFilters=Object.assign(Object.assign(Object.assign({},e.companyFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.companyFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(i=null==e?void 0:e.companyFilters)||void 0===i?void 0:i.table_fields)||[],page:1,perPage:20}))},setIsNewPreset:(e,t)=>{e.companyFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.companyFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.companyFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.companyFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[d.fetchCompanies.fulfilled.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage="",e.companies=t.payload},[d.fetchCompanies.pending.type]:e=>{e.loadingCompanyList=!0,e.errorMessage=""},[d.fetchCompanies.rejected.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage=t.payload},[d.createCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data.unshift(t.payload),e.companies.meta.total=++e.companies.meta.total},[d.createCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data=e.companies.data.map((e=>e.id===t.payload.id?t.payload:e))},[d.updateCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteCompany.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companies.data=e.companies.data.filter((e=>e.id!==t.payload))},[d.deleteCompany.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteCompany.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.massCompaniesDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage="",e.companies.data=e.companies.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),t.payload.all?e.companies.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.companies.meta.total=t.payload.exceptIds.length:e.companies.meta.total=e.companies.meta.total-t.payload.entityIds.length},[d.massCompaniesDeletion.pending.type]:e=>{e.loading=!0,e.loadingCompanyList=!0,e.errorMessage=""},[d.massCompaniesDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage=t.payload},[d.massCompaniesEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[d.massCompaniesEditing.pending.type]:e=>{e.loading=!0,e.loadingCompanyList=!0,e.errorMessage=""},[d.massCompaniesEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyList=!1,e.errorMessage=t.payload},[d.fetchCompaniesWithFilters.fulfilled.type]:(e,t)=>{e.loadingCompanyList=t.payload.aborted,e.errorMessage="",e.companies=t.payload.aborted?e.companies:t.payload},[d.fetchCompaniesWithFilters.pending.type]:e=>{e.loadingCompanyList=!0,e.errorMessage=""},[d.fetchCompaniesWithFilters.rejected.type]:(e,t)=>{e.loadingCompanyList=!1,e.errorMessage=t.payload},[d.fetchFieldsForCompany.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingCompanyFields=!1,e.errorMessage="",e.companyFields=t.payload,e.companyFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),e.companyFields.data.splice(2,0,c),e.companyFields.data.splice(0,0,s.idColumn),(null===(a=Object.keys(e.companyFilters))||void 0===a?void 0:a.length)||(e.companyFilters=Object.assign(Object.assign(Object.assign({},e.companyFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:[]}))},[d.fetchFieldsForCompany.pending.type]:e=>{e.loading=!0,e.loadingCompanyFields=!0,e.errorMessage=""},[d.fetchFieldsForCompany.rejected.type]:(e,t)=>{e.loading=!1,e.loadingCompanyFields=!1,e.errorMessage=t.payload},[d.updateCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[d.updateCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateCompanyListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[d.updateCompanyListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateCompanyListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data.push(t.payload)},[d.createCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteCompanyListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[d.deleteCompanyListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteCompanyListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteCompanyField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.companyFields.data=e.companyFields.data.filter((e=>e.code!==t.payload))},[d.deleteCompanyField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteCompanyField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}}),i=t.companiesReducer.actions,t.changeFilterCompany=i.changeFilterCompany,t.changeItemsFilterCompany=i.changeItemsFilterCompany,t.clearCompanies=i.clearCompanies,t.clearCompanyFilters=i.clearCompanyFilters,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setCardBlocks=i.setCardBlocks,t.default=t.companiesReducer.reducer},9773:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteContactField=t.deleteContactListValues=t.createContactField=t.updateContactListValues=t.updateContactField=t.fetchFieldsForContact=t.fetchContactsWithFilters=t.massContactsEditing=t.massContactsDeletion=t.deleteContact=t.updateContact=t.createContact=t.fetchContacts=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(349);t.fetchContacts=(0,s.createAsyncThunk)("contacts/fetchContacts",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmContactsService)||void 0===e?void 0:e.getContacts();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createContact=(0,s.createAsyncThunk)("contacts/createContact",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmContactsService.createContact(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.updateContact=(0,s.createAsyncThunk)("contacts/updateContact",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmContactsService.updateContact(t,a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteContact=(0,s.createAsyncThunk)("contacts/deleteContact",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmContactsService.deleteContact(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massContactsDeletion=(0,s.createAsyncThunk)("contacts/massContactsDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmContactsService.massContactsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massContactsEditing=(0,s.createAsyncThunk)("contacts/massContactsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmContactsService.massContactsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchContactsWithFilters=(0,s.createAsyncThunk)("contacts/fetchContactsWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.deals)?e.params.deals:[e.params.deals]).includes("NO_DEALS"),a=(0,d.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),i=`${(0,o.makeURIParams)(a)}${t?"&deals=":""}`,r=yield n.uspacySdk.crmContactsService.getContactsWithFilters(i,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==r?void 0:r.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchFieldsForContact=(0,s.createAsyncThunk)("contacts/fetchFieldsForContact",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmContactsService.getContactFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateContactField=(0,s.createAsyncThunk)("contacts/updateContactField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmContactsService.updateContactField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateContactListValues=(0,s.createAsyncThunk)("contacts/updateContactListValues",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmContactsService.updateContactListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createContactField=(0,s.createAsyncThunk)("contacts/createContactField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmContactsService.createContactField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteContactListValues=(0,s.createAsyncThunk)("contacts/deleteContactListValues",(({value:e,fieldCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmContactsService.deleteContactListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteContactField=(0,s.createAsyncThunk)("contacts/deleteContactField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmContactsService.deleteContactField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},9215:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.clearContactFilters=t.clearContacts=t.changeItemsFilterContact=t.changeFilterContact=t.contactsReducer=t.initialContactsFilters=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(9773),o={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialContactsFilters={contact_label:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],deals:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const l={contacts:o,contact:{},contactFields:{data:[]},contactFilters:{},contactFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingContactList:!0,loadingsContactFields:!0,cardBlocks:[]},c={name:"requisite",code:"requisites",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"requisite",fieldSectionId:"",system_field:!0,base_field:!0,sort:"",defaultValue:""};t.contactsReducer=(0,r.createSlice)({name:"contacts",initialState:l,reducers:{changeFilterContact:(e,t)=>{e.contactFilters[t.payload.key]=t.payload.value},changeItemsFilterContact:(e,t)=>{e.contactFilters=t.payload},clearContacts:e=>{e.contacts=o,e.loadingContactList=!0},clearContactFilters:e=>{var t,a,i;e.createdAt=[],(null===(t=Object.keys(e.contactFields.data))||void 0===t?void 0:t.length)&&(e.contactFilters=Object.assign(Object.assign(Object.assign({},e.contactFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.contactFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(i=null==e?void 0:e.contactFilters)||void 0===i?void 0:i.table_fields)||[],page:1,perPage:20}))},setIsNewPreset:(e,t)=>{e.contactFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.contactFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.contactFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.contactFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[d.fetchContacts.fulfilled.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage="",e.contacts=t.payload},[d.fetchContacts.pending.type]:e=>{e.loadingContactList=!0,e.errorMessage=""},[d.fetchContacts.rejected.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage=t.payload},[d.createContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data.unshift(t.payload),e.contacts.meta.total=++e.contacts.meta.total},[d.createContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data=e.contacts.data.map((e=>e.id===t.payload.id?t.payload:e))},[d.updateContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteContact.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contacts.data=e.contacts.data.filter((e=>e.id!==t.payload))},[d.deleteContact.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteContact.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.massContactsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage="",e.contacts.data=e.contacts.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),t.payload.all?e.contacts.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.contacts.meta.total=t.payload.exceptIds.length:e.contacts.meta.total=e.contacts.meta.total-t.payload.entityIds.length},[d.massContactsDeletion.pending.type]:e=>{e.loading=!0,e.loadingContactList=!0,e.errorMessage=""},[d.massContactsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage=t.payload},[d.massContactsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[d.massContactsEditing.pending.type]:e=>{e.loading=!0,e.loadingContactList=!0,e.errorMessage=""},[d.massContactsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingContactList=!1,e.errorMessage=t.payload},[d.fetchContactsWithFilters.fulfilled.type]:(e,t)=>{e.loadingContactList=t.payload.aborted,e.errorMessage="",e.contacts=t.payload.aborted?e.contacts:t.payload},[d.fetchContactsWithFilters.pending.type]:e=>{e.loadingContactList=!0,e.errorMessage=""},[d.fetchContactsWithFilters.rejected.type]:(e,t)=>{e.loadingContactList=!1,e.errorMessage=t.payload},[d.fetchFieldsForContact.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingsContactFields=!1,e.errorMessage="",e.contactFields=t.payload,e.contactFields.data.splice(2,0,c),e.contactFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),e.contactFields.data.splice(0,0,s.idColumn),(null===(a=Object.keys(e.contactFilters))||void 0===a?void 0:a.length)||(e.contactFilters=Object.assign(Object.assign({},e.contactFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS))},[d.fetchFieldsForContact.pending.type]:e=>{e.loading=!0,e.loadingsContactFields=!0,e.errorMessage=""},[d.fetchFieldsForContact.rejected.type]:(e,t)=>{e.loading=!1,e.loadingsContactFields=!1,e.errorMessage=t.payload},[d.updateContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[d.updateContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateContactListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[d.updateContactListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateContactListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data.push(t.payload)},[d.createContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteContactListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[d.deleteContactListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteContactListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteContactField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.contactFields.data=e.contactFields.data.filter((e=>e.code!==t.payload))},[d.deleteContactField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteContactField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}}),i=t.contactsReducer.actions,t.changeFilterContact=i.changeFilterContact,t.changeItemsFilterContact=i.changeItemsFilterContact,t.clearContacts=i.clearContacts,t.clearContactFilters=i.clearContactFilters,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setCardBlocks=i.setCardBlocks,t.default=t.contactsReducer.reducer},355:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.moveDealFromStageToStage=t.deleteDealField=t.deleteDealListValues=t.createDealField=t.updateDealListValues=t.updateDealField=t.fetchFieldsForDeal=t.massDealsEditing=t.massDealsDeletion=t.deleteDeal=t.updateDeal=t.createDealFromKanban=t.createDeal=t.fetchDealsWithFilters=t.fetchDeals=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(349);t.fetchDeals=(0,s.createAsyncThunk)("deals/fetchDeals",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsService)||void 0===e?void 0:e.getDeals();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchDealsWithFilters=(0,s.createAsyncThunk)("deals/fetchDealsWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=(Array.isArray(e.params.time_label_tasks)?e.params.time_label_tasks:[e.params.time_label_task]).filter((e=>Boolean(e))),a=void 0!==e.params.time_label_tasks&&t.includes("noBusiness"),i=(0,d.getFilterParams)(e.params,e.fields||[]),r=`${(0,o.makeURIParams)(i)}${a?"&tasks=":""}`,s=yield n.uspacySdk.crmDealsService.getDealsWithFilters(r,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==s?void 0:s.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createDeal=(0,s.createAsyncThunk)("deals/createDeal",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmDealsService.createDeal(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.createDealFromKanban=(0,s.createAsyncThunk)("deals/createDealFromKanban",(({data:e,dontRenderInKanban:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{id:a}=e,i=r(e,["id"]),s=yield n.uspacySdk.crmDealsService.createDeal(i);return{data:null==s?void 0:s.data,dontRenderInKanban:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateDeal=(0,s.createAsyncThunk)("deals/updateDeal",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmDealsService.updateDeal(t,a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteDeal=(0,s.createAsyncThunk)("deals/deleteDeal",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.deleteDeal(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massDealsDeletion=(0,s.createAsyncThunk)("deals/massDealsDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.massDealsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massDealsEditing=(0,s.createAsyncThunk)("deals/massDealsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.massDealsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForDeal=(0,s.createAsyncThunk)("deals/fetchFieldsForDeal",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield n.uspacySdk.crmDealsService.getDealFields(),a=null==t?void 0:t.data;return Object.assign(Object.assign({},a),{data:null===(e=null==a?void 0:a.data)||void 0===e?void 0:e.map((e=>"companies"===(null==e?void 0:e.code)?Object.assign(Object.assign({},e),{name:"company"}):e))})}catch(e){return t.rejectWithValue("Failure")}})))),t.updateDealField=(0,s.createAsyncThunk)("deals/updateDealField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmDealsService.updateDealField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateDealListValues=(0,s.createAsyncThunk)("deals/updateDealListValues",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmDealsService.updateDealListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealField=(0,s.createAsyncThunk)("deals/createDealField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmDealsService.createDealField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteDealListValues=(0,s.createAsyncThunk)("deals/deleteLeadListValues",(({value:e,fieldCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.deleteDealListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDealField=(0,s.createAsyncThunk)("deals/deleteDealField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.deleteDealField(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.moveDealFromStageToStage=(0,s.createAsyncThunk)("stages/moveLeadFromStageToStage",(({entityId:e,stageId:t,reason_id:a,funnelHasChanged:r,isFinishedStage:s,profileId:d},o)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDealsService.moveDealFromStageToStage(e,t,a),{entityId:e,stageId:t,funnelHasChanged:r,isFinishedStage:s,profileId:d}}catch(e){return o.rejectWithValue("Failure")}}))))},7929:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForDeal=t.clearDNDItem=t.dndHandlerDeleteCardFromColumn=t.dndHandlerAddCardFromColumn=t.clearCreatedDeal=t.moveDealChangeCardInColumn=t.clearDealsFilter=t.clearDeals=t.changeTaskTime=t.changeItemsFilterDeals=t.changeFilterDeals=t.initialDealsFilter=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(355),o={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialDealsFilter={kanban_status:[],stages:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],tasks_label:[],tasks:[],openDatePicker:!1,search:"",page:0,perPage:0,select:0,boolean_operator:"",table_fields:[],sortModel:[]};const c={deals:l,deal:{},createdDeal:{},dealFields:{data:[]},deleteDealId:0,deleteDealIds:[],deleteAllFromKanban:!1,changeDeals:[],taskTime:[],dealFilters:{},dealFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingDealList:!0,loadingDealFields:!0,movingCard:!1,dndDealItem:o,cardBlocks:[]},u={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",fieldSectionId:"",system_field:!0,sort:"",defaultValue:""},p=(0,r.createSlice)({name:"deals",initialState:c,reducers:{changeFilterDeals:(e,t)=>{e.dealFilters[t.payload.key]=t.payload.value},changeItemsFilterDeals:(e,t)=>{e.dealFilters=t.payload},changeTaskTime:(e,t)=>{e.taskTime=t.payload},clearDeals:e=>{e.deals=l,e.loadingDealList=!0},clearDealsFilter:e=>{var t,a,i;e.taskTime=[],(null===(t=Object.keys(e.dealFields.data))||void 0===t?void 0:t.length)&&(e.dealFilters=Object.assign(Object.assign(Object.assign({},e.dealFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.dealFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(i=null==e?void 0:e.dealFilters)||void 0===i?void 0:i.table_fields)||[],page:1,perPage:20,select:0}))},moveDealChangeCardInColumn:(e,t)=>{var a;e.dndDealItem=null===(a=t.payload)||void 0===a?void 0:a.data,e.deals.data=e.deals.data.map((e=>{var a,i,r,s,n,d,o,l,c;return e.id===+(null===(r=null===(i=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===i?void 0:i.item)||void 0===r?void 0:r.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(d=null===(n=t.payload)||void 0===n?void 0:n.meta)||void 0===d?void 0:d.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(c=t.payload.data)||void 0===c?void 0:c.toColumnId)}):e}))},dndHandlerDeleteCardFromColumn:e=>{e.dndDealItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndDealItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndDealItem=o},clearCreatedDeal:e=>{e.createdDeal={id:0}},changeReasonForDeal:(e,t)=>{e.deals.data=e.deals.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.dealFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.dealFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.dealFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.dealFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[d.fetchDeals.fulfilled.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage="",e.deals=t.payload},[d.fetchDeals.pending.type]:e=>{e.loadingDealList=!0,e.errorMessage=""},[d.fetchDeals.rejected.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage=t.payload},[d.fetchDealsWithFilters.fulfilled.type]:(e,t)=>{e.loadingDealList=t.payload.aborted,e.errorMessage="",e.deals=t.payload.aborted?e.deals:t.payload},[d.fetchDealsWithFilters.pending.type]:e=>{e.loadingDealList=!0,e.errorMessage=""},[d.createDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data.unshift(t.payload),e.deals.meta.total=++e.deals.meta.total},[d.fetchDealsWithFilters.rejected.type]:(e,t)=>{e.loadingDealList=!1,e.errorMessage=t.payload},[d.createDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createDealFromKanban.fulfilled.type]:(e,t)=>{var a,i,r;e.loading=!1,e.errorMessage="",e.deals.data.unshift(null===(a=t.payload)||void 0===a?void 0:a.data),(null===(i=t.payload)||void 0===i?void 0:i.dontRenderInKanban)||(e.createdDeal=null===(r=t.payload)||void 0===r?void 0:r.data)},[d.createDealFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createDealFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data=e.deals.data.map((e=>e.id===t.payload.id?t.payload:e))},[d.updateDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteDeal.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.deals.data=e.deals.data.filter((e=>e.id!==t.payload)),e.deleteDealId=t.payload},[d.deleteDeal.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteDeal.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.massDealsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage="",e.deals.data=e.deals.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteDealIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.deals.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.deals.meta.total=t.payload.exceptIds.length:e.deals.meta.total=e.deals.meta.total-t.payload.entityIds.length},[d.massDealsDeletion.pending.type]:e=>{e.loading=!0,e.loadingDealList=!0,e.errorMessage=""},[d.massDealsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage=t.payload},[d.massDealsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[d.massDealsEditing.pending.type]:e=>{e.loading=!0,e.loadingDealList=!0,e.errorMessage=""},[d.massDealsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealList=!1,e.errorMessage=t.payload},[d.fetchFieldsForDeal.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingDealFields=!1,e.errorMessage="",e.dealFields=t.payload,e.dealFields.data.splice(0,0,s.idColumn),e.dealFields.data.splice(2,0,u),e.dealFields.data.splice(0,0,s.taskField),e.dealFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),(null===(a=Object.keys(e.dealFilters))||void 0===a?void 0:a.length)||(e.dealFilters=Object.assign(Object.assign(Object.assign({},e.dealFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{select:0}))},[d.fetchFieldsForDeal.pending.type]:e=>{e.loading=!0,e.loadingDealFields=!0,e.errorMessage=""},[d.fetchFieldsForDeal.rejected.type]:(e,t)=>{e.loading=!1,e.loadingDealFields=!1,e.errorMessage=t.payload},[d.updateDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[d.updateDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateDealListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[d.updateDealListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateDealListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data.push(t.payload)},[d.createDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteDealListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[d.deleteDealListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteDealListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteDealField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.dealFields.data=e.dealFields.data.filter((e=>e.code!==t.payload))},[d.deleteDealField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteDealField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.moveDealFromStageToStage.fulfilled.type]:(e,t)=>{var a;e.movingCard=!1,e.errorMessage="",(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.funnelHasChanged)?e.deals.data=e.deals.data.filter((e=>{var a;return(null==e?void 0:e.id)!==(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)})):e.deals.data=e.deals.data.map((e=>{var a,i,r,s,n;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.profileId}),(null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(n=null==t?void 0:t.payload)||void 0===n?void 0:n.profileId}):e}))},[d.moveDealFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=""},[d.moveDealFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload}}});i=p.actions,t.changeFilterDeals=i.changeFilterDeals,t.changeItemsFilterDeals=i.changeItemsFilterDeals,t.changeTaskTime=i.changeTaskTime,t.clearDeals=i.clearDeals,t.clearDealsFilter=i.clearDealsFilter,t.moveDealChangeCardInColumn=i.moveDealChangeCardInColumn,t.clearCreatedDeal=i.clearCreatedDeal,t.dndHandlerAddCardFromColumn=i.dndHandlerAddCardFromColumn,t.dndHandlerDeleteCardFromColumn=i.dndHandlerDeleteCardFromColumn,t.clearDNDItem=i.clearDNDItem,t.changeReasonForDeal=i.changeReasonForDeal,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setCardBlocks=i.setCardBlocks,t.default=p.reducer},1884:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStagesForDealsFunnel=t.deleteReasonsForDealsFunnelStage=t.editReasonsForDealsFunnelStage=t.createReasonsForDealsFunnelStage=t.deleteStageForDealsFunnel=t.editStageForDealsFunnel=t.createStageForDealsFunnel=t.deleteDealsFunnel=t.editDealsFunnel=t.createDealsFunnel=t.fetchDealsFunnel=void 0;const s=a(5184),n=a(4809);t.fetchDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/fetchDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===e?void 0:e.getDealsFunnels();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/createDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createDealsFunnel(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/editDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.updateDealsFunnel(i,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/deleteDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteDealsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/createStageForDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createStageForDealsFunnel(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnel_id})}catch(e){return t.rejectWithValue("Failure")}})))),t.editStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/editStageForDealsFunnel",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{const a=yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===i?void 0:i.updateStageForDealsFunnel(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStageForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/deleteStageForDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteStageForDealsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/createReasonsForDealsFunnelStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.createReasonsForDealsFunnelStage(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnelId})}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/editReasonsForDealsFunnelStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{const e=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.updateReasonsForDealsFunnelStage(i,s);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForDealsFunnelStage=(0,s.createAsyncThunk)("dealsFunnel/deleteReasonsForDealsFunnelStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.deleteReasonsForDealsFunnelStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchStagesForDealsFunnel=(0,s.createAsyncThunk)("dealsFunnel/fetchStagesForDealsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsFunnelsService)||void 0===a?void 0:a.getStagesForDealsFunnel(e);return{data:(null==t?void 0:t.data).data,funnelId:e}}catch(e){return t.rejectWithValue("Failure")}}))))},7326:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.changeModalViewMode=t.changeDealFunnelReasons=t.changeDealFunnelState=void 0;const r=a(5184),s=a(2089),n=a(1884),d=(0,r.createSlice)({name:"dealsFunnel",initialState:{dealsFunnel:[],dealsFunnelLoading:!1,errorMessage:null,modalViewMode:!1},reducers:{changeDealFunnelState:(e,t)=>{e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e))},changeDealFunnelReasons:(e,t)=>{e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.reasons}):e))})}))},changeModalViewMode:(e,t)=>{e.modalViewMode=t.payload}},extraReducers:{[n.fetchDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=t.payload.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.sort(((e,t)=>e.sort-t.sort))})))},[n.fetchDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.fetchDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.createDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel.push(t.payload)},[n.createDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.createDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.editDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[n.editDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.editDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[n.deleteDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.deleteDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.createStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,s.sortStagesWhenCreateNew)({data:e.stages},t.payload)}):e))},[n.createStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.createStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.editStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))},[n.editStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.editStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteStageForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.stages.some((e=>e.id===t.payload))?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.payload))}):e))},[n.deleteStageForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.deleteStageForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.createReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>"FAIL"===e.stage_code?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[n.createReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.createReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.editReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel=e.dealsFunnel=e.dealsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>{var a;return Object.assign(Object.assign({},e),{reasons:null===(a=e.reasons)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))})}))},[n.editReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.editReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteReasonsForDealsFunnelStage.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null,e.dealsFunnel.forEach((e=>{var a;null===(a=e.stages)||void 0===a||a.forEach((e=>{var a;e.reasons=null===(a=e.reasons)||void 0===a?void 0:a.filter((e=>e.id!==t.payload))}))}))},[n.deleteReasonsForDealsFunnelStage.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.deleteReasonsForDealsFunnelStage.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload},[n.fetchStagesForDealsFunnel.fulfilled.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=null;const{funnelId:a,data:i}=t.payload;e.dealsFunnel=e.dealsFunnel.map((e=>e.id===a?Object.assign(Object.assign({},e),{stages:i}):e))},[n.fetchStagesForDealsFunnel.pending.type]:e=>{e.dealsFunnelLoading=!0,e.errorMessage=null},[n.fetchStagesForDealsFunnel.rejected.type]:(e,t)=>{e.dealsFunnelLoading=!1,e.errorMessage=t.payload}}});t.default=d.reducer,i=d.actions,t.changeDealFunnelState=i.changeDealFunnelState,t.changeDealFunnelReasons=i.changeDealFunnelReasons,t.changeModalViewMode=i.changeModalViewMode},3296:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForDealsStage=t.editReasonForDealsStage=t.createReasonsForDealsStage=t.fetchReasonsForDeals=t.deleteDealsStage=t.editDealsStage=t.createDealsStage=t.fetchDealsStages=void 0;const s=a(5184),n=a(4809),d=a(3970);t.fetchDealsStages=(0,s.createAsyncThunk)("tasks/fetchDealsStages",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===e?void 0:e.getDealsStages()).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDealsStage=(0,s.createAsyncThunk)("deals/createDealsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.createDealsStage(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editDealsStage=(0,s.createAsyncThunk)("tasks/editDealsStage",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{return(yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===i?void 0:i.updateDealsStage(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteDealsStage=(0,s.createAsyncThunk)("stages/deleteDealsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.deleteDealsStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchReasonsForDeals=(0,s.createAsyncThunk)("leads/fetchReasonsForDeals",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===e?void 0:e.getDealsReasons(Number(d.EntityIds.deals))).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createReasonsForDealsStage=(0,s.createAsyncThunk)("stages/createReasonsForDealsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.createDealsStageReasons(Number(d.EntityIds.deals),e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonForDealsStage=(0,s.createAsyncThunk)("stages/editReasonForDealsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.updateDealsReason(i,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForDealsStage=(0,s.createAsyncThunk)("stages/deleteReasonsForDealsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDealsStagesService)||void 0===a?void 0:a.deleteDealsReason(e),e}catch(e){return t.rejectWithValue(e)}}))))},2591:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.changeDealItem=t.changeSortingForDealsReasons=t.changeDealsStagesSortState=t.changeDealsColumnsState=void 0;const r=a(5184),s=a(2089),n=a(3296),d=(0,r.createSlice)({name:"deals",initialState:{stages:{data:[]},stage:{},errorMessage:"",loading:!1,reasonsLoading:!1,dealsColumns:{},reasons:{}},reducers:{changeDealsColumnsState:(e,t)=>{e.dealsColumns=t.payload.data},changeDealsStagesSortState:(e,t)=>{e.stages.data=t.payload},changeSortingForDealsReasons:(e,t)=>{e.reasons.FAIL=t.payload},changeDealItem:(e,t)=>{e.dealsColumns=Object.entries(e.dealsColumns).reduce(((e,[a,i])=>{var r;if(i.items.map((e=>+e.id)).includes((null===(r=t.payload)||void 0===r?void 0:r.id)||0)){const r=Object.assign(Object.assign({},i),{items:i.items.map((e=>{var a,i;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(i=t.payload)||void 0===i?void 0:i.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:r})}return Object.assign(Object.assign({},e),{[a]:i})}),{})}},extraReducers:{[n.fetchDealsStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages=t.payload},[n.fetchDealsStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchDealsStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=(0,s.sortStagesWhenCreateNew)(e.stages,t.payload)},[n.createDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.editDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[n.editDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[n.deleteDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.fetchReasonsForDeals.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons=t.payload},[n.fetchReasonsForDeals.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchReasonsForDeals.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createReasonsForDealsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL.push(t.payload)},[n.createReasonsForDealsStage.pending.type]:e=>{e.reasonsLoading=!0,e.errorMessage=""},[n.createReasonsForDealsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage=t.payload},[n.editReasonForDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))},[n.editReasonForDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editReasonForDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteReasonsForDealsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[n.deleteReasonsForDealsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteReasonsForDealsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});i=d.actions,t.changeDealsColumnsState=i.changeDealsColumnsState,t.changeDealsStagesSortState=i.changeDealsStagesSortState,t.changeSortingForDealsReasons=i.changeSortingForDealsReasons,t.changeDealItem=i.changeDealItem,t.default=d.reducer},5105:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteArrayTemplates=t.deleteTemplate=t.updateTemplate=t.createTemplate=t.fetchDocumentTemplatesFields=t.fetchDocumentTemplates=void 0;const s=a(5184),n=a(4809),d=a(3970);t.fetchDocumentTemplates=(0,s.createAsyncThunk)("documentTemplates/fetchDocumentTemplates",((e,t)=>i(void 0,void 0,void 0,(function*(){var a,i;try{const t=Object.assign(Object.assign(Object.assign({page:e.params.page,list:e.params.list},e.params.search?{search:e.params.search}:{}),{is_active:(Array.isArray(e.params.is_active)?e.params.is_active:[e.params.is_active]).map((e=>"active"===e?1:"noActive"===e?0:e)),create_between:e.params.create_between,update_between:e.params.update_between}),null===(a=e.params.binding_entities_template)||void 0===a?void 0:a.reduce(((e,t,a)=>(e[`binding_entities[${a}][entity_id]`]=t.entity_id,t.funnels.forEach(((t,i)=>{e[`binding_entities[${a}][funnels][${i}]`]=t})),e)),{})),r=yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDocumentTemplatesService)||void 0===i?void 0:i.getDocumentTemplates(t,null==e?void 0:e.signal);return null==r?void 0:r.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchDocumentTemplatesFields=(0,s.createAsyncThunk)("documentTemplates/fetchDocumentTemplatesFields",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=null==e?void 0:e.params,{search:i}=t,s=r(t,["search"]),d=Object.assign(Object.assign({},s),i?{search:i}:{}),o=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmDocumentTemplatesService)||void 0===a?void 0:a.getDocumentTemplatesFields(d,null==e?void 0:e.signal);return null==o?void 0:o.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createTemplate=(0,s.createAsyncThunk)("documentTemplates/createTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=new FormData;t.append("files[]",e.item.file),t.append("entityType","document_templates");const i=yield n.uspacySdk.httpClient.client.post(`${d.API_PREFIX_FILES}/files`,t,{headers:{"Content-Type":void 0}}),r=null==i?void 0:i.data,s=Object.assign(Object.assign({},e.item),{file:null===(a=null==r?void 0:r.data[0])||void 0===a?void 0:a.id}),o=yield n.uspacySdk.crmDocumentTemplatesService.createTemplate(s);return null==o?void 0:o.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateTemplate=(0,s.createAsyncThunk)("documentTemplates/updateTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){var a,i,s;try{let t={data:[{id:null}]};if(!(null===(a=e.item.file)||void 0===a?void 0:a.id)){const a=new FormData;a.append("files[]",e.item.file),a.append("entityType","document_templates"),a.append("entityId",e.item.id.toString());const i=yield n.uspacySdk.httpClient.client.post(`${d.API_PREFIX_FILES}/files`,a,{headers:{"Content-Type":void 0}});t=null==i?void 0:i.data}const o=e.item,{file:l,numerator_id:c}=o,u=r(o,["file","numerator_id"]),p=Object.assign(Object.assign({},u),(null===(i=null==t?void 0:t.data[0])||void 0===i?void 0:i.id)&&{file:null===(s=null==t?void 0:t.data[0])||void 0===s?void 0:s.id}),y=yield n.uspacySdk.crmDocumentTemplatesService.updateTemplate(e.item.id,p);return null==y?void 0:y.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteTemplate=(0,s.createAsyncThunk)("documentTemplates/deleteTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDocumentTemplatesService.deleteTemplate(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteArrayTemplates=(0,s.createAsyncThunk)("documentTemplates/deleteArrayTemplates",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmDocumentTemplatesService.deleteArrayTemplates(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},9222:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.changeFilesTemplate=t.toDefaultTemplate=t.changeTemplate=t.fillTemplate=t.changeFilterByType=t.changeFiltersByType=t.clearFilterByType=t.defaultTemplate=void 0;const r=a(5184),s=a(5105);t.defaultTemplate={name:"",is_active:!0,binding_entities:[],access:{departments:[],users:[]},file:null,numerator_id:0};const n={documentTemplates:{data:[],meta:{},total_templates_count:0},documentTemplatesFilters:{page:1,list:20,binding_entities_template:[],updated_at:[],created_at:[],createdAtCertainDateOrPeriod:[],updatedAtCertainDateOrPeriod:[],search:"",create_between:[],is_active:[],update_between:[]},template:t.defaultTemplate,documentTemplatesFields:{data:[],meta:{}},documentTemplatesFieldsFilters:{page:1,list:20,binding_entities:[],search:""},loadingDocumentTemplate:!1,loadingDocumentTemplates:!1,loadingDocumentTemplatesFields:!1,error:null},d=(0,r.createSlice)({name:"documentTemplates",initialState:n,reducers:{changeFilterByType:(e,t)=>{e[`${t.payload.type}Filters`][t.payload.key]=t.payload.value},changeFiltersByType:(e,t)=>{e[`${t.payload.type}Filters`]=t.payload.filters},clearFilterByType:(e,t)=>{e[`${t.payload.type}Filters`]=n[`${t.payload.type}Filters`]},fillTemplate:(e,t)=>{e.template=t.payload.item},changeTemplate:(e,t)=>{e.template=Object.assign(Object.assign({},e.template),t.payload.item)},toDefaultTemplate:e=>{e.template=t.defaultTemplate},changeFilesTemplate:(e,t)=>{e.documentTemplates.data=t.payload.items}},extraReducers:{[s.fetchDocumentTemplates.fulfilled.type]:(e,t)=>{e.loadingDocumentTemplates=!1,e.error=null,e.documentTemplates=t.payload},[s.fetchDocumentTemplates.pending.type]:e=>{e.loadingDocumentTemplates=!0,e.error=null},[s.fetchDocumentTemplates.rejected.type]:(e,t)=>{e.loadingDocumentTemplates=!1,e.error=t.payload},[s.fetchDocumentTemplatesFields.fulfilled.type]:(e,t)=>{e.loadingDocumentTemplatesFields=!1,e.error=null,e.documentTemplatesFields=t.payload},[s.fetchDocumentTemplatesFields.pending.type]:e=>{e.loadingDocumentTemplatesFields=!0,e.error=null},[s.fetchDocumentTemplatesFields.rejected.type]:(e,t)=>{e.loadingDocumentTemplatesFields=!1,e.error=t.payload},[s.createTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total+1}),data:[a.payload,...e.documentTemplates.data],total_templates_count:e.documentTemplates.total_templates_count+1},e.template=t.defaultTemplate},[s.createTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.createTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.updateTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:e.documentTemplates.meta,data:e.documentTemplates.data.map((e=>e.id===a.payload.id?a.payload:e)),total_templates_count:e.documentTemplates.total_templates_count},e.template=t.defaultTemplate},[s.updateTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.updateTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.deleteTemplate.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total-1}),data:e.documentTemplates.data.filter((e=>e.id!==a.payload)),total_templates_count:e.documentTemplates.total_templates_count-1},e.template=t.defaultTemplate},[s.deleteTemplate.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.deleteTemplate.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload},[s.deleteArrayTemplates.fulfilled.type]:(e,a)=>{e.loadingDocumentTemplate=!1,e.error=null,e.documentTemplates={meta:Object.assign(Object.assign({},e.documentTemplates.meta),{total:e.documentTemplates.meta.total-a.payload.length}),data:e.documentTemplates.data.filter((e=>!a.payload.includes(e.id))),total_templates_count:e.documentTemplates.total_templates_count-a.payload.length},e.template=t.defaultTemplate},[s.deleteArrayTemplates.pending.type]:e=>{e.loadingDocumentTemplate=!0,e.error=null},[s.deleteArrayTemplates.rejected.type]:(e,t)=>{e.loadingDocumentTemplate=!1,e.error=t.payload}}});i=d.actions,t.clearFilterByType=i.clearFilterByType,t.changeFiltersByType=i.changeFiltersByType,t.changeFilterByType=i.changeFilterByType,t.fillTemplate=i.fillTemplate,t.changeTemplate=i.changeTemplate,t.toDefaultTemplate=i.toDefaultTemplate,t.changeFilesTemplate=i.changeFilesTemplate,t.default=d.reducer},2187:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.createUniversalEntityItemFromKanban=t.moveUniversalItemFromStageToStage=t.massUniversalEntityItemsEditing=t.massUniversalEntityItemsDeletion=t.deleteUniversalEntityItem=t.updateUniversalEntityItem=t.createUniversalEntityItem=t.fetchUniversalEntityItemsWithFilters=t.fetchEntityItemsForUniversalEntity=t.deleteReasonForUniversalEntity=t.editReasonForUniversalEntity=t.createReasonsForUniversalEntity=t.fetchStagesForUniversalEntity=t.deleteStageForUniversalEntity=t.editStageForUniversalEntity=t.createStageForUniversalEntity=t.deleteFunnelForUniversalEntity=t.editFunnelForUniversalEntity=t.createFunnelForUniversalEntity=t.deleteFieldForUniversalEntity=t.deleteListValuesForUniversalEntity=t.createFieldForUniversalEntity=t.updateListValuesForUniversalEntity=t.updateFieldForUniversalEntity=t.fetchFieldsForUniversalEntity=t.fetchUniversalFunnel=t.editUniversalEntity=t.deleteUniversalEntity=t.createUniversalEntity=t.fetchEntitiesWithFunnels=t.fetchEntities=void 0;const s=a(5184),n=a(4809),d=a(9860);t.fetchEntities=(0,s.createAsyncThunk)("entities/fetchEntities",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmEntitiesService.getEntities();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchEntitiesWithFunnels=(0,s.createAsyncThunk)("entities/fetchEntitiesWithFunnels",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmEntitiesService.getEntitiesWithFunnels();return null==e?void 0:e.data}catch(e){return t.rejectWithValue(e)}})))),t.createUniversalEntity=(0,s.createAsyncThunk)("entities/createUniversalEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.createEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteUniversalEntity=(0,s.createAsyncThunk)("entities/deleteEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntity(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.editUniversalEntity=(0,s.createAsyncThunk)("entities/editEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.updateEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue(e)}})))),t.fetchUniversalFunnel=(0,s.createAsyncThunk)("entities/fetchUniversalFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.getEntityFunnel(e);return{res:null==t?void 0:t.data,code:e}}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchFieldsForUniversalEntity=(0,s.createAsyncThunk)("entities/fetchFieldsForUniversalEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.getEntityFields(e);return{res:null==t?void 0:t.data,code:e}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/updateFieldForUniversalEntity",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{code:a}=e,i=r(e,["code"]),s=yield n.uspacySdk.crmEntitiesService.updateEntityField(t,a,i);return{response:null==s?void 0:s.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateListValuesForUniversalEntity=(0,s.createAsyncThunk)("entities/updateListValuesForUniversalEntity",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{code:a,values:i}=e,r=yield n.uspacySdk.crmEntitiesService.updateEntityListValues(t,a,i);return{code:a,values:null==r?void 0:r.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/createFieldForUniversalEntity",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityField(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteListValuesForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteListValuesForUniversalEntity",(({value:e,fieldCode:t,entityCode:a},r)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityListValues(a,t,e),{value:e,fieldCode:t,entityCode:a}}catch(e){return r.rejectWithValue("Failure")}})))),t.deleteFieldForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteLeadFieldForUniversalEntity",(({fieldCode:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityField(t,e),{fieldCode:e,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/createFunnelForUniversalEntity",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityFunnel(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.editFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/editFunnelForUniversalEntity",(({funnelData:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){const{id:i}=e,s=r(e,["id"]);try{const e=yield n.uspacySdk.crmEntitiesService.updateEntityFunnel(t,i,s);return{response:null==e?void 0:e.data,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteFunnelForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteFunnelForUniversalEntity",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityFunnel(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.createStageForUniversalEntity=(0,s.createAsyncThunk)("entities/createStageForUniversalEntity",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){const{funnel_id:i}=e;try{const a=yield n.uspacySdk.crmEntitiesService.createEntityStage(t,e);return{response:null==a?void 0:a.data,entityCode:t,funnel_id:i}}catch(e){return a.rejectWithValue("Failure")}})))),t.editStageForUniversalEntity=(0,s.createAsyncThunk)("entities/editStageForUniversalEntity",(({id:e,data:t,entityCode:a,funnelId:r},s)=>i(void 0,void 0,void 0,(function*(){try{const i=yield n.uspacySdk.crmEntitiesService.updateEntityStage(a,e,t);return{response:null==i?void 0:i.data,funnelId:r,entityCode:a}}catch(e){return s.rejectWithValue("Failure")}})))),t.deleteStageForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteStageForUniversalEntity",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityStage(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.fetchStagesForUniversalEntity=(0,s.createAsyncThunk)("entities/fetchStagesForForUniversalEntity",(({funnelId:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.getEntityStages(t,e);return{response:{data:(null==a?void 0:a.data).data,funnelId:e},funnelId:e,entityCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.createReasonsForUniversalEntity=(0,s.createAsyncThunk)("entities/createReasonsForForUniversalEntity",(({reasonData:e,funnelId:t,entityCode:a},r)=>i(void 0,void 0,void 0,(function*(){try{const i=yield n.uspacySdk.crmEntitiesService.createEntityReason(t,e);return{response:null==i?void 0:i.data,funnelId:t,entityCode:a}}catch(e){return r.rejectWithValue("Failure")}})))),t.editReasonForUniversalEntity=(0,s.createAsyncThunk)("entities/editReasonForUniversalEntity",(({reasonData:e,funnelId:t,entityCode:a},s)=>i(void 0,void 0,void 0,(function*(){const{id:i}=e,d=r(e,["id"]);try{const e=yield n.uspacySdk.crmEntitiesService.updateEntityReason(i,d);return{response:null==e?void 0:e.data,funnelId:t,entityCode:a}}catch(e){return s.rejectWithValue(e)}})))),t.deleteReasonForUniversalEntity=(0,s.createAsyncThunk)("entities/deleteReasonForUniversalEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityReason(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchEntityItemsForUniversalEntity=(0,s.createAsyncThunk)("entitites/fetchEntityItemsForUniversalEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmEntitiesService.getEntityItems(e);return{res:null==t?void 0:t.data,entityCode:e}}catch(e){return t.rejectWithValue(e)}})))),t.fetchUniversalEntityItemsWithFilters=(0,s.createAsyncThunk)("entitites/fetchUniversalEntityItemsWithFilters",(({data:e},t)=>i(void 0,void 0,void 0,(function*(){try{const t=(0,d.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),a=e.params.entityCode,i=e.signal,r=yield n.uspacySdk.crmEntitiesService.getEntityItemsWithFilters(a,t,i,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return{res:null==r?void 0:r.data,entityCode:a,signal:i}}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue(a)}})))),t.createUniversalEntityItem=(0,s.createAsyncThunk)("entitites/createUniversalEntityItem",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityItem(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateUniversalEntityItem=(0,s.createAsyncThunk)("entitites/updateUniversalEntityItem",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{id:a}=e,i=r(e,["id"]),s=yield n.uspacySdk.crmEntitiesService.updateEntityItem(t,a,i);return null==s?void 0:s.data}catch(e){return a.rejectWithValue(e)}})))),t.deleteUniversalEntityItem=(0,s.createAsyncThunk)("entitites/deleteUniversalEntityItem",(({id:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.deleteEntityItem(t,e),{id:e,entityCode:t}}catch(e){return a.rejectWithValue(e)}})))),t.massUniversalEntityItemsDeletion=(0,s.createAsyncThunk)("entities/massUniversalEntityItemsDeletion",(({entityCode:e,entityIds:t,exceptIds:a,all:r,params:s},{rejectWithValue:d})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.massEntityItemsDeletion(e,{all:r,entityIds:t,exceptIds:a,params:r&&(null==s?void 0:s.length)?`/?${s}`:""}),{entityCode:e,entityIds:t,exceptIds:a,all:r}}catch(e){return d(e)}})))),t.massUniversalEntityItemsEditing=(0,s.createAsyncThunk)("entities/massUniversalEntityItemsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l,entityCode:c},{rejectWithValue:u})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.massEntityItemsEditing(c,{all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityCode:c,entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return u(e)}})))),t.moveUniversalItemFromStageToStage=(0,s.createAsyncThunk)("stages/moveUniversalItemFromStageToStage",(({entityId:e,stageId:t,reason_id:a,funnelHasChanged:r,entityCode:s,isFinishedStage:d,profileId:o},l)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmEntitiesService.moveEntityItemFromStageToStage(s,e,t,a),{entityId:e,stageId:t,funnelHasChanged:r,entityCode:s,isFinishedStage:d,profileId:o}}catch(e){return l.rejectWithValue(e)}})))),t.createUniversalEntityItemFromKanban=(0,s.createAsyncThunk)("deals/createUniversalEntityItemFromKanban",(({data:e,entityCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmEntitiesService.createEntityItemFromKanban(t,e);return{response:null==a?void 0:a.data,entityCode:t}}catch(e){return a.rejectWithValue(e)}}))))},6021:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setUniversalEntityCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.clearDataByTableName=t.clearCreatedUniversalEntityItem=t.clearDNDItem=t.dndHandlerAddCardFromColumn=t.dndHandlerDeleteCardFromColumn=t.moveEntityChangeCardInColumn=t.changeUniversalEntityFunnelState=t.changeUniversalEntityItem=t.changeReasonForUniversalEntityItem=t.changeEntityItemColumnsState=t.changeCreateEntityMode=t.changeEntityCode=t.clearItemsFilterUniversalEntity=t.changeItemsFilterUniversalEntity=t.changeFilterUniversalEntity=t.initialEntityItemFilter=t.initialEntityFilterPreset=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(2089),o=a(2187);t.initialEntityFilterPreset={isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},t.initialEntityItemFilter={created_at:[],updated_at:[],created_at_period:[],updated_at_period:[],created_by:[],changed_by:[],time_label:[],certainDateOrPeriod:[],owner:[],search:"",page:0,perPage:0,select:0,entityCode:"",boolean_operator:"",stages:[],openDatePicker:!1,table_fields:[],sortModel:[]};const l={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"stage",fieldSectionId:"",sort:"",defaultValue:"",system_field:!1},c={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},u={entities:{data:[]},entitiesWithFunnels:{data:[]},entityFilters:{},entityFiltersPreset:t.initialEntityFilterPreset,entityItemsColumns:{},errorMessage:null,loading:!1,loadingItems:!1,createEntityMode:!1,movingCard:!1,deletedItemId:0,deletedItemIds:[],changeItems:[],dndEntityItem:c,createdUniversalEntityItem:{}},p=(0,r.createSlice)({name:"entities",initialState:u,reducers:{changeFilterUniversalEntity:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),{[t.payload.key]:t.payload.value})})},changeItemsFilterUniversalEntity:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:t.payload.filters})},clearItemsFilterUniversalEntity:(e,t)=>{var a,i,r,d,o;if(null===(a=Object.keys(e.entityFilters[t.payload.tableCode]))||void 0===a?void 0:a.length){const a=(null===(r=null===(i=e.entities.data.find((e=>e.table_name===t.payload.tableCode)))||void 0===i?void 0:i.fields)||void 0===r?void 0:r.data)||[];e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign(Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),null==a?void 0:a.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(d=null==e?void 0:e.entityFilters[t.payload.tableCode])||void 0===d?void 0:d.sortModel)||[],table_fields:(null===(o=e.entityFilters[t.payload.tableCode])||void 0===o?void 0:o.table_fields)||[],page:1,perPage:20,select:0,entityCode:e.entityFilters[t.payload.tableCode].entityCode})})}},changeEntityCode:(e,t)=>{e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.tableCode]:Object.assign(Object.assign({},e.entityFilters[t.payload.tableCode]),{entityCode:t.payload.entityCode})})},changeCreateEntityMode:(e,t)=>{e.createEntityMode=t.payload},changeEntityItemColumnsState:(e,t)=>{e.entityItemsColumns=t.payload.data},changeReasonForUniversalEntityItem:(e,t)=>{var a,i;e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a,i;return(null==e?void 0:e.table_name)===t.payload.entityCode&&(null===(i=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===i||i.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))),e}))},changeUniversalEntityItem:(e,t)=>{e.entityItemsColumns=Object.entries(e.entityItemsColumns).reduce(((e,[a,i])=>{var r;if(i.items.map((e=>+e.id)).includes((null===(r=t.payload)||void 0===r?void 0:r.id)||0)){const r=Object.assign(Object.assign({},i),{items:i.items.map((e=>{var a,i;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(i=t.payload)||void 0===i?void 0:i.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:r})}return Object.assign(Object.assign({},e),{[a]:i})}),{})},changeUniversalEntityFunnelState:(e,t)=>{var a,i;e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>e.table_name===t.payload.entityCode?(e.funnels=e.funnels.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e)),e):e))},moveEntityChangeCardInColumn:(e,t)=>{var a,i;e.dndEntityItem=t.payload.dndItem,e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a,i,r;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)?(null===(r=null===(i=null==e?void 0:e.items)||void 0===i?void 0:i.data)||void 0===r||r.map((e=>{var a,i,r,s,n,d,o,l,c,u;return(null==e?void 0:e.id)===+(null===(r=null===(i=null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.dndItem)||void 0===i?void 0:i.item)||void 0===r?void 0:r.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(d=null===(n=t.payload)||void 0===n?void 0:n.meta)||void 0===d?void 0:d.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(u=null===(c=null==t?void 0:t.payload)||void 0===c?void 0:c.dndItem)||void 0===u?void 0:u.toColumnId)}):e})),e):e}))},dndHandlerDeleteCardFromColumn:e=>{e.dndEntityItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndEntityItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndEntityItem=c},clearCreatedUniversalEntityItem:e=>{e.createdUniversalEntityItem={id:0}},clearDataByTableName:(e,t)=>{var a,i;e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>(null==e?void 0:e.table_name)===(null==t?void 0:t.payload)?Object.assign(Object.assign({},e),{data:[],items:[]}):e)),e.loadingItems=!0},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.entityFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.entityFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.entityFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.entityFiltersPreset.filterPresets=t.payload},setUniversalEntityCardBlocks:(e,t)=>{var a,i;e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a,i;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)?Object.assign(Object.assign({},e),{cardBlocks:null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.cardBlocks}):e}))}},extraReducers:{[o.fetchEntities.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities=t.payload},[o.fetchEntities.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntities.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchEntitiesWithFunnels.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entitiesWithFunnels=t.payload},[o.fetchEntitiesWithFunnels.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntitiesWithFunnels.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.push(t.payload)},[o.createUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteUniversalEntity.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null,e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[o.deleteUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editUniversalEntity.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null,e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[o.editUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchUniversalFunnel.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null;const r=t.payload.res.map((e=>(e.stages.sort(((e,t)=>e.sort-t.sort)),e))).map((e=>"Universal funnel"===e.title?Object.assign(Object.assign({},e),{title:"newDirection"}):e));null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i||i.forEach((e=>{e.table_name===t.payload.code&&(e.funnels=r)}))},[o.fetchUniversalFunnel.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchUniversalFunnel.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchFieldsForUniversalEntity.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null,null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i||i.forEach((a=>{a.table_name===t.payload.code&&(a.fields=t.payload.res,a.fields.data.splice(0,0,s.idColumn),a.fields.data.splice(2,0,l),e.entityFilters=Object.assign(Object.assign({},e.entityFilters),{[t.payload.code]:Object.assign(Object.assign(Object.assign(Object.assign({},e.entityFilters[t.payload.code]),a.fields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{select:0,entityCode:t.payload.code})}))}))},[o.fetchFieldsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchFieldsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateFieldForUniversalEntity.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null,e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a,i,r;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)&&(e.fields.data=null===(r=null===(i=null==e?void 0:e.fields)||void 0===i?void 0:i.data)||void 0===r?void 0:r.map((e=>{var a,i,r,s,n;return e.code===(null===(i=null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.response)||void 0===i?void 0:i.code)?Object.assign(Object.assign({},null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.response),{values:(null===(n=null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.response)||void 0===n?void 0:n.values)||(null==e?void 0:e.values)}):e}))),e}))},[o.updateFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createFieldForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a,i;e.table_name===t.payload.entityCode&&(null===(i=null===(a=null==e?void 0:e.fields)||void 0===a?void 0:a.data)||void 0===i||i.push(t.payload.response))}))},[o.createFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateListValuesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.map((e=>(null==e?void 0:e.code)===t.payload.code?Object.assign(Object.assign({},e),{values:t.payload.values}):e))),e)))},[o.updateListValuesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateListValuesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteListValuesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.map((e=>((null==e?void 0:e.code)===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))),e)))},[o.deleteListValuesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteListValuesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteFieldForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.fields.data=e.fields.data.filter((e=>(null==e?void 0:e.code)!==t.payload.fieldCode))),e)))},[o.deleteFieldForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteFieldForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a;return e.table_name===t.payload.entityCode&&(null==e?void 0:e.funnels)&&(null===(a=null==e?void 0:e.funnels)||void 0===a||a.push(t.payload.response)),e}))},[o.createFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>e.id===t.payload.response.id?Object.assign(Object.assign({},e),t.payload.response):e))),e)))},[o.editFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteFunnelForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.filter((e=>e.id!==t.payload.id))),e)))},[o.deleteFunnelForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteFunnelForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,d.sortStagesWhenCreateNew)({data:e.stages},t.payload.response)}):e))),e)))},[o.createStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=e.stages.map((e=>e.id===t.payload.response.id?t.payload.response:e))),e))),e)))},[o.editStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteStageForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.stages=e.stages.filter((e=>e.id!==t.payload.id)),e)))),e)))},[o.deleteStageForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteStageForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchStagesForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=t.payload.response.data),e)))),e)))},[o.fetchStagesForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchStagesForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createReasonsForUniversalEntity.fulfilled.type]:(e,t)=>{const{response:a,funnelId:i,entityCode:r}=t.payload;return e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===r&&(e.funnels=e.funnels.map((e=>(e.id===i&&(e.stages=e.stages.map((e=>("FAIL"===e.stage_code&&e.reasons.push(a),e)))),e)))),e))),e},[o.createReasonsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createReasonsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editReasonForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.funnels=e.funnels.map((e=>(e.id===t.payload.funnelId&&(e.stages=e.stages.map((e=>("FAIL"===e.stage_code&&(e.reasons=e.reasons.map((e=>e.id===t.payload.response.id?t.payload.response:e))),e)))),e)))),e)))},[o.editReasonForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.editReasonForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.fetchEntityItemsForUniversalEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{e.table_name===t.payload.entityCode&&(e.items=t.payload.res)}))},[o.fetchEntityItemsForUniversalEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.fetchEntityItemsForUniversalEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>{var a,i,r;return e.table_name===t.payload.entityCode&&(null===(i=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===i?void 0:i.length)&&(null===(r=null==e?void 0:e.items)||void 0===r||r.data.unshift(t.payload.response),e.items.meta.total=++e.items.meta.total),e}))},[o.createUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data=e.entities.data.map((e=>{var a,i;return e.table_name===t.payload.entityCode&&(null===(i=null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)||void 0===i||i.map((e=>e.id===t.payload.data.id?t.payload.data.id:e))),e}))},[o.updateUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.updateUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteUniversalEntityItem.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=null,e.entities.data.map((e=>{var a;return e.table_name===t.payload.entityCode&&(null===(a=null==e?void 0:e.items)||void 0===a?void 0:a.data)&&(e.items.data=e.items.data.filter((e=>e.id!==t.payload.id)),e.items.meta.total-=1),e})),e.deletedItemId=t.payload.id},[o.deleteUniversalEntityItem.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.deleteUniversalEntityItem.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.massUniversalEntityItemsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=null,e.entities.data.map((a=>{var i,r,s,n,d;return a.table_name===t.payload.entityCode&&(null===(i=null==a?void 0:a.items)||void 0===i?void 0:i.data)&&(a.items.data=a.items.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deletedItemIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),(null===(s=null===(r=null==a?void 0:a.items)||void 0===r?void 0:r.meta)||void 0===s?void 0:s.total)&&(t.payload.all?a.items.meta.total=0:t.payload.all&&t.payload.exceptIds.length?a.items.meta.total=t.payload.exceptIds.length:a.items.meta.total=(null===(d=null===(n=null==a?void 0:a.items)||void 0===n?void 0:n.meta)||void 0===d?void 0:d.total)-t.payload.entityIds.length)),a}))},[o.massUniversalEntityItemsDeletion.pending.type]:e=>{e.loading=!0,e.loadingItems=!0,e.errorMessage=null},[o.massUniversalEntityItemsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=t.payload},[o.massUniversalEntityItemsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=null},[o.massUniversalEntityItemsEditing.pending.type]:e=>{e.loading=!0,e.loadingItems=!0,e.errorMessage=null},[o.massUniversalEntityItemsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingItems=!1,e.errorMessage=t.payload},[o.fetchUniversalEntityItemsWithFilters.fulfilled.type]:(e,t)=>{e.loadingItems=t.payload.aborted,e.errorMessage=null,e.entities.data.map((e=>(e.table_name===t.payload.entityCode&&(e.items=t.payload.aborted?e.items:t.payload.res),e)))},[o.fetchUniversalEntityItemsWithFilters.pending.type]:e=>{e.loadingItems=!0,e.errorMessage=null},[o.fetchUniversalEntityItemsWithFilters.rejected.type]:(e,t)=>{e.loadingItems=!1,e.errorMessage=t.payload},[o.moveUniversalItemFromStageToStage.fulfilled.type]:(e,t)=>{var a,i,r,s;e.movingCard=!1,e.errorMessage=null;const n=e.entities.data.findIndex((e=>{var a;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)}));if(-1!==n){const d=e.entities.data[n];(null===(a=null==d?void 0:d.items)||void 0===a?void 0:a.data)&&((null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.funnelHasChanged)?d.items.data=d.items.data.filter((e=>{var a;return(null==e?void 0:e.id)!==(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)})):d.items.data=null===(s=null===(r=null==d?void 0:d.items)||void 0===r?void 0:r.data)||void 0===s?void 0:s.map((e=>{var a,i,r,s,n;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.profileId}),(null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(n=null==t?void 0:t.payload)||void 0===n?void 0:n.profileId}):e})))}},[o.moveUniversalItemFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=null},[o.moveUniversalItemFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload},[o.createUniversalEntityItemFromKanban.fulfilled.type]:(e,t)=>{var a,i;e.loading=!1,e.errorMessage=null,e.entities.data=null===(i=null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.data)||void 0===i?void 0:i.map((e=>{var a,i,r,s;return(null==e?void 0:e.table_name)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityCode)&&Array.isArray(null===(i=e.items)||void 0===i?void 0:i.data)?Object.assign(Object.assign({},e),{items:Object.assign(Object.assign({},e.items),{data:[null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.response,...null===(s=null==e?void 0:e.items)||void 0===s?void 0:s.data]})}):e})),e.createdUniversalEntityItem=t.payload.response},[o.createUniversalEntityItemFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=null},[o.createUniversalEntityItemFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});i=p.actions,t.changeFilterUniversalEntity=i.changeFilterUniversalEntity,t.changeItemsFilterUniversalEntity=i.changeItemsFilterUniversalEntity,t.clearItemsFilterUniversalEntity=i.clearItemsFilterUniversalEntity,t.changeEntityCode=i.changeEntityCode,t.changeCreateEntityMode=i.changeCreateEntityMode,t.changeEntityItemColumnsState=i.changeEntityItemColumnsState,t.changeReasonForUniversalEntityItem=i.changeReasonForUniversalEntityItem,t.changeUniversalEntityItem=i.changeUniversalEntityItem,t.changeUniversalEntityFunnelState=i.changeUniversalEntityFunnelState,t.moveEntityChangeCardInColumn=i.moveEntityChangeCardInColumn,t.dndHandlerDeleteCardFromColumn=i.dndHandlerDeleteCardFromColumn,t.dndHandlerAddCardFromColumn=i.dndHandlerAddCardFromColumn,t.clearDNDItem=i.clearDNDItem,t.clearCreatedUniversalEntityItem=i.clearCreatedUniversalEntityItem,t.clearDataByTableName=i.clearDataByTableName,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setUniversalEntityCardBlocks=i.setUniversalEntityCardBlocks,t.default=p.reducer},7704:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.moveLeadFromStageToStage=t.deleteLeadField=t.deleteLeadListValues=t.createLeadField=t.updateLeadListValues=t.updateLeadField=t.fetchFieldsForLead=t.massLeadsEditing=t.massLeadsDeletion=t.deleteLead=t.updateLead=t.createLeadFromKanban=t.createLead=t.fetchLeadsByStages=t.fetchLeadsWithFilters=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(349);t.fetchLeadsWithFilters=(0,s.createAsyncThunk)("leads/fetchLeadsWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=(0,d.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),a=(0,o.makeURIParams)(t),i=yield n.uspacySdk.crmLeadsService.getLeadsWithFilters(a,null==e?void 0:e.signal,null==e?void 0:e.relatedEntityId,null==e?void 0:e.relatedEntityType);return null==i?void 0:i.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.fetchLeadsByStages=(0,s.createAsyncThunk)("leads/fetchLeadsByStages",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmLeadsService.getLeadsByStage(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLead=(0,s.createAsyncThunk)("leads/createLead",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmLeadsService.createLead(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.createLeadFromKanban=(0,s.createAsyncThunk)("leads/createLeadFromKanban",(({data:e,dontRenderInKanban:t},a)=>i(void 0,void 0,void 0,(function*(){try{const{id:a}=e,i=r(e,["id"]),s=yield n.uspacySdk.crmLeadsService.createLead(i);return{data:null==s?void 0:s.data,dontRenderInKanban:t}}catch(e){return a.rejectWithValue(e)}})))),t.updateLead=(0,s.createAsyncThunk)("leads/updateLead",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmLeadsService.updateLead(t,a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue(e)}})))),t.deleteLead=(0,s.createAsyncThunk)("leads/deleteLead",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.deleteLead(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massLeadsDeletion=(0,s.createAsyncThunk)("leads/massLeadsDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.massLeadsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massLeadsEditing=(0,s.createAsyncThunk)("leads/massLeadsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.massLeadsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForLead=(0,s.createAsyncThunk)("leads/fetchFieldsForLead",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmLeadsService.getLeadFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateLeadField=(0,s.createAsyncThunk)("leads/updateLeadField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmLeadsService.updateLeadField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateLeadListValues=(0,s.createAsyncThunk)("leads/updateLeadListValues",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmLeadsService.updateLeadListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadField=(0,s.createAsyncThunk)("leads/createLeadField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmLeadsService.createLeadField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteLeadListValues=(0,s.createAsyncThunk)("leads/deleteLeadListValues",(({value:e,fieldCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.deleteLeadListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteLeadField=(0,s.createAsyncThunk)("leads/deleteLeadField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.deleteLeadField(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.moveLeadFromStageToStage=(0,s.createAsyncThunk)("stages/moveLeadFromStageToStage",(({entityId:e,stageId:t,reason_id:a,isFinishedStage:r,profileId:s},d)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmLeadsService.moveLeadFromStageToStage(e,t,a),{entityId:e,stageId:t,isFinishedStage:r,profileId:s}}catch(e){return d.rejectWithValue("Failure")}}))))},905:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setCardBlocks=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForLead=t.clearUpdateLead=t.clearDNDItem=t.dndHandlerAddCardFromColumn=t.dndHandlerDeleteCardFromColumn=t.clearCreatedLead=t.moveLeadChangeCardInColumn=t.clearLeadsFilter=t.clearLeads=t.changeItemsFilterLeads=t.changeFilterLeads=t.initialLeadsFilter=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(7704),o={fromColumnId:"",toColumnId:"",cardId:"",item:{},isDeleteFromColumn:!1,isAddToColumn:!1},l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialLeadsFilter={kanban_status:[],stages:[],source:[],period:[],time_label:[],certainDateOrPeriod:[],owner:[],openDatePicker:!1,search:"",page:0,perPage:0,boolean_operator:"",table_fields:[],sortModel:[]};const c={leads:l,lead:{},updatedLead:{},leadCard:{},createdLead:{},leadFields:{data:[]},deleteLeadId:0,deleteLeadIds:[],deleteAllFromKanban:!1,changeLeads:[],leadFilters:{},leadFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingLeadList:!0,loadingLeadFields:!0,movingCard:!1,dndLeadItem:o,cardBlocks:[]},u={name:"stage",code:"kanban_stage_id",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"stage",fieldSectionId:"",system_field:!0,sort:"",defaultValue:""},p=(0,r.createSlice)({name:"leads",initialState:c,reducers:{changeFilterLeads:(e,t)=>{e.leadFilters[t.payload.key]=t.payload.value},changeItemsFilterLeads:(e,t)=>{e.leadFilters=t.payload},clearLeads:e=>{e.leads=l,e.loadingLeadList=!0},clearLeadsFilter:e=>{var t,a,i;(null===(t=Object.keys(e.leadFields.data))||void 0===t?void 0:t.length)&&(e.leadFilters=Object.assign(Object.assign(Object.assign({},e.leadFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{sortModel:(null===(a=null==e?void 0:e.leadFilters)||void 0===a?void 0:a.sortModel)||[],table_fields:(null===(i=null==e?void 0:e.leadFilters)||void 0===i?void 0:i.table_fields)||[],page:1,perPage:20}))},moveLeadChangeCardInColumn:(e,t)=>{var a;e.dndLeadItem=null===(a=t.payload)||void 0===a?void 0:a.data,e.leads.data=e.leads.data.map((e=>{var a,i,r,s,n,d,o,l,c;return e.id===+(null===(r=null===(i=null===(a=t.payload)||void 0===a?void 0:a.data)||void 0===i?void 0:i.item)||void 0===r?void 0:r.id)?Object.assign(Object.assign(Object.assign({},e),(null===(s=t.payload)||void 0===s?void 0:s.meta)||{}),{first_closed_at:e.first_closed_at||(null===(d=null===(n=t.payload)||void 0===n?void 0:n.meta)||void 0===d?void 0:d.closed_at),first_closed_by:e.first_closed_by||(null===(l=null===(o=t.payload)||void 0===o?void 0:o.meta)||void 0===l?void 0:l.changed_by),kanban_stage_id:+(null===(c=t.payload.data)||void 0===c?void 0:c.toColumnId)}):e}))},clearCreatedLead:e=>{e.createdLead={id:0}},dndHandlerDeleteCardFromColumn:e=>{e.dndLeadItem.isDeleteFromColumn=!0},dndHandlerAddCardFromColumn:e=>{e.dndLeadItem.isAddToColumn=!0},clearDNDItem:e=>{e.dndLeadItem=o},clearUpdateLead:e=>{e.updatedLead=c.updatedLead},changeReasonForLead:(e,t)=>{e.leads.data=e.leads.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.leadFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.leadFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.leadFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.leadFiltersPreset.filterPresets=t.payload},setCardBlocks:(e,t)=>{e.cardBlocks=t.payload}},extraReducers:{[d.fetchLeadsWithFilters.fulfilled.type]:(e,t)=>{e.loadingLeadList=t.payload.aborted,e.errorMessage="",e.leads=t.payload.aborted?e.leads:t.payload},[d.fetchLeadsWithFilters.pending.type]:e=>{e.loadingLeadList=!0,e.errorMessage=""},[d.fetchLeadsWithFilters.rejected.type]:(e,t)=>{e.loadingLeadList=!1,e.errorMessage=t.payload},[d.fetchLeadsByStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads=t.payload},[d.fetchLeadsByStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchLeadsByStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads.data.unshift(t.payload),e.createdLead=t.payload,e.leads.meta.total=++e.leads.meta.total},[d.createLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createLeadFromKanban.fulfilled.type]:(e,t)=>{var a,i,r;e.loading=!1,e.errorMessage="",e.leads.data.unshift(null===(a=t.payload)||void 0===a?void 0:a.data),(null===(i=t.payload)||void 0===i?void 0:i.dontRenderInKanban)||(e.createdLead=null===(r=t.payload)||void 0===r?void 0:r.data)},[d.createLeadFromKanban.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createLeadFromKanban.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.updatedLead=t.payload,e.leads.data=e.leads.data.map((e=>e.id===t.payload.id?t.payload:e))},[d.updateLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leads.data=e.leads.data.filter((e=>e.id!==t.payload)),e.deleteLeadId=t.payload,e.leads.meta.total=--e.leads.meta.total},[d.deleteLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.massLeadsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage="",e.leads.data=e.leads.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteLeadIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.leads.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.leads.meta.total=t.payload.exceptIds.length:e.leads.meta.total=e.leads.meta.total-t.payload.entityIds.length},[d.massLeadsDeletion.pending.type]:e=>{e.loading=!0,e.loadingLeadList=!0,e.errorMessage=""},[d.massLeadsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage=t.payload},[d.massLeadsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[d.massLeadsEditing.pending.type]:e=>{e.loading=!0,e.loadingLeadList=!0,e.errorMessage=""},[d.massLeadsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadList=!1,e.errorMessage=t.payload},[d.fetchFieldsForLead.fulfilled.type]:(e,t)=>{var a;e.loading=!1,e.loadingLeadFields=!1,e.errorMessage="",e.leadFields=t.payload,e.leadFields.data.splice(0,0,s.idColumn),e.leadFields.data.splice(2,0,u),e.leadFields.data.forEach((e=>{var t;null===(t=null==e?void 0:e.values)||void 0===t||t.sort(((e,t)=>e.sort-t.sort))})),(null===(a=Object.keys(e.leadFilters))||void 0===a?void 0:a.length)||(e.leadFilters=Object.assign(Object.assign({},e.leadFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS))},[d.fetchFieldsForLead.pending.type]:e=>{e.loading=!0,e.loadingLeadFields=!0,e.errorMessage=""},[d.fetchFieldsForLead.rejected.type]:(e,t)=>{e.loading=!1,e.loadingLeadFields=!1,e.errorMessage=t.payload},[d.updateLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>{var a;return e.code===t.payload.code?Object.assign(Object.assign({},t.payload),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)}):e}))},[d.updateLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.updateLeadListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[d.updateLeadListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.updateLeadListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data.push(t.payload)},[d.createLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteLeadListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[d.deleteLeadListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteLeadListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteLeadField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.leadFields.data=e.leadFields.data.filter((e=>e.code!==t.payload))},[d.deleteLeadField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteLeadField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.moveLeadFromStageToStage.fulfilled.type]:(e,t)=>{e.movingCard=!1,e.errorMessage="",e.leads.data=e.leads.data.map((e=>{var a,i,r,s,n;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.entityId)?Object.assign(Object.assign(Object.assign({},e),{kanban_stage_id:+t.payload.stageId,updated_at:Math.floor((new Date).valueOf()/1e3),changed_by:null===(i=null==t?void 0:t.payload)||void 0===i?void 0:i.profileId}),(null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.isFinishedStage)&&{first_closed_at:(null==e?void 0:e.first_closed_at)||Math.floor((new Date).valueOf()/1e3),closed_at:Math.floor((new Date).valueOf()/1e3),first_closed_by:(null==e?void 0:e.first_closed_by)||(null===(s=null==t?void 0:t.payload)||void 0===s?void 0:s.profileId),closed_by:null===(n=null==t?void 0:t.payload)||void 0===n?void 0:n.profileId}):e}))},[d.moveLeadFromStageToStage.pending.type]:e=>{e.movingCard=!0,e.errorMessage=""},[d.moveLeadFromStageToStage.rejected.type]:(e,t)=>{e.movingCard=!1,e.errorMessage=t.payload}}});i=p.actions,t.changeFilterLeads=i.changeFilterLeads,t.changeItemsFilterLeads=i.changeItemsFilterLeads,t.clearLeads=i.clearLeads,t.clearLeadsFilter=i.clearLeadsFilter,t.moveLeadChangeCardInColumn=i.moveLeadChangeCardInColumn,t.clearCreatedLead=i.clearCreatedLead,t.dndHandlerDeleteCardFromColumn=i.dndHandlerDeleteCardFromColumn,t.dndHandlerAddCardFromColumn=i.dndHandlerAddCardFromColumn,t.clearDNDItem=i.clearDNDItem,t.clearUpdateLead=i.clearUpdateLead,t.changeReasonForLead=i.changeReasonForLead,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setCardBlocks=i.setCardBlocks,t.default=p.reducer},439:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForLeadsFunnelStage=t.editReasonsForLeadsFunnelStage=t.createReasonsForLeadsFunnelStage=t.deleteStageForLeadsFunnel=t.editStageForLeadsFunnel=t.createStageForLeadsFunnel=t.deleteLeadsFunnel=t.editLeadsFunnel=t.createLeadsFunnel=t.fetchLeadsFunnel=void 0;const s=a(5184),n=a(4809);t.fetchLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/fetchLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===e?void 0:e.getLeadsFunnels();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/createLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createLeadsFunnel(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/editLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.updateLeadsFunnel(i,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/deleteLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteLeadsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/createStageForLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createStageForLeadsFunnel(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnel_id})}catch(e){return t.rejectWithValue("Failure")}})))),t.editStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/editStageForLeadsFunnel",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{const a=yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===i?void 0:i.updateStageForLeadsFunnel(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteStageForLeadsFunnel=(0,s.createAsyncThunk)("leadsFunnel/deleteStageForLeadsFunnel",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteStageForLeadsFunnel(e),e}catch(e){return t.rejectWithValue(e)}})))),t.createReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/createReasonsForLeadsFunnelStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.createReasonsForLeadsFunnelStage(e)).data;return Object.assign(Object.assign({},t),{funnel_id:e.funnelId})}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/editReasonForLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{const e=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.updateReasonsForLeadsFunnelStage(i,s);return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForLeadsFunnelStage=(0,s.createAsyncThunk)("leadsFunnel/deleteReasonsForLeadsFunnelStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsFunnelsService)||void 0===a?void 0:a.deleteReasonsForLeadsFunnelStage(e),e}catch(e){return t.rejectWithValue(e)}}))))},1419:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.changeLeadFunnelReasons=t.changeLeadFunnelStage=void 0;const r=a(5184),s=a(2089),n=a(439),d=(0,r.createSlice)({name:"leadsFunnel",initialState:{leadsFunnel:[],leadsFunnelLoading:!1,errorMessage:null},reducers:{changeLeadFunnelStage:(e,t)=>{e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnelId?Object.assign(Object.assign({},e),{stages:t.payload.stages}):e))},changeLeadFunnelReasons:(e,t)=>{e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.stageId?Object.assign(Object.assign({},e),{reasons:t.payload.reasons}):e))})}))}},extraReducers:{[n.fetchLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=t.payload.map((e=>Object.assign(Object.assign({},e),{stages:e.stages.sort(((e,t)=>e.sort-t.sort))})))},[n.fetchLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.fetchLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.createLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel.push(t.payload)},[n.createLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.createLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.editLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[n.editLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.editLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[n.deleteLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.deleteLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.createStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:(0,s.sortStagesWhenCreateNew)({data:e.stages},t.payload)}):e))},[n.createStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.createStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.editStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))},[n.editStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.editStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteStageForLeadsFunnel.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.stages.some((e=>e.id===t.payload))?Object.assign(Object.assign({},e),{stages:e.stages.filter((e=>e.id!==t.payload))}):e))},[n.deleteStageForLeadsFunnel.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.deleteStageForLeadsFunnel.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.createReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel.map((e=>e.id===t.payload.funnel_id?Object.assign(Object.assign({},e),{stages:e.stages.map((e=>"FAIL"===e.stage_code?Object.assign(Object.assign({},e),{reasons:[...e.reasons,t.payload]}):e))}):e))},[n.createReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.createReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.editReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel=e.leadsFunnel=e.leadsFunnel.map((e=>{var a;return Object.assign(Object.assign({},e),{stages:null===(a=e.stages)||void 0===a?void 0:a.map((e=>{var a;return Object.assign(Object.assign({},e),{reasons:null===(a=e.reasons)||void 0===a?void 0:a.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))})}))})}))},[n.editReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.editReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload},[n.deleteReasonsForLeadsFunnelStage.fulfilled.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=null,e.leadsFunnel.forEach((e=>{var a;null===(a=e.stages)||void 0===a||a.forEach((e=>{var a;e.reasons=null===(a=e.reasons)||void 0===a?void 0:a.filter((e=>e.id!==t.payload))}))}))},[n.deleteReasonsForLeadsFunnelStage.pending.type]:e=>{e.leadsFunnelLoading=!0,e.errorMessage=null},[n.deleteReasonsForLeadsFunnelStage.rejected.type]:(e,t)=>{e.leadsFunnelLoading=!1,e.errorMessage=t.payload}}});i=d.actions,t.changeLeadFunnelStage=i.changeLeadFunnelStage,t.changeLeadFunnelReasons=i.changeLeadFunnelReasons,t.default=d.reducer},8607:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteReasonsForLeadsStage=t.editReasonForLeadsStage=t.createReasonsForLeadsStage=t.fetchReasonsForLead=t.deleteLeadsStage=t.editLeadsStage=t.createLeadsStage=t.fetchLeadsStages=void 0;const s=a(5184),n=a(4809),d=a(3970);t.fetchLeadsStages=(0,s.createAsyncThunk)("stages/fetchLeadsStages",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===e?void 0:e.getLeadsStages()).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createLeadsStage=(0,s.createAsyncThunk)("leads/createLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.createLeadsStage(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editLeadsStage=(0,s.createAsyncThunk)("tasks/editLeadsStage",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){var i;try{return(yield null===(i=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===i?void 0:i.updateLeadsStage(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteLeadsStage=(0,s.createAsyncThunk)("stages/deleteLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.deleteLeadsStage(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchReasonsForLead=(0,s.createAsyncThunk)("leads/fetchReasonsForLeads",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{return(yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===e?void 0:e.getLeadsReasons(Number(d.EntityIds.leads))).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createReasonsForLeadsStage=(0,s.createAsyncThunk)("stages/createReasonsForLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.createLeadsStageReasons(Number(d.EntityIds.leads),e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.editReasonForLeadsStage=(0,s.createAsyncThunk)("stages/editReasonForLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{id:i}=e,s=r(e,["id"]);try{return(yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.updateLeadsReason(i,s)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteReasonsForLeadsStage=(0,s.createAsyncThunk)("stages/deleteReasonsForLeadsStage",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmLeadsStagesService)||void 0===a?void 0:a.deleteLeadsReason(e),e}catch(e){return t.rejectWithValue(e)}}))))},824:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearLeadColumns=t.changeLeadItem=t.changeLeadsStagesFromFunnelState=t.changeSortingForLeadsReasons=t.changeLeadStagesSortState=t.changeLeadsColumnsState=void 0;const r=a(5184),s=a(1897),n=a(2089),d=a(8607),o=(0,r.createSlice)({name:"leads",initialState:{stages:{data:[]},stage:{},errorMessage:"",loading:!1,reasonsLoading:!1,leadsColumns:{},reasons:{}},reducers:{changeLeadsColumnsState:(e,t)=>{e.leadsColumns=t.payload.data;const{isUpdateStages:a,newStageArray:i}=(0,s.changeCRMColumn)(t.payload.data,t.payload.isColumnsChanged,e.stages.data);a&&(e.stages.data=i)},changeLeadStagesSortState:(e,t)=>{e.stages.data=t.payload},changeSortingForLeadsReasons:(e,t)=>{e.reasons.FAIL=t.payload},changeLeadsStagesFromFunnelState:(e,t)=>{void 0!==t.payload&&(e.stages.data=t.payload,e.reasons.FAIL=null==t?void 0:t.payload.filter((e=>"FAIL"===e.stage_code)).flatMap((e=>e.reasons)))},changeLeadItem:(e,t)=>{e.leadsColumns=Object.entries(e.leadsColumns).reduce(((e,[a,i])=>{var r;if(i.items.map((e=>+e.id)).includes((null===(r=t.payload)||void 0===r?void 0:r.id)||0)){const r=Object.assign(Object.assign({},i),{items:i.items.map((e=>{var a,i;return+e.id==+t.payload.id?Object.assign(Object.assign(Object.assign(Object.assign({},e),{title:(null===(a=t.payload)||void 0===a?void 0:a.title)||(null==e?void 0:e.title),preparedTitle:(null===(i=t.payload)||void 0===i?void 0:i.title)||(null==e?void 0:e.title)}),t.payload),{id:String(e.id)}):e}))});return Object.assign(Object.assign({},e),{[a]:r})}return Object.assign(Object.assign({},e),{[a]:i})}),{})},clearLeadColumns:e=>{e.leadsColumns=Object.entries(e.leadsColumns).reduce(((e,[t,a])=>Object.assign(Object.assign({},e),{[t]:Object.assign(Object.assign({},a),{items:[],total:0})})),{})}},extraReducers:{[d.fetchLeadsStages.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages=t.payload},[d.fetchLeadsStages.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchLeadsStages.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=(0,n.sortStagesWhenCreateNew)(e.stages,t.payload)},[d.createLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.createLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.editLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[d.editLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.editLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.deleteLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.stages.data=e.stages.data.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload))).map(((e,t)=>Object.assign(Object.assign({},e),{sort:10*t})))},[d.deleteLeadsStage.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.deleteLeadsStage.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.fetchReasonsForLead.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.reasons=t.payload},[d.fetchReasonsForLead.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[d.fetchReasonsForLead.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[d.createReasonsForLeadsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL.push(t.payload)},[d.createReasonsForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.errorMessage=""},[d.createReasonsForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.errorMessage=t.payload},[d.editReasonForLeadsStage.fulfilled.type]:(e,t)=>{e.loading=!1,e.reasonsLoading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))},[d.editReasonForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.loading=!0,e.errorMessage=""},[d.editReasonForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage=t.payload},[d.deleteReasonsForLeadsStage.fulfilled.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage="",e.reasons.FAIL=e.reasons.FAIL.filter((e=>(null==e?void 0:e.id)!==(null==t?void 0:t.payload)))},[d.deleteReasonsForLeadsStage.pending.type]:e=>{e.reasonsLoading=!0,e.loading=!0,e.errorMessage=""},[d.deleteReasonsForLeadsStage.rejected.type]:(e,t)=>{e.reasonsLoading=!1,e.loading=!1,e.errorMessage=t.payload}}});i=o.actions,t.changeLeadsColumnsState=i.changeLeadsColumnsState,t.changeLeadStagesSortState=i.changeLeadStagesSortState,t.changeSortingForLeadsReasons=i.changeSortingForLeadsReasons,t.changeLeadsStagesFromFunnelState=i.changeLeadsStagesFromFunnelState,t.changeLeadItem=i.changeLeadItem,t.clearLeadColumns=i.clearLeadColumns,t.default=o.reducer},8310:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductField=t.deleteProductListValues=t.createProductField=t.updateProductListValues=t.updateProductField=t.fetchFieldsForProduct=t.massProductsEditing=t.massProductsDeletion=t.deleteProduct=t.updateProduct=t.createProduct=t.fetchProductsWithFilters=t.fetchProducts=void 0;const s=a(5184),n=a(4809),d=a(7109);t.fetchProducts=(0,s.createAsyncThunk)("products/fetchProducts",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===e?void 0:e.getProducts();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductsWithFilters=(0,s.createAsyncThunk)("products/fetchProductsWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=null===(0,d.normalizeCategories)(e.params.select),i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.params.search?{q:e.params.search}:{}),{page:e.params.page,list:e.params.perPage,availability:Array.isArray(e.params.availability)?e.params.availability:[e.params.availability],type:Array.isArray(e.params.type)?e.params.type:[e.params.type],currency:(e.params.price_from||e.params.price_to)&&e.params.currency}),e.params.price_from?{price_from:Math.round(100*e.params.price_from)}:{}),e.params.price_to?{price_to:Math.round(100*e.params.price_to)}:{}),{balance_from:e.params.balance_from,balance_to:e.params.balance_to,is_active:(Array.isArray(e.params.is_active)?e.params.is_active:[e.params.is_active]).map((e=>"active"===e?1:"noActive"===e?0:e)),product_category_ids:t?" ":(0,d.normalizeCategories)(e.params.select)}),r=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===a?void 0:a.getProductsWithFilters(i,null==e?void 0:e.signal);return null==r?void 0:r.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.createProduct=(0,s.createAsyncThunk)("products/createProduct",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const{id:t}=e,i=r(e,["id"]),s=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===a?void 0:a.createProduct((0,d.normalizeProduct)(i)),o=null==s?void 0:s.data;return(0,d.normalizeProductForView)(o)}catch(e){return t.rejectWithValue(e)}})))),t.updateProduct=(0,s.createAsyncThunk)("products/updateProduct",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const{id:t}=e,i=r(e,["id"]),s=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===a?void 0:a.updateProduct(t,(0,d.normalizeProduct)(i)),o=null==s?void 0:s.data;return(0,d.normalizeProductForView)(o)}catch(e){return t.rejectWithValue(e)}})))),t.deleteProduct=(0,s.createAsyncThunk)("products/deleteProduct",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmProductsService)||void 0===a?void 0:a.deleteProduct(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massProductsDeletion=(0,s.createAsyncThunk)("products/massProductsDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmProductsService.massProductsDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massProductsEditing=(0,s.createAsyncThunk)("products/massProductsEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmProductsService.massProductsEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.fetchFieldsForProduct=(0,s.createAsyncThunk)("products/fetchFieldsForProduct",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmProductsService.getProductFields();return null==e?void 0:e.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateProductField=(0,s.createAsyncThunk)("products/updateProductField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmProductsService.updateProductField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateProductListValues=(0,s.createAsyncThunk)("products/updateProductListValues",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmProductsService.updateProductListValues(e);return Object.assign(Object.assign({},e),{values:null==t?void 0:t.data})}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductField=(0,s.createAsyncThunk)("products/createProductField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmProductsService.createProductField(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductListValues=(0,s.createAsyncThunk)("products/deleteLeadListValues",(({value:e,fieldCode:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmProductsService.deleteProductListValues(e,t),{value:e,fieldCode:t}}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteProductField=(0,s.createAsyncThunk)("products/deleteProductField",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmProductsService.deleteProductField(e),e}catch(e){return t.rejectWithValue("Failure")}}))))},4066:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.changeReasonForProduct=t.clearCreatedProduct=t.clearProductsFilter=t.clearProducts=t.changeTaskTime=t.changeItemsFilterProducts=t.changeFilterProducts=t.initialProductsFilter=void 0;const r=a(5184),s=a(3970),n=a(9860),d=a(7109),o=a(8310),l={name:"",code:"",required:!1,editable:!0,show:!0,hidden:!1,multiple:!1,type:"string",system_field:!0,base_field:!0},c={id:null,title:"",product_category_id:0,type:"",article:"",prices:[],measurement_unit_id:null,comment:"",availability:"",is_active:!0,description:"",quantity:null,reserved_quantity:null,remainder:null,preview_image_id:null,file_ids:[],files:[]},u=[Object.assign(Object.assign({},l),{name:"product/service",code:"title",type:"productTitle",required:!0}),Object.assign(Object.assign({},l),{name:"category",code:"product_category_id",type:"productCategory"}),Object.assign(Object.assign({},l),{name:"productType",code:"type",type:"productType"}),Object.assign(Object.assign({},l),{name:"article",code:"article",type:"productArticle"}),Object.assign(Object.assign({},l),{name:"price",code:"prices",type:"productPrice",multiple:!0}),Object.assign(Object.assign({},l),{name:"unit",code:"measurement_unit_id",type:"productUnit"}),Object.assign(Object.assign({},l),{name:"availability",code:"availability",type:"productAvailability"}),Object.assign(Object.assign({},l),{name:"remainder",code:"remainder",type:"productRemind"}),Object.assign(Object.assign({},l),{name:"description",code:"description",type:"textarea"}),Object.assign(Object.assign({},l),{name:"tax",code:"tax",type:"productTax"}),Object.assign(Object.assign({},l),{name:"activity",code:"is_active",type:"productActivity"}),Object.assign(Object.assign({},l),{name:"productGallery",code:"files",type:"productGallery"}),Object.assign(Object.assign({},l),{name:"productLink",code:"link",type:"productLink"}),Object.assign(Object.assign({},l),{name:"commentProduct",code:"comment",type:"textarea"}),Object.assign(Object.assign({},l),{name:"currency",code:"currency",type:"label"})],p={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialProductsFilter={availability:[],type:[],currency:"",price_from:null,price_to:null,balance_from:null,balance_to:null,is_active:[],openDatePicker:!1,search:"",page:0,perPage:0,select:0,boolean_operator:"",sortModel:[]};const y={products:Object.assign({},p),product:Object.assign({},p.data[0]),createdProduct:Object.assign({},p.data[0]),productFields:{data:[]},createdAt:[],deleteProductId:0,deleteProductIds:[],deleteAllFromKanban:!1,changeProducts:[],productTime:[],productFilters:t.initialProductsFilter,productFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},errorMessage:"",loading:!1,loadingProductList:!0},g=(0,r.createSlice)({name:"products",initialState:y,reducers:{changeFilterProducts:(e,t)=>{e.productFilters[t.payload.key]=t.payload.value},changeItemsFilterProducts:(e,t)=>{e.productFilters=t.payload},changeTaskTime:(e,t)=>{e.productTime=t.payload},clearProducts:e=>{e.products=p,e.loadingProductList=!0},clearProductsFilter:e=>{var t;e.productTime=[],(null===(t=Object.keys(e.productFields.data))||void 0===t?void 0:t.length)&&(e.productFilters=Object.assign(Object.assign(Object.assign({},e.productFields.data.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),s.OTHER_DEFAULT_FIELDS),{page:1,perPage:20}))},clearCreatedProduct:e=>{e.createdProduct=c},changeReasonForProduct:(e,t)=>{e.products.data=e.products.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),{kanban_reason_id:+t.payload.reasonId}):e}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.productFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.productFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.productFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.productFiltersPreset.filterPresets=t.payload}},extraReducers:{[o.fetchProducts.fulfilled.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage="",e.products=t.payload},[o.fetchProducts.pending.type]:e=>{e.loadingProductList=!0,e.errorMessage=""},[o.fetchProducts.rejected.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage=t.payload},[o.fetchProductsWithFilters.fulfilled.type]:(e,t)=>{e.loadingProductList=t.payload.aborted,e.errorMessage="",e.products=t.payload.aborted?e.products:(0,d.normalizeGetProducts)(t.payload)},[o.fetchProductsWithFilters.pending.type]:e=>{e.loadingProductList=!0,e.errorMessage=""},[o.createProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data.unshift(t.payload),e.products.meta.total=++e.products.meta.total},[o.fetchProductsWithFilters.rejected.type]:(e,t)=>{e.loadingProductList=!1,e.errorMessage=t.payload},[o.createProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data=e.products.data.map((e=>e.id===t.payload.id?t.payload:e))},[o.updateProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.products.data=e.products.data.filter((e=>e.id!==t.payload)),e.deleteProductId=t.payload},[o.deleteProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.massProductsDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage="",e.products.data=e.products.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteProductIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.products.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.products.meta.total=t.payload.exceptIds.length:e.products.meta.total=e.products.meta.total-t.payload.entityIds.length},[o.massProductsDeletion.pending.type]:e=>{e.loading=!0,e.loadingProductList=!0,e.errorMessage=""},[o.massProductsDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage=t.payload},[o.massProductsEditing.fulfilled.type]:e=>{e.loading=!1,e.errorMessage=""},[o.massProductsEditing.pending.type]:e=>{e.loading=!0,e.loadingProductList=!0,e.errorMessage=""},[o.massProductsEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingProductList=!1,e.errorMessage=t.payload},[o.fetchFieldsForProduct.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=(0,d.normalizeProductFields)(t.payload,u),e.productFields.data.splice(0,0,s.idColumn)},[o.fetchFieldsForProduct.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.fetchFieldsForProduct.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>{var a;const i="preview_image_id"===e.code&&"files"===t.payload.code;if(e.code===t.payload.code||i){const r=i?Object.assign(Object.assign({},t.payload),{code:"preview_image_id",type:"photo"}):t.payload,s=(0,d.normalizeProductField)(r,u);return Object.assign(Object.assign({},s),{values:(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.values)||(null==e?void 0:e.values)})}return e}))},[o.updateProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.updateProductListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>(e.code===t.payload.code&&(e=t.payload).values.sort(((e,t)=>e.sort-t.sort)),e)))},[o.updateProductListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.updateProductListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.createProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data.push(t.payload)},[o.createProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProductField.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.filter((e=>e.code!==t.payload))},[o.deleteProductField.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProductField.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteProductListValues.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productFields.data=e.productFields.data.map((e=>(e.code===t.payload.fieldCode&&(e.values=e.values.filter((e=>e.value!==t.payload.value))),e)))},[o.deleteProductListValues.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.deleteProductListValues.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});i=g.actions,t.changeFilterProducts=i.changeFilterProducts,t.changeItemsFilterProducts=i.changeItemsFilterProducts,t.changeTaskTime=i.changeTaskTime,t.clearProducts=i.clearProducts,t.clearProductsFilter=i.clearProductsFilter,t.clearCreatedProduct=i.clearCreatedProduct,t.changeReasonForProduct=i.changeReasonForProduct,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.default=g.reducer},7849:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductCategory=t.editProductCategory=t.createProductCategory=t.fetchProductsCategories=void 0;const r=a(5184),s=a(4809);t.fetchProductsCategories=(0,r.createAsyncThunk)("productsCategory/fetchProductsCategory",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===e?void 0:e.getProductCategories();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductCategory=(0,r.createAsyncThunk)("productsCategory/createProductCategory",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.createProductCategory(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductCategory=(0,r.createAsyncThunk)("productsCategory/editProductCategory",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.updateProductCategory(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductCategory=(0,r.createAsyncThunk)("productsCategory/deleteProductCategory",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsCategoryService)||void 0===a?void 0:a.deleteProductCategory(e),e}catch(e){return t.rejectWithValue(e)}}))))},3295:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductCategory=void 0;const i=a(5184),r=a(7849),s={productsCategory:{data:[]},productCategory:{},errorMessage:"",loadingList:!1,loading:!1},n=(0,i.createSlice)({name:"productsCategory",initialState:s,reducers:{clearProductCategory:e=>{e.productCategory=s.productCategory}},extraReducers:{[r.fetchProductsCategories.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsCategory=t.payload},[r.fetchProductsCategories.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[r.fetchProductsCategories.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[r.createProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory={data:[...e.productsCategory.data,t.payload]}},[r.createProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.createProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.editProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory.data=e.productsCategory.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.editProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.editProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.deleteProductCategory.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsCategory.data=e.productsCategory.data.filter((e=>e.id!==t.payload))},[r.deleteProductCategory.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.deleteProductCategory.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductCategory=n.actions.clearProductCategory,t.default=n.reducer},7278:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductsForEntity=t.deleteProductForEntityById=t.editProductsForEntity=t.editProductForEntity=t.createProductForEntity=t.fetchProductForEntity=t.fetchProductsForEntity=t.editInfoProductsForEntity=t.fetchInfoProductsForEntity=void 0;const r=a(5184),s=a(4809);t.fetchInfoProductsForEntity=(0,r.createAsyncThunk)("productsForEntity/fetchInfoProductsForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.getInfoProductsForEntity(e.entityType,e.entityId);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editInfoProductsForEntity=(0,r.createAsyncThunk)("productsForEntity/editInfoProductsForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateInfoProductForEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductsForEntity=(0,r.createAsyncThunk)("productsForEntity/fetchProductsForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===e?void 0:e.getProductsForEntity();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchProductForEntity=(0,r.createAsyncThunk)("productsForEntity/fetchProductForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.getProductForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductForEntity=(0,r.createAsyncThunk)("productsForEntity/createProductForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.createProductForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductForEntity=(0,r.createAsyncThunk)("productsForEntity/editProductForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateProductForEntity(null==e?void 0:e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductsForEntity=(0,r.createAsyncThunk)("productsForEntity/editProductsForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.updateProductsForEntity(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductForEntityById=(0,r.createAsyncThunk)("productsForEntity/deleteProductForEntityById",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.deleteProductForEntity(e.productForEntityId),e.productForEntityId}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductsForEntity=(0,r.createAsyncThunk)("productsForEntity/deleteProductsForEntity",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductsForEntityService)||void 0===a?void 0:a.deleteProductsForEntity(e.ids),e.ids}catch(e){return t.rejectWithValue("Failure")}}))))},5686:(e,t,a)=>{var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.changeDefaultCurrency=t.deleteLocalProduct=t.liveEditProductsForEntity=t.addProduct=t.liveEditInfoProductsForEntity=t.liveEditProductForEntity=t.clearProductsForEntity=void 0;const s=a(5184),n=a(7278),d={productsWithInfoForEntity:{},productsForEntity:[],errorMessage:"",defaultProduct:{createType:"",price:0,product:null,amount:0,currency:(null===(r=JSON.parse(localStorage.getItem("userSettings")))||void 0===r?void 0:r.defaultCurrency)||"UAH",discount_type:"relative",measurement_unit_abbr:"pcs",discount_price:0,discount_value:0,quantity:1,tax_rate:null,title:"",id:0,is_tax_included:0,updated_at:null,created_at:null},loadingList:!1,loading:!1},o=(0,s.createSlice)({name:"productsForEntity",initialState:d,reducers:{changeDefaultCurrency:(e,t)=>{e.defaultProduct=Object.assign(Object.assign({},e.defaultProduct),{currency:t.payload})},liveEditProductForEntity:(e,t)=>{e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.map((e=>e.id===t.payload.id?t.payload:e)),e.productsForEntity=e.productsForEntity.map((e=>e.id===t.payload.id?t.payload:e))},liveEditProductsForEntity:(e,t)=>{e.productsWithInfoForEntity.list_products=t.payload,e.productsForEntity=t.payload},liveEditInfoProductsForEntity:(e,t)=>{e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),t.payload)},clearProductsForEntity:e=>{e.productsWithInfoForEntity=d.productsWithInfoForEntity,e.productsForEntity=d.productsForEntity},addProduct:(e,t)=>{e.productsWithInfoForEntity.list_products=[...e.productsWithInfoForEntity.list_products.filter((e=>0!==e.id)),t.payload],e.productsForEntity=[...e.productsForEntity.filter((e=>0!==e.id)),t.payload]},deleteLocalProduct:(e,t)=>{e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>e.id!==t.payload)),e.productsForEntity=e.productsForEntity.filter((e=>e.id!==t.payload)),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])}},extraReducers:{[n.fetchInfoProductsForEntity.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsWithInfoForEntity=Object.assign(Object.assign({},t.payload),{list_products:t.payload.list_products.length?t.payload.list_products:[e.defaultProduct]}),e.productsForEntity=t.payload.list_products.length?t.payload.list_products:[e.defaultProduct]},[n.fetchInfoProductsForEntity.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[n.fetchInfoProductsForEntity.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[n.editInfoProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[n.editInfoProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editInfoProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.fetchProductsForEntity.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsForEntity=t.payload.length?t.payload:[e.defaultProduct],e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),{list_products:t.payload.length?t.payload:[e.defaultProduct]})},[n.fetchProductsForEntity.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[n.fetchProductsForEntity.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[n.fetchProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.map((e=>e.id===t.payload.id?t.payload:e)),e.productsForEntity=e.productsForEntity.map((e=>e.id===t.payload.id?t.payload:e))},[n.fetchProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.fetchProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.createProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsForEntity=[...e.productsForEntity,t.payload].filter((e=>0!==e.id)),e.productsWithInfoForEntity=Object.assign(Object.assign({},e.productsWithInfoForEntity),{list_products:e.productsForEntity})},[n.createProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.createProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.editProductForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[n.editProductForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editProductForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.editProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage=""},[n.editProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.editProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteProductForEntityById.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>e.id!==t.payload)),e.productsForEntity=e.productsForEntity.filter((e=>e.id!==t.payload)),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])},[n.deleteProductForEntityById.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteProductForEntityById.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[n.deleteProductsForEntity.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsWithInfoForEntity.list_products=e.productsWithInfoForEntity.list_products.filter((e=>!t.payload.includes(e.id))),e.productsForEntity=e.productsForEntity.filter((e=>!t.payload.includes(e.id))),e.productsForEntity.length||(e.productsForEntity=[e.defaultProduct],e.productsWithInfoForEntity.list_products=[e.defaultProduct])},[n.deleteProductsForEntity.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[n.deleteProductsForEntity.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});i=o.actions,t.clearProductsForEntity=i.clearProductsForEntity,t.liveEditProductForEntity=i.liveEditProductForEntity,t.liveEditInfoProductsForEntity=i.liveEditInfoProductsForEntity,t.addProduct=i.addProduct,t.liveEditProductsForEntity=i.liveEditProductsForEntity,t.deleteLocalProduct=i.deleteLocalProduct,t.changeDefaultCurrency=i.changeDefaultCurrency,t.default=o.reducer},3894:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductTax=t.editProductTax=t.createProductTax=t.fetchProductsTaxes=void 0;const r=a(5184),s=a(4809);t.fetchProductsTaxes=(0,r.createAsyncThunk)("productsTaxes/fetchProductsCategory",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===e?void 0:e.getProductTaxes();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductTax=(0,r.createAsyncThunk)("productsTaxes/createProductTax",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.createProductTax(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductTax=(0,r.createAsyncThunk)("productsTaxes/editProductTax",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.updateProductTax(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductTax=(0,r.createAsyncThunk)("productsTaxes/deleteProductTax",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductTaxesService)||void 0===a?void 0:a.deleteProductTax(e),e}catch(e){return t.rejectWithValue(e)}}))))},3600:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductTax=void 0;const i=a(5184),r=a(3894),s={productsTaxes:{data:[]},productsTax:{},errorMessage:"",loadingList:!1,loading:!1},n=(0,i.createSlice)({name:"productsTaxes",initialState:s,reducers:{clearProductTax:e=>{e.productsTax=s.productsTax}},extraReducers:{[r.fetchProductsTaxes.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsTaxes=t.payload},[r.fetchProductsTaxes.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[r.fetchProductsTaxes.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[r.createProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes={data:[...e.productsTaxes.data,t.payload]}},[r.createProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.createProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.editProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes.data=e.productsTaxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.editProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.editProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.deleteProductTax.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsTaxes.data=e.productsTaxes.data.filter((e=>e.id!==t.payload))},[r.deleteProductTax.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.deleteProductTax.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductTax=n.actions.clearProductTax,t.default=n.reducer},2201:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteProductMeasurementUnit=t.editProductMeasurementUnit=t.createProductMeasurementUnit=t.fetchProductsMeasurementUnits=void 0;const r=a(5184),s=a(4809);t.fetchProductsMeasurementUnits=(0,r.createAsyncThunk)("productsUnit/fetchProductsMeasurementUnits",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===e?void 0:e.getProductUnits();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createProductMeasurementUnit=(0,r.createAsyncThunk)("productsUnit/createProductMeasurementUnit",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.createProductUnit(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.editProductMeasurementUnit=(0,r.createAsyncThunk)("productsUnit/editProductMeasurementUnit",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.updateProductUnit(e.id,e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteProductMeasurementUnit=(0,r.createAsyncThunk)("productsUnit/deleteProductMeasurementUnit",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{return yield null===(a=null===s.uspacySdk||void 0===s.uspacySdk?void 0:s.uspacySdk.crmProductUnitService)||void 0===a?void 0:a.deleteProductUnit(e),e}catch(e){return t.rejectWithValue(e)}}))))},2678:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearProductUnit=void 0;const i=a(5184),r=a(2201),s={productsUnit:{},productsUnits:{data:[]},errorMessage:"",loadingList:!1,loading:!1},n=(0,i.createSlice)({name:"productsUnit",initialState:s,reducers:{clearProductUnit:e=>{e.productsUnit=s.productsUnit}},extraReducers:{[r.fetchProductsMeasurementUnits.fulfilled.type]:(e,t)=>{e.loadingList=!1,e.errorMessage="",e.productsUnits=t.payload},[r.fetchProductsMeasurementUnits.pending.type]:e=>{e.loadingList=!0,e.errorMessage=""},[r.fetchProductsMeasurementUnits.rejected.type]:(e,t)=>{e.loadingList=!1,e.errorMessage=t.payload},[r.createProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits={data:[...e.productsUnits.data,t.payload]}},[r.createProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.createProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.editProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits.data=e.productsUnits.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.editProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.editProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[r.deleteProductMeasurementUnit.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.productsUnits.data=e.productsUnits.data.filter((e=>e.id!==t.payload))},[r.deleteProductMeasurementUnit.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[r.deleteProductMeasurementUnit.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload}}});t.clearProductUnit=n.actions.clearProductUnit,t.default=n.reducer},9512:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.attachBankRequisites=t.deleteBankRequisites=t.updateBankRequisites=t.createBankRequisites=t.deleteCardRequisites=t.attachCardRequisites=t.updateCardRequisites=t.createCardRequisites=t.fetchCardRequisites=t.fetchTemplates=void 0;const s=a(5184),n=a(4809),d=a(3124);t.fetchTemplates=(0,s.createAsyncThunk)("requisite/fetchTemplates",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;try{const t=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.getTemplates(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchCardRequisites=(0,s.createAsyncThunk)("requisite/fetchCardRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{cardId:i,refContext:r}=e,[s,o]=(0,d.getSeparateCardId)(i);try{const e=Object.assign({entity_type:s,entity_id:o},r&&{is_reference_context:!0}),t=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.getCardRequisites(e),d=null==t?void 0:t.data;return{cardId:i,requisites:null==d?void 0:d.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.createCardRequisites=(0,s.createAsyncThunk)("requisite/createCardRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{cardId:i,requisite:r,isProfile:s}=e;try{const[e,t]=(0,d.getSeparateCardId)(i),o=Object.assign({},s?{}:{entity_type:e,entity_id:t}),l=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.createCardRequisites(r,o);return{cardId:i,requisite:null==l?void 0:l.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateCardRequisites=(0,s.createAsyncThunk)("requisite/updateCardRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{cardId:i,requisite:s}=e,{template_id:d}=s,o=r(s,["template_id"]);try{const e=Object.assign(Object.assign({},o),d&&{template_id:d}),t=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.updateCardRequisites(s.id,e);return{cardId:i,requisite:null==t?void 0:t.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.attachCardRequisites=(0,s.createAsyncThunk)("requisite/attachCardRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){const{cardId:a,mainCardId:i,requisiteId:r}=e;try{const[e,t]=(0,d.getSeparateCardId)(a),[s,o]=(0,d.getSeparateCardId)(i),l={entity_type:s,entity_id:o,entity_reference_type:e,entity_reference_id:t,requisite_id:r};return yield n.uspacySdk.crmRequisitesService.attachCardRequisites(l),{cardId:a,requisiteId:r,entityId:+o}}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteCardRequisites=(0,s.createAsyncThunk)("requisite/detachCardRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){const{cardId:a,requisiteId:i}=e;try{return yield n.uspacySdk.crmRequisitesService.deleteCardRequisites(i),{cardId:a,requisiteId:i}}catch(e){return t.rejectWithValue("Failure")}})))),t.createBankRequisites=(0,s.createAsyncThunk)("requisite/createBankRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{cardId:i,requisiteId:s,bankRequisites:d}=e,o=d.map((e=>{const{id:t,isCreate:a}=e,i=r(e,["id","isCreate"]);return Object.assign(Object.assign({},i),{fields:{values:i.fields.values,list:i.fields.list.map((e=>{const{required:t,value:a}=e,i=r(e,["required","value"]);return Object.assign(Object.assign({},i),{is_show_default:Number(t)})}))}})}));try{const e=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.createBankRequisites(s,o);return{cardId:i,requisiteId:s,res:null==e?void 0:e.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.updateBankRequisites=(0,s.createAsyncThunk)("requisite/updateBankRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){var a;const{cardId:i,requisiteId:s,bankRequisite:d}=e,{id:o,isCreate:l}=d,c=r(d,["id","isCreate"]),u=Object.assign(Object.assign({},c),{fields:{values:c.fields.values,list:c.fields.list.map((e=>{const{required:t,value:a}=e,i=r(e,["required","value"]);return Object.assign(Object.assign({},i),{is_show_default:Number(t)})}))}});try{const e=yield null===(a=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmRequisitesService)||void 0===a?void 0:a.updateBankRequisites(s,d.id,u);return{cardId:i,requisiteId:s,bankRequisite:null==e?void 0:e.data}}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteBankRequisites=(0,s.createAsyncThunk)("requisite/deleteBankRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){const{cardId:a,requisiteId:i,bankRequisiteId:r}=e;try{return yield n.uspacySdk.crmRequisitesService.deleteBankRequisites(i,r),{cardId:a,requisiteId:i,bankRequisiteId:r}}catch(e){return t.rejectWithValue("Failure")}})))),t.attachBankRequisites=(0,s.createAsyncThunk)("requisite/attachBankRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){const{cardId:a,mainCardId:i,requisiteId:r,bankRequisiteId:s}=e;try{const[e,t]=(0,d.getSeparateCardId)(a),[o,l]=(0,d.getSeparateCardId)(i),c={entity_type:o,entity_id:l,entity_reference_type:e,entity_reference_id:t,bank_requisite_id:s};return yield n.uspacySdk.crmRequisitesService.attachBankRequisites(r,c),{cardId:a,requisiteId:r,bankRequisiteId:s,entityId:+l}}catch(e){return t.rejectWithValue("Failure")}}))))},9622:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearCardRequisites=void 0;const i=a(5184),r=a(3124),s=a(9512),n={cardRequisites:[],templates:[],errorMessage:"",loading:{load:!1,cardLoading:!1,cardUpdateLoading:!1,cardCreateLoading:!1,cardAttachLoading:!1,cardDeleteLoading:!1,templateLoading:!0}},d=(0,i.createSlice)({name:"requisite",initialState:n,reducers:{clearCardRequisites:e=>{e.cardRequisites=n.cardRequisites}},extraReducers:{[s.fetchTemplates.fulfilled.type]:(e,t)=>{e.loading.templateLoading=!1,e.loading.load=!1,e.errorMessage="",e.templates=t.payload.data},[s.fetchTemplates.pending.type]:e=>{e.loading.templateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.fetchTemplates.rejected.type]:(e,t)=>{e.loading.templateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.fetchCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=[...e.cardRequisites,t.payload]},[s.fetchCardRequisites.pending.type]:e=>{e.loading.cardLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.fetchCardRequisites.rejected.type]:(e,t)=>{e.loading.cardLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.createCardRequisites.fulfilled.type]:(e,t)=>{const a=e.cardRequisites.find((e=>e.cardId===t.payload.cardId));e.loading.cardCreateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=a?e.cardRequisites.map((0,r.normalizeRequisiteCreation)(t.payload)):[{cardId:t.payload.cardId,requisites:[t.payload.requisite]}]},[s.createCardRequisites.pending.type]:e=>{e.loading.cardCreateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.createCardRequisites.rejected.type]:(e,t)=>{e.loading.cardCreateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.updateCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{const a=t.payload.requisite.is_basic;return(null==e?void 0:e.id)===t.payload.requisite.id?Object.assign(Object.assign({},e),t.payload.requisite):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))}):e))},[s.updateCardRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.updateCardRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.attachCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{var a,i;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(i=t.payload.requisiteId)||void 0===i?void 0:i.toString())?Object.assign(Object.assign({},e),{is_basic:!0,references_relations:[t.payload.entityId]}):Object.assign(Object.assign({},e),{is_basic:!1,references_relations:[]})}))}):e))},[s.attachCardRequisites.pending.type]:e=>{e.loading.cardAttachLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.attachCardRequisites.rejected.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.deleteCardRequisites.fulfilled.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.filter((e=>{var a,i;return(null===(a=e.id)||void 0===a?void 0:a.toString())!==(null===(i=t.payload.requisiteId)||void 0===i?void 0:i.toString())}))}):e))},[s.deleteCardRequisites.pending.type]:e=>{e.loading.cardDeleteLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.deleteCardRequisites.rejected.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.createBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>(null==e?void 0:e.id)===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:t.payload.res}):e))}):e))},[s.createBankRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.createBankRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.updateBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>(null==e?void 0:e.id)===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.map((e=>{const a=t.payload.bankRequisite.is_basic;return(null==e?void 0:e.id)===t.payload.bankRequisite.id?Object.assign(Object.assign({},e),t.payload.bankRequisite):Object.assign(Object.assign({},e),{is_basic:!a&&e.is_basic})}))}):e))}):e))},[s.updateBankRequisites.pending.type]:e=>{e.loading.cardUpdateLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.updateBankRequisites.rejected.type]:(e,t)=>{e.loading.cardUpdateLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.deleteBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>e.id===t.payload.requisiteId?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.filter((e=>e!==t.payload.bankRequisiteId))}):e))}):e))},[s.deleteBankRequisites.pending.type]:e=>{e.loading.cardDeleteLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.deleteBankRequisites.rejected.type]:(e,t)=>{e.loading.cardDeleteLoading=!1,e.loading.load=!1,e.errorMessage=t.payload},[s.attachBankRequisites.fulfilled.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage="",e.cardRequisites=e.cardRequisites.map((e=>e.cardId===t.payload.cardId?Object.assign(Object.assign({},e),{requisites:e.requisites.map((e=>{var a,i;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(i=t.payload.requisiteId)||void 0===i?void 0:i.toString())?Object.assign(Object.assign({},e),{bank_requisites:e.bank_requisites.map((e=>{var a,i;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())===(null===(i=t.payload.bankRequisiteId)||void 0===i?void 0:i.toString())?Object.assign(Object.assign({},e),{is_basic:!0,references_relations:[t.payload.entityId]}):Object.assign(Object.assign({},e),{is_basic:!1,references_relations:[]})}))}):e}))}):e))},[s.attachBankRequisites.pending.type]:e=>{e.loading.cardAttachLoading=!0,e.loading.load=!0,e.errorMessage=""},[s.attachBankRequisites.rejected.type]:(e,t)=>{e.loading.cardAttachLoading=!1,e.loading.load=!1,e.errorMessage=t.payload}}});t.clearCardRequisites=d.actions.clearCardRequisites,t.default=d.reducer},6519:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteServicesAccount=t.activateServicesAccountSync=t.stopServicesAccountSync=t.startServicesAccountSync=t.startInitialServicesAccountSync=t.saveCalendarsSettings=t.getCalendars=t.getOauthServicesAccounts=t.getOAuthRedirectUrl=t.massTasksEditing=t.massTasksDeletion=t.deleteTaskById=t.fetchTaskById=t.editTask=t.fetchTasksWithFilters=t.createTask=t.fetchTasks=void 0;const s=a(5184),n=a(4809),d=a(9860),o=a(349);t.fetchTasks=(0,s.createAsyncThunk)("crmTasks/fetchTasks",((e,t)=>i(void 0,void 0,void 0,(function*(){var e;try{const t=yield null===(e=null===n.uspacySdk||void 0===n.uspacySdk?void 0:n.uspacySdk.crmTasksService)||void 0===e?void 0:e.getTasks();return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure")}})))),t.createTask=(0,s.createAsyncThunk)("crmTasks/createTask",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.crmTasksService.createTask(a);return null==i?void 0:i.data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchTasksWithFilters=(0,s.createAsyncThunk)("crmTasks/fetchTasksWithFilters",((e,t)=>i(void 0,void 0,void 0,(function*(){const a=(0,d.getFilterParams)(e.params,(null==e?void 0:e.fields)||[]),i=(0,o.makeURIParams)(a);try{const t=yield n.uspacySdk.crmTasksService.getTasksWithFilters(i,null==e?void 0:e.signal);return null==t?void 0:t.data}catch(a){return e.signal.aborted?{aborted:!0}:t.rejectWithValue("Failure")}})))),t.editTask=(0,s.createAsyncThunk)("crmTasks/edit",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmTasksService.updateTask(e,t);return null==a?void 0:a.data}catch(e){return a.rejectWithValue("Failure")}})))),t.fetchTaskById=(0,s.createAsyncThunk)("crmTasks/fetchTaskById",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmTasksService.getTask(e);return null==t?void 0:t.data}catch(e){return t.rejectWithValue("Failure!")}})))),t.deleteTaskById=(0,s.createAsyncThunk)("crmTasks/deleteTaskById",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.deleteTask(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.massTasksDeletion=(0,s.createAsyncThunk)("crmTasks/massTasksDeletion",(({entityIds:e,exceptIds:t,all:a,params:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.massTasksDeletion({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:""}),{entityIds:e,exceptIds:t,all:a}}catch(e){return s(e)}})))),t.massTasksEditing=(0,s.createAsyncThunk)("crmTasks/massTasksEditing",(({entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l},{rejectWithValue:c})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.massTasksEditing({all:a,entityIds:e,exceptIds:t,params:a&&(null==r?void 0:r.length)?`/?${r}`:"",payload:s,settings:d}),{entityIds:e,exceptIds:t,all:a,params:r,payload:s,settings:d,profile:o,admin:l}}catch(e){return c(e)}})))),t.getOAuthRedirectUrl=(0,s.createAsyncThunk)("crmTasks/getOAuthRedirectUrl",(({provider:e,type:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{const a=yield n.uspacySdk.crmTasksService.getOAuthRedirectUrl(e,t);return null==a?void 0:a.data}catch(e){return a(e)}})))),t.getOauthServicesAccounts=(0,s.createAsyncThunk)("crmTasks/getOauthServicesAccounts",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmTasksService.getOauthServicesAccounts(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.getCalendars=(0,s.createAsyncThunk)("crmTasks/getCalendars",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const e=yield n.uspacySdk.crmTasksService.getCalendars();return null==e?void 0:e.data}catch(e){return t(e)}})))),t.saveCalendarsSettings=(0,s.createAsyncThunk)("crmTasks/saveCalendarsSettings",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const t=yield n.uspacySdk.crmTasksService.saveCalendarsSettings(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.startInitialServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/startInitialServicesAccountSync",(({body:e,providerId:t,integrationId:a},{rejectWithValue:r})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.startInitialServicesAccountSync(e),{providerId:t,integrationId:a}}catch(e){return r(e)}})))),t.startServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/startServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.startServicesAccountSync(),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.stopServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/stopServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.stopServicesAccountSync(),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.activateServicesAccountSync=(0,s.createAsyncThunk)("crmTasks/activateServicesAccountSync",(({providerId:e,integrationId:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.activateServicesAccountSync(t),{providerId:e,integrationId:t}}catch(e){return a(e)}})))),t.deleteServicesAccount=(0,s.createAsyncThunk)("crmTasks/deleteServicesAccount",(({providerId:e,integrationId:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.crmTasksService.deleteServicesAccount(e,t),{providerId:e,integrationId:t}}catch(e){return a(e)}}))))},8218:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setIsSuccessServicesAccountSync=t.setRedirectOauthUrl=t.setFilterPresets=t.setStandardPreset=t.setCurrentPreset=t.setIsNewPreset=t.setDeleteAllFromKanban=t.editCompanyFromCard=t.editContactFromCard=t.setDeletionModalOpen=t.chooseTaskId=t.addItemToTasksFilter=t.clearTasksFilter=t.clearTasks=t.openCompleteTaskModal=t.editTaskInState=t.removeTaskFromState=t.addTaskToState=t.changeItemsFilterTasks=t.changeFilterTasks=t.setCopy=t.copyTask=t.openTaskViewModal=t.openCreateTaskModal=t.fieldForTasks=t.initialTaskFilter=void 0;const r=a(5184),s=a(9243),n=a(9860),d=a(3970),o=a(6519),l={data:[],meta:{total:0,from:0,per_page:0,list:0},aborted:!1};t.initialTaskFilter={page:1,perPage:20,status:[],openDatePicker:!1,search:"",responsible_id:[],period:[],time_label:[],certainDateOrPeriod:[],participants:[],boolean_operator:"",task_type:[],sortModel:[]},t.fieldForTasks=[d.idColumn,{name:"caseType",code:"type",required:!1,editable:!1,show:!1,hidden:!0,multiple:!1,type:"list",field_section_id:"",system_field:!0,sort:"",default_value:"",values:[{color:"",selected:!1,sort:0,title:"task",value:"task"},{color:"",selected:!1,sort:0,title:"call",value:"call"},{color:"",selected:!1,sort:0,title:"meeting",value:"meeting"},{color:"",selected:!1,sort:0,title:"chat",value:"chat"},{color:"",selected:!1,sort:0,title:"message",value:"email"}]},{name:"taskTitle",code:"title",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"string",sort:"",system_field:!1,default_value:""},{name:"eventStartDate",code:"start_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"eventEndDate",code:"end_time",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"status",code:"status",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"status",sort:"",system_field:!1,default_value:""},{name:"priority",code:"priority",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"priority",sort:"",system_field:!1,default_value:""},{name:"responsibleId",code:"responsible_id",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"user_id",sort:"",system_field:!1,default_value:""},{name:"leadOrAgreement",code:"leadOrDeal",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"contacts",code:"contacts",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"company",code:"company",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"customLink",sort:"",system_field:!1,default_value:""},{name:"dateOfCompletion",code:"closed_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"created_at",code:"created_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"dateOfUpdate",code:"updated_at",required:!1,editable:!1,show:!0,hidden:!1,multiple:!1,type:"dateCheap",sort:"",system_field:!1,default_value:""},{name:"participants",code:"participants",required:!1,editable:!1,show:!0,hidden:!1,multiple:!0,type:"user_id",field_section_id:"",system_field:!1,sort:"",default_value:""}];const c={tasks:l,tasksFromCard:l,task:{},deleteTaskId:0,deleteTaskIds:[],deleteAllFromKanban:!1,changeTasks:[],taskCopy:{},tasksFields:{data:t.fieldForTasks},taskFilter:{},taskFiltersPreset:{isNewPreset:!1,currentPreset:{},standardPreset:{},filterPresets:[]},redirectOauthUrl:"",servicesAccounts:{},calendars:[],isSuccessServicesAccountSync:!1,errorMessage:"",errorLoadingOauthRedirectUrl:null,errorLoadingServicesAccounts:null,errorLoadingDeleteServicesAccounts:null,errorLoadingCalendars:null,loading:!1,loadingTaskList:!0,loadingOauthRedirectUrl:!1,loadingSevicesAccounts:!1,loadingDeleteServicesAccounts:!1,loadingCalendars:!1,isCreateTaskModalOpened:!1,isTaskViewModalOpened:!1,isCopy:!1,isCompleteTaskModalOpened:!1,clickedTaskId:null,deletionModalOpen:{action:!1,id:null}},u=(0,r.createSlice)({name:"crmTasks",initialState:c,reducers:{openCreateTaskModal:(e,t)=>{e.isCreateTaskModalOpened=t.payload},openTaskViewModal:(e,t)=>{e.isTaskViewModalOpened=t.payload},copyTask:(e,t)=>{e.taskCopy=t.payload},setCopy:(e,t)=>{e.isCopy=t.payload},changeFilterTasks:(e,t)=>{e.taskFilter[t.payload.key]=t.payload.value},changeItemsFilterTasks:(e,t)=>{e.taskFilter=t.payload},addTaskToState:(e,t)=>{e.tasks.data=[t.payload,...e.tasks.data]},removeTaskFromState:(e,t)=>{e.tasks.data=e.tasks.data.filter((e=>e.id!==t.payload))},editTaskInState:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?t.payload:e))},openCompleteTaskModal:(e,t)=>{e.isCompleteTaskModalOpened=t.payload},clearTasks:e=>{e.tasks=l,e.loadingTaskList=!0},chooseTaskId:(e,t)=>{e.clickedTaskId=t.payload},setDeletionModalOpen:(e,t)=>{e.deletionModalOpen.action=t.payload.action,e.deletionModalOpen.id=t.payload.id},editContactFromCard:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>{var a,i;return Object.assign(Object.assign({},e),{crm_entities:Object.assign(Object.assign({},null==e?void 0:e.crm_entities),{contacts:null===(i=null===(a=null==e?void 0:e.crm_entities)||void 0===a?void 0:a.contacts)||void 0===i?void 0:i.map((e=>{var a;return(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)===(null==e?void 0:e.id)&&Object.keys(t.payload).forEach((a=>{e.hasOwnProperty(a)&&(e[a]=t.payload[a])})),e}))})})}))},editCompanyFromCard:(e,t)=>{e.tasks.data=e.tasks.data.map((e=>{var a,i;return Object.assign(Object.assign({},e),{crm_entities:Object.assign(Object.assign({},null==e?void 0:e.crm_entities),{companies:null===(i=null===(a=null==e?void 0:e.crm_entities)||void 0===a?void 0:a.companies)||void 0===i?void 0:i.map((e=>{var a;return(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)===(null==e?void 0:e.id)&&Object.keys(t.payload).forEach((a=>{e.hasOwnProperty(a)&&(e[a]=t.payload[a])})),e}))})})}))},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setIsNewPreset:(e,t)=>{e.taskFiltersPreset.isNewPreset=t.payload},setCurrentPreset:(e,t)=>{e.taskFiltersPreset.currentPreset=t.payload},setStandardPreset:(e,t)=>{e.taskFiltersPreset.standardPreset=t.payload},setFilterPresets:(e,t)=>{e.taskFiltersPreset.filterPresets=t.payload},clearTasksFilter:(e,a)=>{var i;e.taskFilter=Object.assign(Object.assign(Object.assign(Object.assign({},t.fieldForTasks.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),a.payload.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),d.OTHER_DEFAULT_FIELDS),{sortModel:(null===(i=null==e?void 0:e.taskFilter)||void 0===i?void 0:i.sortModel)||[],page:1,perPage:20})},addItemToTasksFilter:(e,a)=>{e.taskFilter=Object.assign(Object.assign(Object.assign({},t.fieldForTasks.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),a.payload.reduce(((e,t)=>Object.assign(Object.assign({},e),(0,n.getField)(t))),{})),d.OTHER_DEFAULT_FIELDS)},setRedirectOauthUrl:(e,t)=>{e.redirectOauthUrl=t.payload},setIsSuccessServicesAccountSync:(e,t)=>{e.isSuccessServicesAccountSync=t.payload}},extraReducers:{[o.fetchTasks.fulfilled.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage="",e.tasks=t.payload},[o.fetchTasks.pending.type]:e=>{e.loadingTaskList=!0,e.errorMessage=""},[o.fetchTasks.rejected.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage=t.payload},[o.fetchTasksWithFilters.fulfilled.type]:(e,t)=>{e.loadingTaskList=t.payload.aborted,e.errorMessage="",e.tasks=t.payload.aborted?e.tasks:t.payload},[o.fetchTasksWithFilters.pending.type]:e=>{e.loadingTaskList=!0,e.errorMessage=""},[o.fetchTasksWithFilters.rejected.type]:(e,t)=>{e.loadingTaskList=!1,e.errorMessage=t.payload},[o.createTask.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.tasks.data.unshift(t.payload),e.tasks.meta.total=++e.tasks.meta.total},[o.createTask.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.createTask.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.editTask.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?Object.assign(Object.assign({},e),t.payload):e}))},[o.editTask.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.editTask.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.fetchTaskById.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.task=t.payload},[o.fetchTaskById.pending.type]:e=>{e.loading=!0,e.errorMessage=""},[o.fetchTaskById.rejected.type]:(e,t)=>{e.loading=!1,e.errorMessage=t.payload},[o.deleteTaskById.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.deleteTaskId=t.payload,e.tasks.data=e.tasks.data.filter((e=>e.id!==t.payload))},[o.deleteTaskById.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.deleteTaskById.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.massTasksDeletion.fulfilled.type]:(e,t)=>{e.loading=!1,e.errorMessage="",e.tasks.data=e.tasks.data.filter((e=>!t.payload.entityIds.includes(null==e?void 0:e.id))),e.deleteTaskIds=null==t?void 0:t.payload.entityIds.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0),t.payload.all?e.tasks.meta.total=0:t.payload.all&&t.payload.exceptIds.length?e.tasks.meta.total=t.payload.exceptIds.length:e.tasks.meta.total=e.tasks.meta.total-t.payload.entityIds.length},[o.massTasksDeletion.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.massTasksDeletion.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.massTasksEditing.fulfilled.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage="",e.tasks.data=e.tasks.data.map((a=>{var i;if(null===(i=t.payload.entityIds)||void 0===i?void 0:i.includes(null==a?void 0:a.id)){const i=Object.assign({},a);for(const e in t.payload.payload)t.payload.payload.hasOwnProperty(e)&&t.payload.settings[e]?Array.isArray(t.payload.payload[e])?i[e]=[...i[e],...t.payload.payload[e]]:i[e]=i[e]:i[e]=t.payload.payload[e];return e.changeTasks.push(i),i}return a}))},[o.massTasksEditing.pending.type]:e=>{e.loading=!0,e.loadingTaskList=!0,e.errorMessage=""},[o.massTasksEditing.rejected.type]:(e,t)=>{e.loading=!1,e.loadingTaskList=!1,e.errorMessage=t.payload},[o.getOAuthRedirectUrl.fulfilled.type]:(e,t)=>{e.loadingOauthRedirectUrl=!1,e.errorLoadingOauthRedirectUrl=null,e.redirectOauthUrl=t.payload.url},[o.getOAuthRedirectUrl.pending.type]:e=>{e.loadingOauthRedirectUrl=!0,e.errorLoadingOauthRedirectUrl=null},[o.getOAuthRedirectUrl.rejected.type]:(e,t)=>{e.loadingOauthRedirectUrl=!1,e.errorLoadingOauthRedirectUrl=t.payload},[o.getOauthServicesAccounts.fulfilled.type]:(e,t)=>{e.loadingSevicesAccounts=!1,e.servicesAccounts=t.payload,e.errorLoadingServicesAccounts=null},[o.getOauthServicesAccounts.pending.type]:e=>{e.loadingSevicesAccounts=!0,e.errorLoadingServicesAccounts=null},[o.getOauthServicesAccounts.rejected.type]:(e,t)=>{e.loadingSevicesAccounts=!1,e.errorLoadingServicesAccounts=t.payload},[o.deleteServicesAccount.fulfilled.type]:(e,t)=>{e.loadingDeleteServicesAccounts=!1,e.errorLoadingDeleteServicesAccounts=null,e.servicesAccounts.data=e.servicesAccounts.data.filter((e=>{if(e.id===t.meta.arg.providerId){const a=e.integrations.filter((e=>e.id!==t.meta.arg.integrationId));return a.length>1&&Object.assign(Object.assign({},e),{integrations:a})}return!0}))},[o.deleteServicesAccount.pending.type]:e=>{e.loadingDeleteServicesAccounts=!0,e.errorLoadingDeleteServicesAccounts=null},[o.deleteServicesAccount.rejected.type]:(e,t)=>{e.loadingDeleteServicesAccounts=!1,e.errorLoadingDeleteServicesAccounts=t.payload},[o.getCalendars.fulfilled.type]:(e,t)=>{e.loadingCalendars=!1,e.errorLoadingCalendars=null,e.calendars=t.payload},[o.getCalendars.pending.type]:e=>{e.loadingCalendars=!0,e.errorLoadingCalendars=null},[o.getCalendars.rejected.type]:(e,t)=>{e.loadingCalendars=!1,e.errorLoadingCalendars=t.payload},[o.saveCalendarsSettings.fulfilled.type]:(e,t)=>{e.loadingSaveServicesAccoutSettings=!1,e.errorLoadingSaveServicesAccoutSettings=null,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.payload.data.integration.account_id?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>{if(e.id===t.payload.data.integration.id){const a=[Object.keys(t.payload.data||{}).filter((e=>"integration"!==e)).reduce(((e,a)=>(e[a]=t.payload.data[a],e)),{})];return Object.assign(Object.assign({},e),{calendars:a})}return e}))}):e))},[o.saveCalendarsSettings.pending.type]:e=>{e.loadingSaveServicesAccoutSettings=!0,e.errorLoadingSaveServicesAccoutSettings=null},[o.saveCalendarsSettings.rejected.type]:(e,t)=>{e.loadingSaveServicesAccoutSettings=!1,e.errorLoadingSaveServicesAccoutSettings=t.payload},[o.startInitialServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.RUN}):e))}):e))},[o.startInitialServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.startInitialServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.startServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.RUN}):e))}):e))},[o.startServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.startServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.stopServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.STOPPED}):e))}):e))},[o.stopServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.stopServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload},[o.activateServicesAccountSync.fulfilled.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=null,e.isSuccessServicesAccountSync=!0,e.servicesAccounts.data=e.servicesAccounts.data.map((e=>e.id===t.meta.arg.providerId?Object.assign(Object.assign({},e),{integrations:e.integrations.map((e=>e.id===t.meta.arg.integrationId?Object.assign(Object.assign({},e),{status:s.EServicesAccountStatuses.STARTED}):e))}):e))},[o.activateServicesAccountSync.pending.type]:e=>{e.loadingServicesAccountSync=!0,e.errorLoadingServicesAccountSync=null},[o.activateServicesAccountSync.rejected.type]:(e,t)=>{e.loadingServicesAccountSync=!1,e.errorLoadingServicesAccountSync=t.payload}}});i=u.actions,t.openCreateTaskModal=i.openCreateTaskModal,t.openTaskViewModal=i.openTaskViewModal,t.copyTask=i.copyTask,t.setCopy=i.setCopy,t.changeFilterTasks=i.changeFilterTasks,t.changeItemsFilterTasks=i.changeItemsFilterTasks,t.addTaskToState=i.addTaskToState,t.removeTaskFromState=i.removeTaskFromState,t.editTaskInState=i.editTaskInState,t.openCompleteTaskModal=i.openCompleteTaskModal,t.clearTasks=i.clearTasks,t.clearTasksFilter=i.clearTasksFilter,t.addItemToTasksFilter=i.addItemToTasksFilter,t.chooseTaskId=i.chooseTaskId,t.setDeletionModalOpen=i.setDeletionModalOpen,t.editContactFromCard=i.editContactFromCard,t.editCompanyFromCard=i.editCompanyFromCard,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setIsNewPreset=i.setIsNewPreset,t.setCurrentPreset=i.setCurrentPreset,t.setStandardPreset=i.setStandardPreset,t.setFilterPresets=i.setFilterPresets,t.setRedirectOauthUrl=i.setRedirectOauthUrl,t.setIsSuccessServicesAccountSync=i.setIsSuccessServicesAccountSync,t.default=u.reducer},9790:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeUsersFromDepartment=t.addUsersToDepartment=t.deleteDepartment=t.editDepartment=t.createDepartment=t.fetchDepartments=void 0;const r=a(5184),s=a(4809),n=a(8065);t.fetchDepartments=(0,r.createAsyncThunk)("departments/fetchDepartments",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=(yield s.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=s.uspacySdk.usersService.hasRole(e,[n.MainRoles.ADMIN,n.MainRoles.OWNER])?"all":void 0;return(yield s.uspacySdk.departmentsService.getDepartments(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.createDepartment=(0,r.createAsyncThunk)("departments/createDepartment",(({name:e,headId:t,description:a,usersIds:r,parentDepartmentId:n,generalDepartmentId:d},o)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.departmentsService.createDepartment({name:e,headId:t,description:a,usersIds:r,parentDepartmentId:n||d.toString()})).data}catch(e){return o.rejectWithValue("Failure")}})))),t.editDepartment=(0,r.createAsyncThunk)("departments/editDepartment",(({id:e,name:t,headId:a,description:r,usersIds:n,parentDepartmentId:d},o)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.departmentsService.updateDepartment(e,{name:t,headId:a,description:r,parentDepartmentId:d,usersIds:n})).data}catch(e){return o.rejectWithValue("Failure")}})))),t.deleteDepartment=(0,r.createAsyncThunk)("departments/deleteDepartment",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.deleteDepartment(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.addUsersToDepartment=(0,r.createAsyncThunk)("departments/addUsersToDepartment",(({departmentId:e,usersIds:t},a)=>i(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.addUsersToDepartment(String(e),t)}catch(e){return a.rejectWithValue("Failure")}})))),t.removeUsersFromDepartment=(0,r.createAsyncThunk)("departments/removeUsersFromDepartment",(({departmentId:e,usersIds:t},a)=>i(void 0,void 0,void 0,(function*(){try{return s.uspacySdk.departmentsService.deleteUsersFromDepartment(String(e),t)}catch(e){return a.rejectWithValue("Failure")}}))))},7002:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(9790),s=(0,i.createSlice)({name:"departmentsReducer",initialState:{departments:[],loadingDepartments:!0,errorLoadingDepartments:""},reducers:{},extraReducers:{[r.fetchDepartments.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=t.payload},[r.fetchDepartments.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.fetchDepartments.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[r.createDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=[...e.departments,t.payload]},[r.createDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.createDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[r.editDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[r.editDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.editDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[r.deleteDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.filter((e=>e.id.toString()!==t.payload.toString()))},[r.deleteDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.deleteDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[r.addUsersToDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[r.addUsersToDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.addUsersToDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload},[r.removeUsersFromDepartment.fulfilled.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments="",e.departments=e.departments.map((e=>e.id===t.payload.id?t.payload:e))},[r.removeUsersFromDepartment.pending.type]:e=>{e.loadingDepartments=!0,e.errorLoadingDepartments=""},[r.removeUsersFromDepartment.rejected.type]:(e,t)=>{e.loadingDepartments=!1,e.errorLoadingDepartments=t.payload}}});t.default=s.reducer},3749:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearDrawerData=t.setMessengerDrawerData=t.drawersSlice=void 0;const r=a(5184),s={messengerData:{type:a(6063).EMessengerType.INTERNAL_CHAT,data:{chatId:null,letter:null,crmEntities:null}}};t.drawersSlice=(0,r.createSlice)({name:"messenger",initialState:s,reducers:{setMessengerDrawerData(e,t){e.messengerData=t.payload},clearDrawerData(e){e.messengerData=s.messengerData}},extraReducers:{}}),i=t.drawersSlice.actions,t.setMessengerDrawerData=i.setMessengerDrawerData,t.clearDrawerData=i.clearDrawerData,t.default=t.drawersSlice.reducer},1014:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeEmailSignature=t.updateEmailSignature=t.createEmailSignature=t.getEmailSignatures=t.receiveToOauthLink=t.redirectToOauthLink=t.getIntgrWithCrmSettings=t.moveLetters=t.unreadEmailLetters=t.readEmailLetters=t.removeEmailLetters=t.removeEmailLetter=t.resendEmailLetter=t.createEmailLetter=t.getEmailLetter=t.getEmailLetters=t.getEmailFolders=t.removeEmailBox=t.updateEmailBox=t.updateEmailBoxCredentials=t.setupEmailBox=t.connectEmailBox=t.getEmailBox=t.getEmailsBoxes=void 0;const r=a(5184),s=a(4809);t.getEmailsBoxes=(0,r.createAsyncThunk)("email/getEmailsBoxes",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailsBoxes()).data}catch(e){return t.rejectWithValue(e)}})))),t.getEmailBox=(0,r.createAsyncThunk)("email/getEmailBox",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailBox(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.connectEmailBox=(0,r.createAsyncThunk)("email/connectEmailBox",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.connectEmailBox(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.setupEmailBox=(0,r.createAsyncThunk)("email/setupEmailBox",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.setupEmailBox(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.updateEmailBoxCredentials=(0,r.createAsyncThunk)("email/updateEmailBoxCredentials",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailBoxCredentials(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.updateEmailBox=(0,r.createAsyncThunk)("email/updateEmailBox",(({id:e,data:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailBox(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.removeEmailBox=(0,r.createAsyncThunk)("email/removeEmailBox",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailBox(e),e}catch(e){return t.rejectWithValue(e)}})))),t.getEmailFolders=(0,r.createAsyncThunk)("email/getEmailFolders",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailFolders()).data}catch(e){return t.rejectWithValue(e)}})))),t.getEmailLetters=(0,r.createAsyncThunk)("email/getEmailLetters",(({id:e,params:t,signal:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailLetters(e,t,a)).data}catch(e){return r.rejectWithValue(e)}})))),t.getEmailLetter=(0,r.createAsyncThunk)("email/getEmailLetter",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailLetter(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.createEmailLetter=(0,r.createAsyncThunk)("email/createEmailLetter",(({data:e,id:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.createEmailLetter(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.resendEmailLetter=(0,r.createAsyncThunk)("email/resendEmailLetter",(({id:e},t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.resendEmailLetter(e),e}catch(e){return t.rejectWithValue(e)}})))),t.removeEmailLetter=(0,r.createAsyncThunk)("email/removeEmailLetter",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailLetter(e),e}catch(e){return t.rejectWithValue(e)}})))),t.removeEmailLetters=(0,r.createAsyncThunk)("email/removeEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:r},n)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailLetters(e,r),{list_ids:a,folderId:t}}catch(e){return n.rejectWithValue(e)}})))),t.readEmailLetters=(0,r.createAsyncThunk)("email/readEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:r},n)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.readEmailLetters(e,t,r),{list_ids:a,folderId:t}}catch(e){return n.rejectWithValue(e)}})))),t.unreadEmailLetters=(0,r.createAsyncThunk)("email/unreadEmailLetters",(({ids:e,folderId:t,list_ids:a,threads:r},n)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.unreadEmailLetters(e,t,r),{list_ids:a,folderId:t}}catch(e){return n.rejectWithValue(e)}})))),t.moveLetters=(0,r.createAsyncThunk)("email/moveLetters",(({ids:e,folderId:t,list_ids:a,threads:r},n)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.moveLetters(e,t,r),{list_ids:a,folderId:t}}catch(e){return n.rejectWithValue(e)}})))),t.getIntgrWithCrmSettings=(0,r.createAsyncThunk)("email/getIntgrWithCrmSettings",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getIntgrWithCrmSettings(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.redirectToOauthLink=(0,r.createAsyncThunk)("email/redirectToOauthLink",(({url:e,service:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.redirectToOauthLink(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.receiveToOauthLink=(0,r.createAsyncThunk)("email/receiveToOauthLink",(({code:e,service:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.receiveToOauthLink(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.getEmailSignatures=(0,r.createAsyncThunk)("email/getEmailSignatures",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.getEmailSignatures()).data}catch(e){return t.rejectWithValue(e)}})))),t.createEmailSignature=(0,r.createAsyncThunk)("email/createEmailSignature",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.createEmailSignature(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.updateEmailSignature=(0,r.createAsyncThunk)("email/updateEmailSignature",(({id:e,body:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.emailService.updateEmailSignature(e,t)).data}catch(e){return a.rejectWithValue(e)}})))),t.removeEmailSignature=(0,r.createAsyncThunk)("email/removeEmailSignature",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.emailService.removeEmailSignature(e)}catch(e){return t.rejectWithValue(e)}}))))},7682:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setErrorLoadingConnectEmailBox=t.setOAuthCode=t.setOAuthUrl=t.generalUpdateLettersCrmEntities=t.setCrmEntities=t.setCrmSetting=t.setCrmConnectStatus=t.setEmailTableHeaderType=t.setSelectedLetters=t.setFilters=t.setCreateNewLetterMode=t.setIsCreateNewLetter=t.setOpenLetter=t.setCreatedLetter=t.setLetter=t.setChainLetters=t.setLetters=t.setFolder=t.setFolders=t.setConnectedEmailBox=t.setEmailBox=t.setEmailBoxes=void 0;const r=a(5184),s=a(1014),n={emailBoxes:{data:[]},emailBox:{},connectedEmailBox:{},folders:{data:[]},folder:{},letters:{},chainLetters:{},letter:{},createdLetter:{},crmSettings:[],signatures:{},removedLetterIds:null,loadingEmailBoxes:!1,loadingEmailBox:!1,loadingConnectEmailBox:!1,loadingUpdateEmailCredentials:!1,loadingUpdateEmailBox:!1,loadingRemoveEmailBox:!1,loadingFolders:!1,loadingLetters:!1,loadingChainLetters:!1,loadingLetter:!1,loadingCreatingLetter:!1,loadingResendLetter:!1,loadingDeletingLetter:!1,loadingDeletingLetters:!1,loadingIsReadStatus:!1,loadingMoveLetter:!1,loadingOAuthRedirect:!1,loadingSignatures:!1,loadingCreateSignature:!1,loadingUpdateSignature:!1,loadingRemoveSignature:!1,errorLoadingEmailBoxes:null,errorLoadingEmailBox:null,errorLoadingConnectEmailBox:null,errorLoadingUpdateEmailCredentials:null,errorLoadingUpdateEmailBox:null,errorLoadingRemoveEmailBox:null,errorLoadingFolders:null,errorLoadingLetters:null,errorLoadingChainLetters:null,errorLoadingLetter:null,errorLoadingCreatingLetter:null,errorLoadingResendLetter:null,errorLoadingDeletingLetter:null,errorLoadingDeletingLetters:null,errorLoadingIsReadStatus:null,errorLoadingMoveLetter:null,errorLoadingOAuthRedirect:null,errorLoadingSignatures:null,errorLoadingCreateSignature:null,errorLoadingUpdateSignature:null,errorLoadingRemoveSignature:null,openLetter:!1,isCreateNewLetter:!1,createNewLetterMode:"window",filters:{page:1,list:50,is_read:[],date:[],certainDateOrPeriod_date:[],time_label_date:[],openCalendar:!1,q:""},selectedLetters:[],emailTableHeaderType:"default",crm_entities:[],oAuthUrl:"",oAuthCode:""},d=(0,r.createSlice)({name:"emailReducer",initialState:n,reducers:{setEmailBoxes:(e,t)=>{e.emailBoxes=t.payload},setEmailBox:(e,t)=>{e.emailBox=t.payload},setConnectedEmailBox:(e,t)=>{e.connectedEmailBox=t.payload},setFolders:(e,t)=>{e.folders=t.payload},setFolder:(e,t)=>{e.folder=t.payload},setLetters:(e,t)=>{e.letters=t.payload},setChainLetters:(e,t)=>{e.chainLetters=t.payload},setLetter:(e,t)=>{e.letter=t.payload},setCreatedLetter:(e,t)=>{e.createdLetter=t.payload},setOpenLetter:(e,t)=>{e.openLetter=t.payload},setIsCreateNewLetter:(e,t)=>{e.isCreateNewLetter=t.payload},setCreateNewLetterMode:(e,t)=>{e.createNewLetterMode=t.payload},setFilters:(e,t)=>{e.filters=t.payload},setSelectedLetters:(e,t)=>{e.selectedLetters=t.payload},setEmailTableHeaderType:(e,t)=>{e.emailTableHeaderType=t.payload},setCrmConnectStatus:(e,t)=>{e.emailBox=Object.assign(Object.assign({},e.emailBox),{crm_integration_enabled:t.payload})},setCrmSetting:(e,t)=>{const{key:a,value:i}=t.payload;e.crmSettings=e.crmSettings.map((e=>e.setting_name===a?Object.assign(Object.assign({},e),{setting_value:i}):e))},clearCrmSettings:e=>{e.crmSettings=n.crmSettings},setCrmEntities:(e,t)=>{const{letterId:a,type:i,entities:r}=t.payload;e.crm_entities.find((e=>e.letterId===a))?e.crm_entities=e.crm_entities.map((e=>e.letterId===a?Object.assign(Object.assign({},e),{entities:Object.assign(Object.assign({},e.entities),{[i]:r})}):e)):e.crm_entities.push({letterId:a,entities:{[i]:r}})},generalUpdateLettersCrmEntities:(e,t)=>{const{letterId:a,entities:i}=t.payload;e.crm_entities=e.crm_entities.map((e=>e.letterId===a?Object.assign(Object.assign({},e),{entities:i}):e))},setOAuthUrl:(e,t)=>{e.oAuthUrl=t.payload},setOAuthCode:(e,t)=>{e.oAuthCode=t.payload},setErrorLoadingConnectEmailBox:(e,t)=>{e.errorLoadingConnectEmailBox=t.payload}},extraReducers:{[s.getEmailsBoxes.fulfilled.type]:(e,t)=>{e.loadingEmailBoxes=!1,e.errorLoadingEmailBoxes=null,e.emailBoxes=t.payload},[s.getEmailsBoxes.pending.type]:e=>{e.loadingEmailBoxes=!0,e.errorLoadingEmailBoxes=null},[s.getEmailsBoxes.rejected.type]:(e,t)=>{e.loadingEmailBoxes=!1,e.errorLoadingEmailBoxes=t.payload},[s.getEmailBox.fulfilled.type]:(e,t)=>{e.loadingEmailBox=!1,e.errorLoadingEmailBox=null,e.emailBox=t.payload},[s.getEmailBox.pending.type]:e=>{e.loadingEmailBox=!0,e.errorLoadingEmailBox=null},[s.getEmailBox.rejected.type]:(e,t)=>{e.loadingEmailBox=!1,e.errorLoadingEmailBox=t.payload},[s.connectEmailBox.fulfilled.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=null,e.connectedEmailBox=t.payload,e.emailBoxes.data=[...e.emailBoxes.data,t.payload]},[s.connectEmailBox.pending.type]:e=>{e.loadingConnectEmailBox=!0,e.errorLoadingConnectEmailBox=null},[s.connectEmailBox.rejected.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=t.payload},[s.setupEmailBox.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.setupEmailBox.pending.type]:e=>{e.loadingUpdateEmailBox=!0,e.errorLoadingUpdateEmailBox=null},[s.setupEmailBox.rejected.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=t.payload},[s.updateEmailBoxCredentials.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailCredentials=!1,e.errorLoadingUpdateEmailCredentials=null,e.emailBox=t.payload,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateEmailBoxCredentials.pending.type]:e=>{e.loadingUpdateEmailCredentials=!0,e.errorLoadingUpdateEmailCredentials=null},[s.updateEmailBoxCredentials.rejected.type]:(e,t)=>{e.loadingUpdateEmailCredentials=!1,e.errorLoadingUpdateEmailCredentials=t.payload},[s.updateEmailBox.fulfilled.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateEmailBox.pending.type]:e=>{e.loadingUpdateEmailBox=!0,e.errorLoadingUpdateEmailBox=null},[s.updateEmailBox.rejected.type]:(e,t)=>{e.loadingUpdateEmailBox=!1,e.errorLoadingUpdateEmailBox=t.payload},[s.redirectToOauthLink.fulfilled.type]:(e,t)=>{e.loadingOAuthRedirect=!1,e.errorLoadingOAuthRedirect=null,e.oAuthUrl=t.payload.url},[s.redirectToOauthLink.pending.type]:e=>{e.loadingOAuthRedirect=!0,e.errorLoadingOAuthRedirect=null},[s.redirectToOauthLink.rejected.type]:(e,t)=>{e.loadingOAuthRedirect=!1,e.errorLoadingOAuthRedirect=t.payload},[s.receiveToOauthLink.fulfilled.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=null,e.connectedEmailBox=t.payload,e.emailBoxes.data=[...e.emailBoxes.data,t.payload]},[s.receiveToOauthLink.pending.type]:e=>{e.loadingConnectEmailBox=!0,e.errorLoadingConnectEmailBox=null},[s.receiveToOauthLink.rejected.type]:(e,t)=>{e.loadingConnectEmailBox=!1,e.errorLoadingConnectEmailBox=t.payload},[s.removeEmailBox.fulfilled.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingRemoveEmailBox=null,e.emailBoxes.data=e.emailBoxes.data.filter((e=>e.id!==t.payload))},[s.removeEmailBox.pending.type]:e=>{e.loadingDeletingLetter=!0,e.errorLoadingRemoveEmailBox=null},[s.removeEmailBox.rejected.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingRemoveEmailBox=t.payload},[s.getEmailFolders.fulfilled.type]:(e,t)=>{e.loadingFolders=!1,e.errorLoadingFolders=null,e.folders=t.payload},[s.getEmailFolders.pending.type]:e=>{e.loadingFolders=!0,e.errorLoadingFolders=null},[s.getEmailFolders.rejected.type]:(e,t)=>{e.loadingFolders=!1,e.errorLoadingFolders=t.payload},[s.getEmailLetters.fulfilled.type]:(e,t)=>{e.loadingLetters=!1,e.errorLoadingLetters=null,e.letters=t.payload},[s.getEmailLetters.pending.type]:e=>{e.loadingLetters=!0,e.errorLoadingLetters=null},[s.getEmailLetters.rejected.type]:(e,t)=>{e.loadingLetters=!1,e.errorLoadingLetters=t.payload},[s.getEmailLetter.fulfilled.type]:(e,t)=>{e.loadingLetter=!1,e.errorLoadingLetter=null,e.letter=t.payload},[s.getEmailLetter.pending.type]:e=>{e.loadingLetter=!0,e.errorLoadingLetter=null},[s.getEmailLetter.rejected.type]:(e,t)=>{e.loadingLetter=!1,e.errorLoadingLetter=t.payload},[s.createEmailLetter.fulfilled.type]:(e,t)=>{e.loadingCreatingLetter=!1,e.errorLoadingCreatingLetter=null,e.createdLetter=t.payload},[s.createEmailLetter.pending.type]:e=>{e.loadingCreatingLetter=!0,e.errorLoadingCreatingLetter=null},[s.createEmailLetter.rejected.type]:(e,t)=>{e.loadingCreatingLetter=!1,e.errorLoadingCreatingLetter=t.payload},[s.resendEmailLetter.fulfilled.type]:(e,t)=>{e.loadingResendLetter=!1,e.errorLoadingResendLetter=null,e.letters.data=e.letters.data.map((e=>(null==e?void 0:e.id)===t.payload?Object.assign(Object.assign({},e),{status:"pending"}):e))},[s.resendEmailLetter.pending.type]:e=>{e.loadingResendLetter=!0,e.errorLoadingResendLetter=null},[s.resendEmailLetter.rejected.type]:(e,t)=>{e.loadingResendLetter=!1,e.errorLoadingResendLetter=t.payload},[s.removeEmailLetter.fulfilled.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingDeletingLetter=null,e.letters.data=e.letters.data.filter((e=>e.id!==t.payload)),e.removedLetterIds=[t.payload]},[s.removeEmailLetter.pending.type]:e=>{e.loadingDeletingLetter=!0,e.errorLoadingDeletingLetter=null},[s.removeEmailLetter.rejected.type]:(e,t)=>{e.loadingDeletingLetter=!1,e.errorLoadingDeletingLetter=t.payload},[s.removeEmailLetters.fulfilled.type]:(e,t)=>{e.loadingDeletingLetters=!1,e.errorLoadingDeletingLetters=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const i=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-i})}return a})),e.letters.data=e.letters.data.filter((e=>!t.payload.list_ids.includes(e.id))),e.removedLetterIds=t.payload.ids},[s.removeEmailLetters.pending.type]:e=>{e.loadingDeletingLetters=!0,e.errorLoadingDeletingLetters=null},[s.removeEmailLetters.rejected.type]:(e,t)=>{e.loadingDeletingLetters=!1,e.errorLoadingDeletingLetters=t.payload},[s.readEmailLetters.fulfilled.type]:(e,t)=>{var a;e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const i=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-i})}return a})),e.letters.data=e.letters.data.map((e=>t.payload.list_ids.includes(e.id)?Object.assign(Object.assign({},e),{is_read:!0}):e)),(null===(a=e.letter)||void 0===a?void 0:a.id)&&!e.letter.is_read&&(e.letter.is_read=!0)},[s.readEmailLetters.pending.type]:e=>{e.loadingIsReadStatus=!0,e.errorLoadingIsReadStatus=null},[s.readEmailLetters.rejected.type]:(e,t)=>{e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=t.payload},[s.unreadEmailLetters.fulfilled.type]:(e,t)=>{var a;e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const i=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count+i})}return a})),e.letters.data=e.letters.data.map((e=>t.payload.list_ids.includes(e.id)?Object.assign(Object.assign({},e),{is_read:!1}):e)),(null===(a=e.letter)||void 0===a?void 0:a.id)&&e.letter.is_read&&(e.letter.is_read=!1)},[s.unreadEmailLetters.pending.type]:e=>{e.loadingIsReadStatus=!0,e.errorLoadingIsReadStatus=null},[s.unreadEmailLetters.rejected.type]:(e,t)=>{e.loadingIsReadStatus=!1,e.errorLoadingIsReadStatus=t.payload},[s.moveLetters.fulfilled.type]:(e,t)=>{e.loadingMoveLetter=!1,e.errorLoadingMoveLetter=null,e.folders.data=e.folders.data.map((a=>{if((null==a?void 0:a.id)===t.payload.folderId){const i=e.letters.data.filter((e=>t.payload.list_ids.includes(e.id)&&!e.is_read)).length;return Object.assign(Object.assign({},a),{unread_message_count:a.unread_message_count-i})}return a})),e.letters.data=e.letters.data.filter((e=>!t.payload.list_ids.includes(e.id))),e.removedLetterIds=t.payload.ids},[s.moveLetters.pending.type]:e=>{e.loadingMoveLetter=!0,e.errorLoadingMoveLetter=null},[s.moveLetters.rejected.type]:(e,t)=>{e.loadingMoveLetter=!1,e.errorLoadingMoveLetter=t.payload},[s.getIntgrWithCrmSettings.fulfilled.type]:(e,t)=>{e.crmSettings=t.payload.data},[s.getEmailSignatures.fulfilled.type]:(e,t)=>{e.signatures=t.payload,e.loadingSignatures=!1,e.errorLoadingSignatures=null},[s.getEmailSignatures.pending.type]:e=>{e.loadingSignatures=!0,e.errorLoadingSignatures=null},[s.getEmailSignatures.rejected.type]:(e,t)=>{e.loadingSignatures=!1,e.errorLoadingSignatures=t.payload},[s.createEmailSignature.fulfilled.type]:(e,t)=>{e.loadingCreateSignature=!1,e.errorLoadingCreateSignature=null,e.signatures.data=[...e.signatures.data,t.payload]},[s.createEmailSignature.pending.type]:e=>{e.loadingCreateSignature=!0,e.errorLoadingCreateSignature=null},[s.createEmailSignature.rejected.type]:(e,t)=>{e.loadingCreateSignature=!1,e.errorLoadingCreateSignature=t.payload},[s.updateEmailSignature.fulfilled.type]:(e,t)=>{e.loadingUpdateSignature=!1,e.errorLoadingUpdateSignature=null,e.signatures.data=e.signatures.data.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))},[s.updateEmailSignature.pending.type]:e=>{e.loadingUpdateSignature=!0,e.errorLoadingUpdateSignature=null},[s.updateEmailSignature.rejected.type]:(e,t)=>{e.loadingUpdateSignature=!1,e.errorLoadingUpdateSignature=t.payload},[s.removeEmailSignature.fulfilled.type]:(e,t)=>{e.loadingRemoveSignature=!1,e.errorLoadingRemoveSignature=null,e.signatures.data=e.signatures.data.filter((e=>e.id!==t.meta.arg))},[s.removeEmailSignature.pending.type]:e=>{e.loadingRemoveSignature=!0,e.errorLoadingRemoveSignature=null},[s.removeEmailSignature.rejected.type]:(e,t)=>{e.loadingRemoveSignature=!1,e.errorLoadingRemoveSignature=t.payload}}});i=d.actions,t.setEmailBoxes=i.setEmailBoxes,t.setEmailBox=i.setEmailBox,t.setConnectedEmailBox=i.setConnectedEmailBox,t.setFolders=i.setFolders,t.setFolder=i.setFolder,t.setLetters=i.setLetters,t.setChainLetters=i.setChainLetters,t.setLetter=i.setLetter,t.setCreatedLetter=i.setCreatedLetter,t.setOpenLetter=i.setOpenLetter,t.setIsCreateNewLetter=i.setIsCreateNewLetter,t.setCreateNewLetterMode=i.setCreateNewLetterMode,t.setFilters=i.setFilters,t.setSelectedLetters=i.setSelectedLetters,t.setEmailTableHeaderType=i.setEmailTableHeaderType,t.setCrmConnectStatus=i.setCrmConnectStatus,t.setCrmSetting=i.setCrmSetting,t.setCrmEntities=i.setCrmEntities,t.generalUpdateLettersCrmEntities=i.generalUpdateLettersCrmEntities,t.setOAuthUrl=i.setOAuthUrl,t.setOAuthCode=i.setOAuthCode,t.setErrorLoadingConnectEmailBox=i.setErrorLoadingConnectEmailBox,t.default=d.reducer},2584:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFilesSize=t.fetchFiles=void 0;const r=a(5184),s=a(4809);t.fetchFiles=(0,r.createAsyncThunk)("files/fetchFiles",(({entityId:e,entityType:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.filesService.getFiles(e,t)).data}catch(e){return a(e)}})))),t.fetchFilesSize=(0,r.createAsyncThunk)("files/fetchFilesSize",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.filesService.getFilesSize()).data}catch(e){return t(e)}}))))},3253:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearFiles=void 0;const i=a(5184),r=a(2584),s=(0,i.createSlice)({name:"filesReducer",initialState:{files:{},filesSize:{},loadingFiles:!1,loadingFilesSize:!1,errorLoadingFiles:null,errorLoadingFilesSize:null},reducers:{clearFiles:e=>{e.files={}}},extraReducers:{[r.fetchFiles.fulfilled.type]:(e,t)=>{e.loadingFiles=!1,e.errorLoadingFiles=null,e.files.data=t.payload.data},[r.fetchFiles.pending.type]:e=>{e.loadingFiles=!0,e.errorLoadingFiles=null},[r.fetchFiles.rejected.type]:(e,t)=>{e.loadingFiles=!1,e.errorLoadingFiles=t.payload},[r.fetchFilesSize.fulfilled.type]:(e,t)=>{e.loadingFilesSize=!1,e.errorLoadingFilesSize=null,e.filesSize=t.payload},[r.fetchFilesSize.pending.type]:e=>{e.loadingFilesSize=!0,e.errorLoadingFilesSize=null},[r.fetchFilesSize.rejected.type]:(e,t)=>{e.loadingFilesSize=!1,e.errorLoadingFilesSize=t.payload}}});t.clearFiles=s.actions.clearFiles,t.default=s.reducer},6550:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.checkIfUserSendJoinRequest=t.userApplyToJoinGroup=t.uploadLogo=t.rejectUserInviteRequest=t.acceptUserInviteRequest=t.getUsersRequestedForJoing=t.joinGroup=t.leaveGroup=t.inviteUsersInGroup=t.deleteGroup=t.editGroup=t.createGroup=t.fetchGroups=t.fetchGroupForTask=t.fetchGroup=void 0;const r=a(5184),s=a(4809);t.fetchGroup=(0,r.createAsyncThunk)("groups/fetchGroup",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getGroup(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchGroupForTask=(0,r.createAsyncThunk)("groups/fetchGroupForTask",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getGroupForTask(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.fetchGroups=(0,r.createAsyncThunk)("groups/fetchGroups",(({page:e,list:t,userId:a,search:r},n)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.getGroups(e,t||12,a,r).then((e=>e.data))}catch(e){return n.rejectWithValue("Failure")}})))),t.createGroup=(0,r.createAsyncThunk)("groups/createGroup",(({name:e,groupType:t,description:a,groupTheme:r,ownerId:n,logo:d,moderatorsIds:o,usersIds:l,enableColorTheme:c,themeSettings:u},p)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.createGroup({name:e,groupType:t,description:a,groupTheme:r,ownerId:n,logo:d,moderatorsIds:o,usersIds:l,enableColorTheme:c,themeSettings:u}).then((e=>e.data))}catch(e){return p.rejectWithValue("Failure")}})))),t.editGroup=(0,r.createAsyncThunk)("groups/editGroup",(({groupId:e,name:t,groupType:a,description:r,groupTheme:n,ownerId:d,moderatorsIds:o,usersIds:l,archived:c,enableColorTheme:u,themeSettings:p},y)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.editGroup({groupId:e,name:t,groupType:a,description:r,groupTheme:n,ownerId:d,moderatorsIds:o,usersIds:l,archived:c,enableColorTheme:u,themeSettings:p}).then((e=>e.data))}catch(e){return y.rejectWithValue("Failure")}})))),t.deleteGroup=(0,r.createAsyncThunk)("groups/deleteGroup",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.deleteGroup(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.inviteUsersInGroup=(0,r.createAsyncThunk)("groups/inviteUsersInGroup",(({groupId:e,userIds:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.inviteUsersInGroup({groupId:e,userIds:t})}catch(e){return a.rejectWithValue(e)}})))),t.leaveGroup=(0,r.createAsyncThunk)("groups/leaveGroup",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.leaveGroup(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.joinGroup=(0,r.createAsyncThunk)("groups/joinGroup",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.joinGroup(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.getUsersRequestedForJoing=(0,r.createAsyncThunk)("groups/getUsersRequestedForJoing",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.getUsersRequestedForJoing(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.acceptUserInviteRequest=(0,r.createAsyncThunk)("groups/acceptUserInviteRequest",(({groupId:e,userId:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.acceptUserInviteRequest(e,t)}catch(e){return a.rejectWithValue("Failure")}})))),t.rejectUserInviteRequest=(0,r.createAsyncThunk)("groups/acceptUserInviteRequest",(({groupId:e,userId:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.rejectUserInviteRequest(e,t)}catch(e){return a.rejectWithValue("Failure")}})))),t.uploadLogo=(0,r.createAsyncThunk)("groups/uploadLogo",(({groupId:e,logo:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.uploadLogo(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.userApplyToJoinGroup=(0,r.createAsyncThunk)("groups/userApplyToJoinGroup",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.groupsService.userApplyToJoinGroup(e)}catch(e){return t.rejectWithValue("Failure")}})))),t.checkIfUserSendJoinRequest=(0,r.createAsyncThunk)("groups/checkIfUserSendJoinRequest",(({groupId:e,userId:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.groupsService.checkIfUserSendJoinRequest(e,t)).data}catch(e){return a.rejectWithValue("Failure")}}))))},8193:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLastElementTable=t.addGroupToEndTable=t.userJoinGroup=t.resetInviteError=t.userLeavedGroup=t.addGroupMember=t.clearRequests=t.clearGroups=t.setAction=t.setModalOpened=t.changeNewGroupStatus=t.chatOpened=t.clearGroupReducer=t.setGroupForTask=t.setGroup=void 0;const r=a(5184),s=a(6550),n={groups:{data:[]},group:{},groupForTask:{},loadingGroup:!1,loadingGroupForTask:!1,errorLoadingGroup:null,errorLoadingGroupForTask:null,isLoaded:!1,isChatOpened:!1,loadingGroups:!0,errorLoadingGroups:null,allGroups:[],isNewGroupCreate:!1,modalOpened:{create:!1,edit:!1,confirm:!1,invite:!1,inviteSended:!1,about:!1},action:{archive:!1,delete:!1,chat:!1,id:null},search:"",usersWhoSendRequest:[],loadingRequest:!1,inviteAccepted:!1,userSendRequestError:"",isUserLeavedGroup:!1,errorInviteUsers:null,loadingInvite:!1,loadingApplyToJoin:!1,errorLoadingApplyToJoinGrroup:!1},d=(0,r.createSlice)({name:"groupsReducer",initialState:n,reducers:{setGroup:(e,t)=>{e.group=t.payload},setGroupForTask:(e,t)=>{e.groupForTask=t.payload},clearGroupReducer:e=>{e.group={}},chatOpened:(e,t)=>{e.isChatOpened=t.payload},clearGroups:e=>{e.allGroups=n.allGroups},changeNewGroupStatus:(e,t)=>{e.isNewGroupCreate=t.payload},setModalOpened:(e,t)=>{e.modalOpened=t.payload},setAction:(e,t)=>{e.action=t.payload},changeSearch:(e,t)=>{e.search=t.payload},clearRequests:e=>{e.usersWhoSendRequest=[]},addGroupMember:(e,t)=>{var a,i;null===(i=null===(a=e.group)||void 0===a?void 0:a.usersIds)||void 0===i||i.push(t.payload)},userLeavedGroup:(e,t)=>{var a,i;const r=null===(i=null===(a=e.group)||void 0===a?void 0:a.moderatorsIds)||void 0===i?void 0:i.filter((e=>e!==t.payload.id));e.group=Object.assign(Object.assign({},e.group),{moderatorsIds:r});const s=e.allGroups.find((e=>e.id.toString()===t.payload.groupId));if(t.payload.isModerator){const e=s.moderatorsIds.filter((e=>e!==t.payload.id));s.moderatorsIds=e}else{const e=s.usersIds.filter((e=>e!==t.payload.id));s.usersIds=e}e.allGroups=e.allGroups.map((e=>e.id.toString()===s.id.toString()?s:e)),e.groups.data=e.groups.data.map((e=>e.id.toString()===s.id.toString()?s:e))},userJoinGroup:(e,t)=>{const a=e.allGroups.find((e=>e.id.toString()===t.payload.groupId)),i=a.usersIds.concat(t.payload.id);a.usersIds=i,e.allGroups=e.allGroups.map((e=>e.id.toString()===a.id.toString()?a:e)),e.groups.data=e.groups.data.map((e=>e.id.toString()===a.id.toString()?a:e))},resetInviteError:e=>{e.errorInviteUsers=!1},addGroupToEndTable:(e,t)=>{e.allGroups.push(t.payload)},deleteLastElementTable:e=>{e.allGroups=e.allGroups.slice(0,-1)}},extraReducers:{[s.fetchGroups.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.groups.data=t.payload.data,e.groups.meta=t.payload.meta;const a=e.allGroups.find((e=>t.payload.data.some((t=>t.name===e.name)))),i=a?e.allGroups.filter((e=>e.name!==a.name)):e.allGroups;e.allGroups=e.allGroups.length?i.concat(t.payload.data):e.allGroups.concat(t.payload.data)},[s.fetchGroups.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.fetchGroups.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.fetchGroup.fulfilled.type]:(e,t)=>{e.loadingGroup=!1,e.errorLoadingGroup=null,e.group=t.payload,e.isLoaded=!0},[s.fetchGroup.pending.type]:e=>{e.loadingGroup=!0,e.errorLoadingGroup=null,e.isLoaded=!1},[s.fetchGroup.rejected.type]:(e,t)=>{e.loadingGroup=!1,e.errorLoadingGroup=t.payload},[s.fetchGroupForTask.fulfilled.type]:(e,t)=>{e.loadingGroupForTask=!1,e.errorLoadingGroupForTask=null,e.groupForTask=t.payload},[s.fetchGroupForTask.pending.type]:e=>{e.loadingGroupForTask=!0,e.errorLoadingGroupForTask=null},[s.fetchGroupForTask.rejected.type]:(e,t)=>{e.loadingGroupForTask=!1,e.errorLoadingGroupForTask=t.payload},[s.createGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups.unshift(t.payload),e.isLoaded=!1,e.groups.meta.total=e.groups.meta.total+1},[s.createGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.createGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.editGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.map((e=>e.id===t.payload.id?t.payload:e)),e.group=t.payload},[s.editGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.editGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.deleteGroup.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.filter((e=>{var a;return(null===(a=null==e?void 0:e.id)||void 0===a?void 0:a.toString())!==t.payload.toString()})),e.groups.meta.total=e.groups.meta.total-1},[s.deleteGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.deleteGroup.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.getUsersRequestedForJoing.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.usersWhoSendRequest=t.payload},[s.getUsersRequestedForJoing.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.getUsersRequestedForJoing.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.acceptUserInviteRequest.fulfilled.type]:e=>{e.loadingRequest=!1,e.inviteAccepted=!0,e.errorLoadingGroups=null},[s.acceptUserInviteRequest.pending.type]:e=>{e.loadingRequest=!0,e.inviteAccepted=!1,e.errorLoadingGroups=null},[s.acceptUserInviteRequest.rejected.type]:(e,t)=>{e.loadingRequest=!1,e.errorLoadingGroups=t.payload},[s.uploadLogo.fulfilled.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.allGroups=e.allGroups.map((e=>e.id===t.payload.id?t.payload:e)),e.group.logo=t.payload.logo},[s.uploadLogo.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.uploadLogo.rejected.type]:(e,t)=>{e.loadingGroups=!1,e.errorLoadingGroups=t.payload},[s.checkIfUserSendJoinRequest.fulfilled.type]:e=>{e.loadingRequest=!1,e.errorLoadingGroups=null},[s.checkIfUserSendJoinRequest.pending.type]:e=>{e.loadingRequest=!0,e.errorLoadingGroups=null},[s.checkIfUserSendJoinRequest.rejected.type]:(e,t)=>{e.loadingRequest=!1,e.userSendRequestError=t.payload},[s.leaveGroup.fulfilled.type]:e=>{e.loadingRequest=!1,e.errorLoadingGroups=null,e.isUserLeavedGroup=!0},[s.leaveGroup.pending.type]:e=>{e.loadingRequest=!0,e.errorLoadingGroups=null},[s.leaveGroup.rejected.type]:e=>{e.loadingRequest=!1},[s.inviteUsersInGroup.fulfilled.type]:e=>{e.loadingInvite=!1,e.errorInviteUsers=!1,e.modalOpened.invite=!1,e.modalOpened.inviteSended=!0},[s.inviteUsersInGroup.pending.type]:e=>{e.loadingInvite=!0,e.errorInviteUsers=!1},[s.inviteUsersInGroup.rejected.type]:e=>{e.loadingInvite=!1,e.errorInviteUsers=!0},[s.joinGroup.fulfilled.type]:e=>{e.loadingGroups=!1,e.errorLoadingGroups=null,e.isUserLeavedGroup=!0},[s.joinGroup.pending.type]:e=>{e.loadingGroups=!0,e.errorLoadingGroups=null},[s.joinGroup.rejected.type]:e=>{e.loadingGroups=!1},[s.userApplyToJoinGroup.fulfilled.type]:e=>{e.loadingApplyToJoin=!1,e.errorLoadingApplyToJoinGrroup=!1},[s.userApplyToJoinGroup.pending.type]:e=>{e.loadingApplyToJoin=!0,e.errorLoadingApplyToJoinGrroup=!1},[s.userApplyToJoinGroup.rejected.type]:e=>{e.loadingApplyToJoin=!1,e.errorLoadingApplyToJoinGrroup=!0}}});i=d.actions,t.setGroup=i.setGroup,t.setGroupForTask=i.setGroupForTask,t.clearGroupReducer=i.clearGroupReducer,t.chatOpened=i.chatOpened,t.changeNewGroupStatus=i.changeNewGroupStatus,t.setModalOpened=i.setModalOpened,t.setAction=i.setAction,t.clearGroups=i.clearGroups,t.clearRequests=i.clearRequests,t.addGroupMember=i.addGroupMember,t.userLeavedGroup=i.userLeavedGroup,t.resetInviteError=i.resetInviteError,t.userJoinGroup=i.userJoinGroup,t.addGroupToEndTable=i.addGroupToEndTable,t.deleteLastElementTable=i.deleteLastElementTable,t.default=d.reducer},1360:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchChangesHistory=void 0;const r=a(5184),s=a(4809);t.fetchChangesHistory=(0,r.createAsyncThunk)("history/fetchChangesHistory",(({service:e,entityTableName:t,id:a,page:r,list:n,action:d},o)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.historyService.getChangesHistory({service:e,entityTableName:t,id:a,page:r,list:n,action:d})).data}catch(e){return o.rejectWithValue("Failure")}}))))},673:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearHistory=t.addNewHistory=void 0;const r=a(5184),s=a(1360),n={history:{data:[],meta:{}},loadingHistory:!1,errorLoadingErrors:null},d=(0,r.createSlice)({name:"historyReducer",initialState:n,reducers:{addNewHistory:(e,t)=>{e.history.data=[t.payload,...e.history.data||[]]},clearHistory:e=>{e.history=n.history,e.loadingHistory=!0}},extraReducers:{[s.fetchChangesHistory.fulfilled.type]:(e,t)=>{e.loadingHistory=!1,e.errorLoadingErrors=null,e.history.data=t.payload.data||[],e.history.meta=t.payload.meta},[s.fetchChangesHistory.pending.type]:e=>{e.loadingHistory=!0,e.errorLoadingErrors=null},[s.fetchChangesHistory.rejected.type]:(e,t)=>{e.loadingHistory=!1,e.errorLoadingErrors=t.payload}}});i=d.actions,t.addNewHistory=i.addNewHistory,t.clearHistory=i.clearHistory,t.default=d.reducer},8527:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setupStore=void 0;const r=a(5184),s=i(a(2472)),n=i(a(8580)),d=i(a(3980)),o=i(a(5891)),l=i(a(5428)),c=i(a(4789)),u=i(a(1599)),p=i(a(4712)),y=i(a(9215)),g=i(a(7929)),v=i(a(7326)),m=i(a(2591)),f=i(a(9222)),h=i(a(6021)),S=i(a(905)),k=i(a(1419)),b=i(a(824)),F=i(a(4066)),T=i(a(3295)),j=i(a(5686)),C=i(a(3600)),L=i(a(2678)),I=i(a(9622)),P=i(a(8218)),_=i(a(7002)),O=i(a(3749)),E=i(a(7682)),M=i(a(3253)),A=i(a(8193)),R=i(a(673)),D=i(a(9696)),w=i(a(4918)),U=i(a(3516)),x=i(a(4656)),W=i(a(2382)),V=i(a(5150)),q=i(a(8980)),B=i(a(2587)),N=i(a(9935)),G=i(a(659)),$=i(a(1331)),K=i(a(8391)),H=i(a(4084)),z=i(a(9789)),J=i(a(515)),X=(0,r.combineReducers)({apps:d.default,auth:o.default,dealsFunnel:v.default,leadsFunnel:k.default,dealsStages:m.default,leadsStages:b.default,departments:_.default,email:E.default,files:M.default,groups:A.default,notifications:x.default,payments:W.default,profile:V.default,roles:q.default,tasks:N.default,tasksFilters:G.default,tasksSettings:$.default,tasksStages:K.default,tasksTimer:H.default,users:z.default,webhooks:J.default,newsfeed:U.default,migrationsReducer:w.default,messengerReducer:D.default,automations:l.default,drawersManagement:O.default,crmEntities:h.default,crmCalls:u.default,crmCompanies:p.default,crmContacts:y.default,crmDeals:g.default,crmLeads:S.default,crmTasks:P.default,crmProducts:F.default,crmProductsCategory:T.default,crmProductsForEntity:j.default,crmProductsTaxes:C.default,crmProductsUnit:L.default,crmDocumentTemplates:f.default,crmRequisite:I.default,history:R.default,settings:B.default,announcers:n.default,crm:c.default,analytics:s.default});t.setupStore=()=>(0,r.configureStore)({reducer:X,middleware:e=>e({serializableCheck:!1})})},9696:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),s=i(a(1055)),n=i(a(9516)),d=(0,r.combineReducers)({messenger:s.default,messengerExternal:n.default});t.default=d},6070:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWidget=t.deleteWidget=t.getWidgets=t.createWidget=t.fetchPinedMessages=t.goToMessage=t.fetchMessages=t.fetchChats=void 0;const r=a(5184),s=a(4809),n=a(4636);t.fetchChats=(0,r.createAsyncThunk)("messenger/fetchChats",(({getFormattedUserName:e},{rejectWithValue:t,getState:a})=>i(void 0,void 0,void 0,(function*(){try{const t=a(),i=t.users.data.filter((e=>e.authUserId)),r=t.profile.data,{data:d}=yield s.uspacySdk.messengerService.getChats({});return(0,n.formatChats)(d,i,r,e)}catch(e){return t(e)}})))),t.fetchMessages=(0,r.createAsyncThunk)("messenger/fetchMessages",(({chatId:e,limit:t,lastTimestamp:a,firstTimestamp:r,unreadFirst:n},{rejectWithValue:d,getState:o})=>i(void 0,void 0,void 0,(function*(){try{const i=o();return{items:(yield s.uspacySdk.messengerService.getMessages({chatId:e,limit:t,lastTimestamp:a,firstTimestamp:r,unreadFirst:n})).data,profile:i.profile.data}}catch(e){return d(e)}})))),t.goToMessage=(0,r.createAsyncThunk)("messenger/goToMessage",(({id:e},{rejectWithValue:t,getState:a})=>i(void 0,void 0,void 0,(function*(){try{const t=a();return{items:(yield s.uspacySdk.messengerService.goToMessage({id:e})).data,profile:t.profile.data}}catch(e){return t(e)}})))),t.fetchPinedMessages=(0,r.createAsyncThunk)("messenger/fetchPinedMessages",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const t=(yield s.uspacySdk.messengerService.getPinnedMessages(e)).data;return{chatId:e,items:t}}catch(e){return t(e)}})))),t.createWidget=(0,r.createAsyncThunk)("messenger/createWidget",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.createWidget(e)).data}catch(e){return t(e)}})))),t.getWidgets=(0,r.createAsyncThunk)("messenger/getWidgets",(({limit:e,page:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.getWidgets(e,t)).data}catch(e){return a(e)}})))),t.deleteWidget=(0,r.createAsyncThunk)("messenger/deleteWidget",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.deleteWidgets(e)).data}catch(e){return t(e)}})))),t.updateWidget=(0,r.createAsyncThunk)("messenger/updateWidget",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.messengerService.updateWidget(e)).data}catch(e){return t(e)}}))))},1055:function(e,t,a){var i,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setTimestamp=t.saveDraftMessage=t.resetMessages=t.readAllMessages=t.updateLastUnreadMessage=t.updateMuteTimestampInChat=t.updatePinedMessagesByChatId=t.removeMessageFromPined=t.addMessageInToPined=t.decSelectNotMyMessageCount=t.incSelectNotMyMessageCount=t.clearSelected=t.unselectMessage=t.selectMessage=t.setMessage=t.saveScrollPosition=t.unpinChat=t.pinChat=t.setForwardMessage=t.setActiveMessengerType=t.readMessages=t.readMessage=t.setParentMessageId=t.setEditableMessageId=t.updateMessage=t.removeMessage=t.updateChat=t.unshiftMessage=t.deleteMembers=t.addMembers=t.leaveChat=t.removeChat=t.unsetCurrentChat=t.setCurrentChat=t.appendChats=t.chatSlice=void 0;const s=a(5184),n=a(6063),d=r(a(9472)),o=a(3970),l=a(4636),c=a(6070),u={chats:{loading:!0,items:[]},messages:[],activeMessengerType:n.EMessengerType.INTERNAL_CHAT,forwardMessage:null,selectedMessages:[],selectNotMyMessageCount:0,pinedMessages:[],widgets:{data:[],meta:{currentPage:1,from:0,lastPage:1,perPage:0,to:0,total:0},loading:!1}},p=(e,t)=>{let a;return e.flatMap(((i,r,s)=>{var n;(!a||(0,d.default)(a.timestamp,i.timestamp)>1||a.authorId!==i.authorId)&&(a=i);const l=a.id===i.id||(0,d.default)(a.timestamp,i.timestamp)>1,c=e[r+1],u=Array.isArray(i.readBy)&&i.authorId!==t.authUserId&&!i.readBy.includes(t.authUserId)&&((null===(n=null==c?void 0:c.readBy)||void 0===n?void 0:n.includes(t.authUserId))||(null==c?void 0:c.authorId)===t.authUserId||!c);return u&&!s.find((e=>e.isFirstUnread))?[i,Object.assign(Object.assign({},i),{id:`${i.id}-unreadMessage`,message:o.unreadMessagesValue,isFirstUnread:u})]:Object.assign(Object.assign({},i),{showTime:l})}))};t.chatSlice=(0,s.createSlice)({name:"messenger",initialState:u,reducers:{appendChats(e,t){const a=(0,l.getUniqueItems)([...t.payload.items,...e.chats.items]).sort(l.sortChats);e.chats.items=a},setCurrentChat(e,t){e.chats.currentChatId=t.payload.id,e.messages=e.messages.map((e=>{if(e.chatId===t.payload.id){const a=p(e.items.filter((e=>!e.isFirstUnread)),t.payload.profile);return Object.assign(Object.assign({},e),{items:a})}return e}))},unsetCurrentChat(e){e.messages=e.messages.map((t=>t.chatId===e.chats.currentChatId?Object.assign(Object.assign({},t),{items:t.items.filter((e=>!e.isFirstUnread))}):t)),e.chats.currentChatId=void 0},removeChat(e,t){e.chats.currentChatId===t.payload&&(e.chats.currentChatId=void 0),e.chats.items=e.chats.items.filter((({id:e})=>e!==t.payload)),e.messages=e.messages.filter((({chatId:e})=>e!==t.payload))},unshiftMessage(e,t){const{chatId:a,item:i,profile:r}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===a){const t=p([i,...e.items],r);return Object.assign(Object.assign({},e),{items:t})}return e}));const s=[...e.chats.items].map((e=>e.id===a?Object.assign(Object.assign(Object.assign({},e),{lastMessage:i,timestamp:i.timestamp,originalTimestamp:i.timestamp,unreadCount:i.authorId!==r.authUserId||i.externalAuthorId?e.unreadCount+1:e.unreadCount}),i.mentioned.includes(r.authUserId)&&{unreadMentions:[i.id,...e.unreadMentions]}):e));e.chats.items=s.sort(l.sortChats)},updateChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),t.payload):e))},leaveChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>e!==t.payload.member))}):e))},addMembers(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:[...e.members,...t.payload.members].filter(l.onlyUnique)}):e))},deleteMembers(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>!t.payload.members.includes(e)))}):e))},removeMessage(e,t){const{removedMessageId:a,profileId:i,forceRemovedMessage:r,previewText:s=""}=t.payload;let n={};e.messages=e.messages.map((e=>{if(e.items.find((({id:e})=>e===a))){const t=e.items.reduce(((e,t)=>(t.id!==a?e.push(t):n=t,e)),[]);return Object.assign(Object.assign({},e),{items:t})}return e}));const d=r||n;e.chats.items=e.chats.items.map((t=>{if(t.id===d.chatId){const a=e.messages.find((({chatId:e})=>e===t.id)),r=t.unreadMentions.filter((e=>e!==d.id));if(!a)return Object.assign(Object.assign(Object.assign({},t),{unreadMentions:r,lastMessage:Object.assign(Object.assign({},t.lastMessage),{message:s})}),!d.readBy.includes(i)&&{unreadCount:t.unreadCount-1});const[n,l]=a.items,c=d.authorId!==i&&!d.readBy.includes(i);return Object.assign(Object.assign(Object.assign({},t),{unreadMentions:r,lastMessage:(null==n?void 0:n.message)!==o.unreadMessagesValue?n:l}),c&&{unreadCount:t.unreadCount-1})}return t}))},setEditableMessageId(e,t){const{value:a,currentExternalChatId:i}=t.payload,r=i||e.chats.currentChatId;e.messages=e.messages.map((e=>e.chatId===r?Object.assign(Object.assign({},e),{editableMessageId:a}):e))},setParentMessageId(e,t){const{messageId:a,externalChatId:i}=t.payload,r=i||e.chats.currentChatId;e.messages=e.messages.map((e=>e.chatId===r?Object.assign(Object.assign({},e),{parentMessageId:a}):e))},updateMessage(e,t){e.messages=e.messages.map((e=>{if(e.chatId===t.payload.chatId){const a=e.items.map((e=>e.id===t.payload.id?t.payload:e));return Object.assign(Object.assign({},e),{items:a})}return e})),e.chats.items=e.chats.items.map((e=>{var a;return e.id===t.payload.chatId&&(null===(a=e.lastMessage)||void 0===a?void 0:a.id)===t.payload.id?Object.assign(Object.assign({},e),{lastMessage:t.payload}):e}))},readMessage(e,t){const{message:a,userId:i}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===a.chatId){const t=e.items.map((e=>e.id===a.id?Object.assign(Object.assign({},e),{readBy:[...e.readBy||[],i]}):e));return Object.assign(Object.assign({},e),{items:t})}return e})),e.chats.items=(0,l.updateUnreadCountAndMentionedByChatId)((0,l.readLastMessageInChat)(e.chats.items,a,i),a.chatId,i,a)},readMessages(e,t){const{items:a,chatId:i,profile:r}=t.payload;e.messages=e.messages.map((e=>{if(e.chatId===i){const t=e.items.map((e=>{const t=a.find((({id:t})=>t===e.id));return t?Object.assign(Object.assign({},e),{readBy:t.readBy}):e}));return Object.assign(Object.assign({},e),{items:t})}return e})),e.chats.items=(0,l.readLastMessagesInChat)(e.chats.items,a,i,r)},setActiveMessengerType(e,t){e.activeMessengerType=t.payload},setForwardMessage(e,t){e.forwardMessage=t.payload},pinChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{pinned:!0,pinnedTimestamp:Date.now()}):e)).sort(l.sortChats)},unpinChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{pinned:!1,pinnedTimestamp:void 0}):e)).sort(l.sortChats)},saveScrollPosition(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{scrollPosition:t.payload.scrollPosition}):e))},setMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{message:t.payload.message}):e))},selectMessage(e,t){e.selectedMessages=[t.payload,...e.selectedMessages]},unselectMessage(e,t){e.selectedMessages=e.selectedMessages.filter((e=>e!==t.payload))},clearSelected(e){e.selectedMessages=[],e.selectNotMyMessageCount=0},incSelectNotMyMessageCount(e){e.selectNotMyMessageCount++},decSelectNotMyMessageCount(e){e.selectNotMyMessageCount--},addMessageInToPined(e,t){e.pinedMessages=e.pinedMessages.map((e=>t.payload.chatId===e.chatId?Object.assign(Object.assign({},e),{items:[t.payload,...e.items]}):e))},removeMessageFromPined(e,t){e.pinedMessages=e.pinedMessages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>e.id!==t.payload))})))},updatePinedMessagesByChatId(e,t){e.pinedMessages=e.pinedMessages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{items:t.payload.messages}):e))},updateMuteTimestampInChat(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{settings:Object.assign(Object.assign({},e.settings),{muteUntil:t.payload.muteUntil||void 0})}):e))},updateLastUnreadMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload?Object.assign({},e):e))},readAllMessages(e,t){const{chatId:a,profile:i,userId:r}=t.payload;i.authUserId===r&&(e.chats.items=e.chats.items.map((e=>e.id===a&&e.unreadCount?Object.assign(Object.assign({},e),{unreadCount:0,unreadMentions:[]}):e))),e.messages=e.messages.map((e=>e.chatId===a?Object.assign(Object.assign({},e),{items:e.items.filter((e=>!e.isFirstUnread)).map((e=>Object.assign(Object.assign({},e),{readBy:e.authorId===r||e.readBy.includes(r)?e.readBy:[...e.readBy,r]})))}):e)),r!==i.authUserId&&(e.chats.items=e.chats.items.map((e=>{var t;if(e.id===a&&(null===(t=e.lastMessage)||void 0===t?void 0:t.authorId)!==r){const{lastMessage:t}=e;return Object.assign(Object.assign({},e),{lastMessage:Object.assign(Object.assign({},t),{readBy:t.readBy.includes(r)?t.readBy:[...t.readBy,r]})})}return e})))},resetMessages(e){e.messages=[]},saveDraftMessage(e,t){e.messages=e.messages.map((e=>e.chatId===t.payload.chatId?Object.assign(Object.assign({},e),{draftMessage:t.payload.message}):e))},setTimestamp(e,t){e.chats.items=e.chats.items.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{timestamp:"now"===t.payload.divider?Date.now():e.originalTimestamp}):e)).sort(l.sortChats)}},extraReducers:{[c.fetchChats.fulfilled.type]:(e,t)=>{e.chats.loading=!1,e.chats.items=t.payload,e.chats.currentChatId&&!t.payload.find((({id:t})=>t===e.chats.currentChatId))&&(e.messages=e.messages.filter((({chatId:t})=>t!==e.chats.currentChatId)),e.chats.currentChatId=void 0)},[c.fetchChats.pending.type]:e=>{e.chats.loading=!0},[c.fetchChats.rejected.type]:e=>{e.chats.loading=!1},[c.fetchMessages.fulfilled.type]:(e,t)=>{e.messages=e.messages.map((e=>{var a,i;if(e.chatId===t.meta.arg.chatId){const{dir:r}=t.meta.arg,s="prev"!==r&&r?e.lastTimestamp:null===(a=t.payload.items[t.payload.items.length-1])||void 0===a?void 0:a.timestamp,n="next"!==r&&r?e.firstTimestamp:null===(i=t.payload.items[0])||void 0===i?void 0:i.timestamp,d="prev"===r?[...e.items,...t.payload.items]:"next"===r?[...t.payload.items,...e.items]:t.payload.items;return Object.assign(Object.assign({},e),{items:p((0,l.getUniqueItems)(d),t.payload.profile),loading:!1,lastTimestamp:s,firstTimestamp:n})}return e}))},[c.fetchMessages.pending.type]:(e,t)=>{t.meta.arg.push||(t.meta.arg.reconnect&&(e.messages=e.messages.filter((({chatId:e})=>e===t.meta.arg.chatId))),e.messages.find((e=>e.chatId===t.meta.arg.chatId))?e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!0}):e)):e.messages.push({chatId:t.meta.arg.chatId,items:[],loading:!0,draftMessage:""}))},[c.fetchMessages.rejected.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!1}):e))},[c.goToMessage.fulfilled.type]:(e,t)=>{var a,i,r;const s=!e.messages.find((e=>{var a;return e.chatId===(null===(a=t.payload.items[0])||void 0===a?void 0:a.chatId)})),n=null===(a=t.payload.items[t.payload.items.length-1])||void 0===a?void 0:a.timestamp,d=null===(i=t.payload.items[0])||void 0===i?void 0:i.timestamp;s?e.messages.push({draftMessage:"",chatId:null===(r=t.payload.items[0])||void 0===r?void 0:r.chatId,items:p(t.payload.items,t.payload.profile),loading:!1,lastTimestamp:n,firstTimestamp:d}):e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{items:p(t.payload.items,t.payload.profile),loading:!1,lastTimestamp:n,firstTimestamp:d}):e))},[c.goToMessage.pending.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!0}):e))},[c.goToMessage.rejected.type]:(e,t)=>{e.messages=e.messages.map((e=>e.chatId===t.meta.arg.chatId?Object.assign(Object.assign({},e),{loading:!1}):e))},[c.fetchPinedMessages.fulfilled.type]:(e,t)=>{e.pinedMessages=[...e.pinedMessages,t.payload]},[c.createWidget.pending.type]:e=>{e.widgets.loading=!0},[c.createWidget.rejected.type]:e=>{e.widgets.loading=!1},[c.createWidget.fulfilled.type]:(e,t)=>{e.widgets.data=[...e.widgets.data,t.payload],e.widgets.meta.total=e.widgets.meta.total+1,e.widgets.loading=!1},[c.getWidgets.pending.type]:e=>{e.widgets.loading=!0},[c.getWidgets.rejected.type]:e=>{e.widgets.loading=!1},[c.getWidgets.fulfilled.type]:(e,t)=>{e.widgets.data=t.payload.data,e.widgets.meta=t.payload.meta,e.widgets.loading=!1},[c.deleteWidget.fulfilled.type]:(e,t)=>{e.widgets.data=e.widgets.data.filter((e=>e.id!==t.payload.id))},[c.updateWidget.fulfilled.type]:(e,t)=>{e.widgets.data=e.widgets.data.map((e=>e.id===t.payload.id?t.payload:e))}}}),i=t.chatSlice.actions,t.appendChats=i.appendChats,t.setCurrentChat=i.setCurrentChat,t.unsetCurrentChat=i.unsetCurrentChat,t.removeChat=i.removeChat,t.leaveChat=i.leaveChat,t.addMembers=i.addMembers,t.deleteMembers=i.deleteMembers,t.unshiftMessage=i.unshiftMessage,t.updateChat=i.updateChat,t.removeMessage=i.removeMessage,t.updateMessage=i.updateMessage,t.setEditableMessageId=i.setEditableMessageId,t.setParentMessageId=i.setParentMessageId,t.readMessage=i.readMessage,t.readMessages=i.readMessages,t.setActiveMessengerType=i.setActiveMessengerType,t.setForwardMessage=i.setForwardMessage,t.pinChat=i.pinChat,t.unpinChat=i.unpinChat,t.saveScrollPosition=i.saveScrollPosition,t.setMessage=i.setMessage,t.selectMessage=i.selectMessage,t.unselectMessage=i.unselectMessage,t.clearSelected=i.clearSelected,t.incSelectNotMyMessageCount=i.incSelectNotMyMessageCount,t.decSelectNotMyMessageCount=i.decSelectNotMyMessageCount,t.addMessageInToPined=i.addMessageInToPined,t.removeMessageFromPined=i.removeMessageFromPined,t.updatePinedMessagesByChatId=i.updatePinedMessagesByChatId,t.updateMuteTimestampInChat=i.updateMuteTimestampInChat,t.updateLastUnreadMessage=i.updateLastUnreadMessage,t.readAllMessages=i.readAllMessages,t.resetMessages=i.resetMessages,t.saveDraftMessage=i.saveDraftMessage,t.setTimestamp=i.setTimestamp,t.default=t.chatSlice.reducer},3e3:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchExternalChats=void 0;const r=a(5184),s=a(4809),n=a(4636);t.fetchExternalChats=(0,r.createAsyncThunk)("messenger/fetchExternalChats",(({getFormattedUserName:e},{rejectWithValue:t,getState:a})=>i(void 0,void 0,void 0,(function*(){try{const t=a(),i=t.users.data.filter((e=>e.authUserId)),r=t.profile.data,{data:d}=yield s.uspacySdk.messengerService.getChats({type:"EXTERNAL"});return(0,n.formatChats)(d,i,r,e)}catch(e){return t(e)}}))))},9516:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setInviteStatus=t.setTimestamp=t.readExtMessagesAction=t.readLastMessageInExternalChat=t.deleteExternalMembersAction=t.addExternalMembersAction=t.appendChatsToUndistributed=t.addChatToUndistributed=t.updateChat=t.removeChatFromInactive=t.unshiftLastMessage=t.removeChatFromActive=t.removeChatFromUndistributed=t.addChatToInactive=t.addChatToActive=t.unsetCurrentChat=t.setCurrentChat=t.externalChatSlice=void 0;const r=a(5184),s=a(4636),n=a(3e3);t.externalChatSlice=(0,r.createSlice)({name:"messengerExternal",initialState:{externalChats:{loading:!0,items:{active:[],undistributed:[],inactive:[]},externalChatsLength:0}},reducers:{setCurrentChat(e,t){e.externalChats.currentChatId=t.payload},unsetCurrentChat(e){e.externalChats.currentChatId=void 0},updateChat(e,t){e.externalChats.items=(0,s.updateExternalChat)(e.externalChats.items,t.payload)},addChatToActive(e,t){e.externalChats.items.active=[t.payload,...e.externalChats.items.active]},addChatToInactive(e,t){e.externalChats.items.inactive=[t.payload,...e.externalChats.items.inactive]},addChatToUndistributed(e,t){e.externalChats.items.undistributed=[t.payload,...e.externalChats.items.undistributed]},removeChatFromUndistributed(e,t){e.externalChats.items.undistributed=e.externalChats.items.undistributed.filter((e=>e.id!==t.payload))},removeChatFromInactive(e,t){e.externalChats.items.inactive=e.externalChats.items.inactive.filter((e=>e.id!==t.payload))},removeChatFromActive(e,t){e.externalChats.currentChatId===t.payload&&(e.externalChats.currentChatId=void 0),e.externalChats.items.active=e.externalChats.items.active.filter((e=>e.id!==t.payload))},unshiftLastMessage(e,t){const{chatId:a,item:i,profile:r}=t.payload;e.externalChats.items=(0,s.updateLastMessageInExternalChat)(e.externalChats.items,a,i,r)},appendChatsToUndistributed(e,t){e.externalChats.items.undistributed=[t.payload,...e.externalChats.items.undistributed]},addExternalMembersAction(e,t){e.externalChats.items=Object.assign(Object.assign({},e.externalChats.items),{active:e.externalChats.items.active.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:[...e.members,...t.payload.members].filter(s.onlyUnique)}):e))})},deleteExternalMembersAction(e,t){e.externalChats.items=Object.assign(Object.assign({},e.externalChats.items),{active:e.externalChats.items.active.map((e=>e.id===t.payload.id?Object.assign(Object.assign({},e),{members:e.members.filter((e=>!t.payload.members.includes(e)))}):e))})},readLastMessageInExternalChat(e,t){const{message:a,userId:i}=t.payload;e.externalChats.items.active=(0,s.updateUnreadCountAndMentionedByChatId)((0,s.readLastMessageInChat)(e.externalChats.items.active,a,i),a.chatId,i,a)},readExtMessagesAction(e,t){const{items:a,chatId:i,profile:r}=t.payload;e.externalChats.items.active=(0,s.readLastMessagesInChat)(e.externalChats.items.active,a,i,r)},setTimestamp(e,t){e.externalChats.items.active=e.externalChats.items.active.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{timestamp:"now"===t.payload.divider?Date.now():e.originalTimestamp}):e)).sort(s.sortChats)},setInviteStatus(e,t){e.externalChats.items.active=e.externalChats.items.active.map((e=>e.id===t.payload.chatId?Object.assign(Object.assign({},e),{isInviteChat:t.payload.value}):e))}},extraReducers:{[n.fetchExternalChats.fulfilled.type]:(e,t)=>{e.externalChats.loading=!1,e.externalChats.externalChatsLength=t.payload.length,e.externalChats.items=(0,s.separateExternalChats)(t.payload)},[n.fetchExternalChats.pending.type]:e=>{e.externalChats.loading=!0},[n.fetchExternalChats.rejected.type]:e=>{e.externalChats.loading=!1}}}),i=t.externalChatSlice.actions,t.setCurrentChat=i.setCurrentChat,t.unsetCurrentChat=i.unsetCurrentChat,t.addChatToActive=i.addChatToActive,t.addChatToInactive=i.addChatToInactive,t.removeChatFromUndistributed=i.removeChatFromUndistributed,t.removeChatFromActive=i.removeChatFromActive,t.unshiftLastMessage=i.unshiftLastMessage,t.removeChatFromInactive=i.removeChatFromInactive,t.updateChat=i.updateChat,t.addChatToUndistributed=i.addChatToUndistributed,t.appendChatsToUndistributed=i.appendChatsToUndistributed,t.addExternalMembersAction=i.addExternalMembersAction,t.deleteExternalMembersAction=i.deleteExternalMembersAction,t.readLastMessageInExternalChat=i.readLastMessageInExternalChat,t.readExtMessagesAction=i.readExtMessagesAction,t.setTimestamp=i.setTimestamp,t.setInviteStatus=i.setInviteStatus,t.default=t.externalChatSlice.reducer},7263:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importAmoEntities=t.fetchAmo=void 0;const r=a(5184),s=a(4809);t.fetchAmo=(0,r.createAsyncThunk)("amoCRM/fetchEntities",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getAmoEntites(e)).data}catch(e){return t(e)}})))),t.importAmoEntities=(0,r.createAsyncThunk)("amoCRM/importEntities",(({systemId:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importAmoEntities(e,t)).data}catch(e){return a(e)}}))))},8443:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setAmoData=void 0;const i=a(5184),r=a(7263),s=(0,i.createSlice)({name:"amoEntities",initialState:{amoEntities:{},loadingAmo:!1,errorLoadingAmo:null,amoData:[]},reducers:{setAmoData:(e,t)=>{e.amoData=t.payload}},extraReducers:{[r.fetchAmo.fulfilled.type]:(e,t)=>{e.loadingAmo=!1,e.errorLoadingAmo=null,e.amoEntities=t.payload},[r.fetchAmo.pending.type]:e=>{e.loadingAmo=!0,e.errorLoadingAmo=null},[r.fetchAmo.rejected.type]:(e,t)=>{e.loadingAmo=!1,e.errorLoadingAmo=t.payload}}});t.setAmoData=s.actions.setAmoData,t.default=s.reducer},8757:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importBitrix24Entities=t.fetchBitrix24=void 0;const r=a(5184),s=a(4809);t.fetchBitrix24=(0,r.createAsyncThunk)("bitrix24/fetchEntities",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getBitrix24Entities(e)).data}catch(e){return t(e)}})))),t.importBitrix24Entities=(0,r.createAsyncThunk)("bitrix24/importBitrix24Entities",(({webhook:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importBitrix24Entities(e,t)).data}catch(e){return a(e)}}))))},585:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearFetchError=t.setB24Data=void 0;const r=a(5184),s=a(8757),n=(0,r.createSlice)({name:"bitrix24Entities",initialState:{bitrix24Entities:{},loadingBitrix24:!1,loadingImportBitrix24:!1,errorLoadingBitrix24:null,errorLoadingImportBitrix24:null,b24Data:[]},reducers:{setB24Data:(e,t)=>{e.b24Data=t.payload},clearFetchError:e=>{e.errorLoadingBitrix24=null}},extraReducers:{[s.fetchBitrix24.fulfilled.type]:(e,t)=>{e.loadingBitrix24=!1,e.errorLoadingBitrix24=null,e.bitrix24Entities=t.payload},[s.fetchBitrix24.pending.type]:e=>{e.loadingBitrix24=!0,e.errorLoadingBitrix24=null},[s.fetchBitrix24.rejected.type]:(e,t)=>{e.loadingBitrix24=!1,e.errorLoadingBitrix24=t.payload}}});i=n.actions,t.setB24Data=i.setB24Data,t.clearFetchError=i.clearFetchError,t.default=n.reducer},7801:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getDataPresence=void 0;const r=a(5184),s=a(4809);t.getDataPresence=(0,r.createAsyncThunk)("zoho/getDataPresence",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getDataPresence()).data}catch(e){return t(e)}}))))},216:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(7801),s=(0,i.createSlice)({name:"presenceData",initialState:{companyInfo:{},loadingCompanyInfo:!1,errorCompanyInfo:!1},reducers:{},extraReducers:{[r.getDataPresence.fulfilled.type]:(e,t)=>{e.loadingCompanyInfo=!1,e.errorCompanyInfo=null,e.companyInfo=t.payload},[r.getDataPresence.pending.type]:e=>{e.loadingCompanyInfo=!0,e.errorCompanyInfo=null},[r.getDataPresence.rejected.type]:e=>{e.loadingCompanyInfo=!1,e.errorCompanyInfo=!0}}});t.default=s.reducer},4918:function(e,t,a){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=a(5184),s=i(a(8443)),n=i(a(585)),d=i(a(216)),o=i(a(8791)),l=i(a(8010)),c=i(a(90)),u=i(a(2819)),p=(0,r.combineReducers)({amo:s.default,bitrix24:n.default,dataPresence:d.default,progress:o.default,allSystems:l.default,stopImport:c.default,systemWithKey:u.default});t.default=p},1572:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getMondayStatus=t.getSystemStatus=void 0;const r=a(5184),s=a(4809);t.getSystemStatus=(0,r.createAsyncThunk)("import/systemStatus",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getSystemProgress(e)).data}catch(e){return t(e)}})))),t.getMondayStatus=(0,r.createAsyncThunk)("progress/mondayStatus",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getMondayProgress(e)).data}catch(e){return t(e)}}))))},5175:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAllSystemsStatus=void 0;const r=a(5184),s=a(4809);t.getAllSystemsStatus=(0,r.createAsyncThunk)("import/systemStatus",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getAllSystemsStatus()).data}catch(e){return t(e)}}))))},8010:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(5175),s=(0,i.createSlice)({name:"allSystemsStatus",initialState:{allSystemsStatus:{},loadingProgress:!1,errorLoadingProgress:null},reducers:{},extraReducers:{[r.getAllSystemsStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.allSystemsStatus=t.payload},[r.getAllSystemsStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[r.getAllSystemsStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload}}});t.default=s.reducer},8791:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(1572),s=(0,i.createSlice)({name:"systemStatus",initialState:{systemStatus:{},loadingProgress:!1,errorLoadingProgress:null},reducers:{},extraReducers:{[r.getSystemStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.systemStatus=t.payload},[r.getSystemStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[r.getSystemStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload},[r.getMondayStatus.fulfilled.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=null,e.systemStatus=t.payload},[r.getMondayStatus.pending.type]:e=>{e.loadingProgress=!0,e.errorLoadingProgress=null},[r.getMondayStatus.rejected.type]:(e,t)=>{e.loadingProgress=!1,e.errorLoadingProgress=t.payload}}});t.default=s.reducer},7557:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.stopImport=void 0;const r=a(5184),s=a(4809);t.stopImport=(0,r.createAsyncThunk)("import/systemStop",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.migrationsService.stopImport(e)}catch(e){return t(e)}}))))},90:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=a(5184),r=a(7557),s=(0,i.createSlice)({name:"systemStatus",initialState:{systemStatus:{},loading:!1,error:null},reducers:{},extraReducers:{[r.stopImport.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.systemStatus=t.payload},[r.stopImport.pending.type]:e=>{e.loading=!0,e.error=null},[r.stopImport.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});t.default=s.reducer},9895:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.importMigrationEntities=t.fetchMigrationEntity=void 0;const r=a(5184),s=a(4809);t.fetchMigrationEntity=(0,r.createAsyncThunk)("systemsWithKey/fetchMigrationEntities",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.getMigrationEntities(e.apiKey,e.systemName)).data}catch(e){return t(e)}})))),t.importMigrationEntities=(0,r.createAsyncThunk)("systemsWithKey/importMigrationEntities",(({apiKey:e,data:t,systemName:a,body:r},{rejectWithValue:n})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.migrationsService.importMigrationEntities(e,t,a,r)).data}catch(e){return n(e)}}))))},2819:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearFetchError=t.setSystemData=void 0;const r=a(5184),s=a(9895),n=(0,r.createSlice)({name:"systemEntities",initialState:{systemEntities:{},loadingSystem:!1,loadingImportSystem:!1,errorLoadingSystem:null,errorLoadingImportSystem:null,systemData:[]},reducers:{setSystemData:(e,t)=>{e.systemData=t.payload},clearFetchError:e=>{e.errorLoadingSystem=null}},extraReducers:{[s.fetchMigrationEntity.fulfilled.type]:(e,t)=>{e.loadingSystem=!1,e.errorLoadingSystem=null,e.systemEntities=t.payload},[s.fetchMigrationEntity.pending.type]:e=>{e.loadingSystem=!0,e.errorLoadingSystem=null},[s.fetchMigrationEntity.rejected.type]:(e,t)=>{e.loadingSystem=!1,e.errorLoadingSystem=t.payload},[s.importMigrationEntities.fulfilled.type]:e=>{e.loadingImportSystem=!1,e.errorLoadingImportSystem=null},[s.importMigrationEntities.pending.type]:e=>{e.loadingImportSystem=!0,e.errorLoadingImportSystem=null},[s.importMigrationEntities.rejected.type]:(e,t)=>{e.loadingImportSystem=!1,e.errorLoadingImportSystem=t.payload}}});i=n.actions,t.setSystemData=i.setSystemData,t.clearFetchError=i.clearFetchError,t.default=n.reducer},9153:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deletePost=t.editPost=t.createPost=t.fetchPostById=t.fetchPosts=void 0;const r=a(5184),s=a(4809);t.fetchPosts=(0,r.createAsyncThunk)("postsReducer/fetchPosts",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.getPosts(e.page,e.list,e.group_id)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchPostById=(0,r.createAsyncThunk)("postsReducer/fetchPostById",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.getPost(e.id)).data}catch(e){return t.rejectWithValue(e)}})))),t.createPost=(0,r.createAsyncThunk)("postsReducer/createPost",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.createPost(e)).data}catch(e){return t(e)}})))),t.editPost=(0,r.createAsyncThunk)("postsReducer/editedPost",(({data:e,id:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.newsFeedService.updatePost(t,e)).data}catch(e){return a.rejectWithValue(e)}})))),t.deletePost=(0,r.createAsyncThunk)("postsReducer/deletePost",(({id:e,notify:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.newsFeedService.deletePost(e,t),e}catch(e){return a.rejectWithValue(e)}}))))},3516:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postsReducer=void 0;const i=a(5184),r=a(9153);t.postsReducer=(0,i.createSlice)({name:"postsReducer",initialState:{loadPosts:{data:[],meta:null},allPosts:[],post:{},newPost:{placeholderInputTitle:"",labelInputTitle:"",isShowAddPost:!1,valuePlaceholderEditor:"",titlePost:"",whichMethod:"delete",postId:"",recipients:{include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},authorMood:"",fileIds:[],group_id:null,notify:{users:[],groups:[],departments:[]}},editPostItem:{id:"",files:[],fileIds:[],editStatus:!1,author_mood:"",date:0,recipients:{include:{users:[],departments:[]},exclude:{departments:[],users:[]}},authorId:"",message:"",title:"",notify:{users:[],groups:[],departments:[]}},isNewPostCreate:!1,loadPost:!0,loadingPosts:!1,loadingCreatePost:!1,loadingEditPost:!1,loadingDeletePost:!1,errorLoadingPosts:null,errorLoadingCreatedPost:null,errorEditingPost:null,errorDeletingPost:null},reducers:{changeTitle:(e,t)=>{e.newPost.titlePost=t.payload},showPost:(e,t)=>{e.newPost.placeholderInputTitle=t.payload.placeholder,e.newPost.labelInputTitle=t.payload.labelInput,e.newPost.isShowAddPost=t.payload.isShowPost},defaultPost:(e,t)=>{e.newPost.placeholderInputTitle=t.payload.placeholder,e.newPost.labelInputTitle=t.payload.labelInput,e.newPost.valuePlaceholderEditor="",e.newPost.fileIds=[],e.newPost.isShowAddPost=!1,e.newPost.titlePost="",e.newPost.whichMethod="delete",e.newPost.postId="",e.newPost.authorMood="",e.newPost.recipients={include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}}},changeMainContent:(e,t)=>{e.newPost.valuePlaceholderEditor=t.payload},changeMood:(e,t)=>{e.newPost.authorMood=t.payload},changeNewPostStatus:(e,t)=>{e.isNewPostCreate=t.payload},deletePostFromPosts:(e,t)=>{e.allPosts=e.allPosts.filter((e=>e.id!==t.payload))},addToAllPosts:(e,t)=>{e.allPosts=t.payload},changeRecipients:(e,t)=>{e.newPost.recipients.include.usersIds=t.payload},changeFileIds:(e,t)=>{e.newPost.fileIds=t.payload},changeTitleEditPost:(e,t)=>{e.editPostItem.title=t.payload},changeMoodEditPost:(e,t)=>{e.editPostItem.author_mood=t.payload},changeMessageEditPost:(e,t)=>{e.editPostItem.message=t.payload},changeFileIdsEditPost:(e,t)=>{e.editPostItem.fileIds=t.payload},changeRecipientsEditPost:(e,t)=>{e.editPostItem.recipients.include.usersIds=t.payload},fillEditPost:(e,t)=>{var a,i;e.editPostItem.editStatus=!0,e.editPostItem.id=t.payload.id,e.editPostItem.title=t.payload.title,e.editPostItem.message=t.payload.message,e.editPostItem.author_mood=t.payload.author_mood,e.editPostItem.authorId=t.payload.authorId,e.editPostItem.recipients=t.payload.recipients?t.payload.recipients:{include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},e.editPostItem.files=(null===(a=t.payload)||void 0===a?void 0:a.files)?null===(i=t.payload)||void 0===i?void 0:i.files:[]},cancelEditPost:e=>{e.editPostItem.id="",e.editPostItem.files=[],e.editPostItem.fileIds=[],e.editPostItem.editStatus=!1,e.editPostItem.author_mood="",e.editPostItem.date=0,e.editPostItem.recipients={include:{usersIds:[],departmentsIds:[]},exclude:{departmentsIds:[],usersIds:[]}},e.editPostItem.authorId="",e.editPostItem.message="",e.editPostItem.title=""},deleteFileFromPost:(e,t)=>{e.allPosts=e.allPosts.map((e=>e.id===t.payload.postId?Object.assign(Object.assign({},e),{files:e.files.filter((e=>e.id!==t.payload.deleteFileId))}):e)),e.editPostItem=Object.assign(Object.assign({},e.editPostItem),{files:e.editPostItem.files.filter((e=>e.id!==t.payload.deleteFileId))})},addFileToPost:(e,t)=>{e.allPosts=e.allPosts.map((e=>{var a;return e.id===t.payload.postId?Object.assign(Object.assign({},e),{files:(null===(a=null==e?void 0:e.files)||void 0===a?void 0:a.length)>0?[...e.files,...t.payload.file]:[...t.payload.file]}):e}))},clearPosts:e=>{e.loadPosts.data=[],e.allPosts=[],e.loadingPosts=!0},groupIdForPost:(e,t)=>{e.newPost.group_id=t.payload}},extraReducers:{[r.fetchPosts.fulfilled.type]:(e,t)=>{e.loadingPosts=!1,e.errorLoadingPosts=null,e.loadPosts=null==t?void 0:t.payload},[r.fetchPosts.pending.type]:e=>{e.loadingPosts=!0},[r.fetchPosts.rejected.type]:(e,t)=>{e.loadingPosts=!1,e.errorLoadingPosts=null==t?void 0:t.payload},[r.fetchPostById.fulfilled.type]:(e,t)=>{e.loadPost=!1,e.errorLoadingPosts=null,e.post=null==t?void 0:t.payload.data},[r.fetchPostById.pending.type]:e=>{e.loadPost=!0},[r.fetchPostById.rejected.type]:(e,t)=>{e.loadPost=!1,e.errorLoadingPosts=null==t?void 0:t.payload},[r.createPost.fulfilled.type]:(e,t)=>{e.isNewPostCreate=!0,e.loadPosts.data=[t.payload.data],e.loadingCreatePost=!1,e.errorLoadingCreatedPost=null,e.newPost.valuePlaceholderEditor="",e.newPost.isShowAddPost=!1,e.newPost.titlePost="",e.newPost.whichMethod="delete",e.newPost.postId="",e.newPost.authorMood="",e.newPost.recipients={}},[r.createPost.pending.type]:e=>{e.loadingCreatePost=!0,e.isNewPostCreate=!1},[r.createPost.rejected.type]:(e,t)=>{e.loadingCreatePost=!1,e.isNewPostCreate=!1,e.errorLoadingCreatedPost=null==t?void 0:t.payload},[r.editPost.fulfilled.type]:(e,t)=>{e.loadingEditPost=!1,e.errorEditingPost=null,e.allPosts=e.allPosts.map((e=>e.id===t.payload.data.id?Object.assign(Object.assign({},t.payload.data),{files:e.files}):e))},[r.editPost.pending.type]:e=>{e.loadingEditPost=!0},[r.editPost.rejected.type]:(e,t)=>{e.loadingEditPost=!1,e.errorEditingPost=null==t?void 0:t.payload},[r.deletePost.fulfilled.type]:(e,t)=>{e.loadingDeletePost=!1,e.errorDeletingPost=null,e.allPosts=e.allPosts.filter((e=>+e.id!=+(null==t?void 0:t.payload)))},[r.deletePost.pending.type]:e=>{e.loadingDeletePost=!0},[r.deletePost.rejected.type]:(e,t)=>{e.loadingDeletePost=!1,e.errorDeletingPost=null==t?void 0:t.payload}}}),t.default=t.postsReducer.reducer},9847:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNotifications=void 0;const r=a(5184),s=a(4809),n=a(6462);t.fetchNotifications=(0,r.createAsyncThunk)("notifications/fetchNotifications",((e,{rejectWithValue:t,getState:a})=>i(void 0,void 0,void 0,(function*(){try{const e=a(),t=e.users.data,i=e.profile.data.id,{data:r}=yield s.uspacySdk.notificationsService.getNotifications();return r.map((e=>(0,n.transformNotificationMessage)(e,t,i)))}catch(e){return t(e)}}))))},4656:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.readNotification=t.readAllNotifications=t.setNotifications=t.addNotifications=void 0;const r=a(5184),s=a(9847),n=(0,r.createSlice)({name:"notifications",initialState:{notifications:[],loading:!0},reducers:{setNotifications(e,t){e.notifications=t.payload},addNotifications(e,t){e.notifications=[t.payload,...e.notifications]},readNotification(e,t){e.notifications=e.notifications.map((e=>e.id===t.payload?Object.assign(Object.assign({},e),{read:!0}):e))},readAllNotifications(e){e.notifications=e.notifications.map((e=>Object.assign(Object.assign({},e),{read:!0})))}},extraReducers:{[s.fetchNotifications.fulfilled.type]:(e,t)=>{e.loading=!1,e.notifications=t.payload},[s.fetchNotifications.pending.type]:e=>{e.loading=!0},[s.fetchNotifications.rejected.type]:e=>{e.loading=!1}}});i=n.actions,t.addNotifications=i.addNotifications,t.setNotifications=i.setNotifications,t.readAllNotifications=i.readAllNotifications,t.readNotification=i.readNotification,t.default=n.reducer},2382:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setVatTaxIdError=t.setLegalEntityFormEuComErrors=t.setLegalEntityFormEuCom=t.setLegalEntityFormErrors=t.setLegalEntityForm=t.setIndividualPersonFormErrors=t.setIndividualPersonForm=t.setAutomaticSubscriptionRenewal=t.setVatTaxStatus=t.setCardToken=t.setTariffActionType=t.setPaymentMethod=t.setTypeOfPayer=t.setDiscounts=t.setRadioValueTariffState=t.setTariff=t.setDurationView=t.setUsersCount=t.setPrice=t.setIsPaymentProcess=t.setIsPaymentButtonPress=t.setCheckFillCardCvv=t.setCheckFillCardExpiry=t.setCheckFillCardNumber=t.setCardCheck=void 0;const r=(0,a(5184).createSlice)({name:"paymentsReducer",initialState:{cardCheck:{success:!1,loading:!1,error:""},checkFillCardNumber:{error:!1,complete:!1},checkFillCardExpiry:{error:!1,complete:!1},checkFillCardCvv:{error:!1,complete:!1},isPaymentButtonPress:!1,isPaymentProcess:!1,price:{professional:1,standard:1},usersCount:0,durationView:"yearly",tariff:"professional",radioValueTariffState:"professional",discountInput:{type:"percentage",value:0},discountSeason:{type:"percentage",value:0},typeOfPayer:"individual",paymentMethod:"card",tariffActionType:"changeTheTariff",cardTokens:{gwToken:"",cardToken:""},vatTaxStatus:"",automaticSubscriptionRenewal:!1,individualPersonForm:{firstName:"",lastName:"",phone:"",email:""},legalEntityForm:{contactPersonPhone:"",contactPersonEmail:"",itinCode:"",companyName:"",legalAddress:"",directorsFullName:""},legalEntityFormEuCom:{firstName:"",lastName:"",email:"",companyName:"",vatIdTaxIdForCompaniesOnly:"",country:null,addressLine1:"",addressLine2:"",state:"",city:"",postalZipCode:""},individualPersonFormErrors:{firstNameErr:!1,lastNameErr:!1,phoneErr:!1,emailErr:!1},legalEntityFormErrors:{contactPersonPhoneErr:!1,contactPersonEmailErr:!1,itinCodeErr:!1,companyNameErr:!1,legalAddressErr:!1,directorsFullNameErr:!1},legalEntityFormEuComErrors:{firstNameErr:!1,lastNameErr:!1,emailErr:!1,countryErr:!1,addressLine1Err:!1,cityErr:!1},vatTaxIdError:!1},reducers:{setCardCheck:(e,t)=>{e.cardCheck=t.payload},setCheckFillCardNumber:(e,t)=>{e.checkFillCardNumber=t.payload},setCheckFillCardExpiry:(e,t)=>{e.checkFillCardExpiry=t.payload},setCheckFillCardCvv:(e,t)=>{e.checkFillCardCvv=t.payload},setIsPaymentButtonPress:(e,t)=>{e.isPaymentButtonPress=t.payload},setIsPaymentProcess:(e,t)=>{e.isPaymentProcess=t.payload},setPrice:(e,t)=>{e.price=t.payload},setUsersCount:(e,t)=>{e.usersCount=t.payload},setDurationView:(e,t)=>{e.durationView=t.payload},setTariff:(e,t)=>{e.tariff=t.payload},setRadioValueTariffState:(e,t)=>{e.radioValueTariffState=t.payload},setDiscounts:(e,t)=>{"input"===t.payload.type&&(e.discountInput=t.payload.discount),"season"===t.payload.type&&(e.discountSeason=t.payload.discount)},setTypeOfPayer:(e,t)=>{e.typeOfPayer=t.payload},setPaymentMethod:(e,t)=>{e.paymentMethod=t.payload},setTariffActionType:(e,t)=>{e.tariffActionType=t.payload},setCardToken:(e,t)=>{e.cardTokens=t.payload},setVatTaxStatus:(e,t)=>{e.vatTaxStatus=t.payload},setAutomaticSubscriptionRenewal:(e,t)=>{e.automaticSubscriptionRenewal=t.payload},setIndividualPersonForm:(e,t)=>{e.individualPersonForm=t.payload},setIndividualPersonFormErrors:(e,t)=>{e.individualPersonFormErrors=t.payload},setLegalEntityForm:(e,t)=>{e.legalEntityForm=t.payload},setLegalEntityFormErrors:(e,t)=>{e.legalEntityFormErrors=t.payload},setLegalEntityFormEuCom:(e,t)=>{e.legalEntityFormEuCom=t.payload},setLegalEntityFormEuComErrors:(e,t)=>{e.legalEntityFormEuComErrors=t.payload},setVatTaxIdError:(e,t)=>{e.vatTaxIdError=t.payload}},extraReducers:{}});i=r.actions,t.setCardCheck=i.setCardCheck,t.setCheckFillCardNumber=i.setCheckFillCardNumber,t.setCheckFillCardExpiry=i.setCheckFillCardExpiry,t.setCheckFillCardCvv=i.setCheckFillCardCvv,t.setIsPaymentButtonPress=i.setIsPaymentButtonPress,t.setIsPaymentProcess=i.setIsPaymentProcess,t.setPrice=i.setPrice,t.setUsersCount=i.setUsersCount,t.setDurationView=i.setDurationView,t.setTariff=i.setTariff,t.setRadioValueTariffState=i.setRadioValueTariffState,t.setDiscounts=i.setDiscounts,t.setTypeOfPayer=i.setTypeOfPayer,t.setPaymentMethod=i.setPaymentMethod,t.setTariffActionType=i.setTariffActionType,t.setCardToken=i.setCardToken,t.setVatTaxStatus=i.setVatTaxStatus,t.setAutomaticSubscriptionRenewal=i.setAutomaticSubscriptionRenewal,t.setIndividualPersonForm=i.setIndividualPersonForm,t.setIndividualPersonFormErrors=i.setIndividualPersonFormErrors,t.setLegalEntityForm=i.setLegalEntityForm,t.setLegalEntityFormErrors=i.setLegalEntityFormErrors,t.setLegalEntityFormEuCom=i.setLegalEntityFormEuCom,t.setLegalEntityFormEuComErrors=i.setLegalEntityFormEuComErrors,t.setVatTaxIdError=i.setVatTaxIdError,t.default=r.reducer},995:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.removeTemplate=t.updateTemplate=t.createTemplate=t.fetchBasicTemplates=t.fetchTemplates=t.removeRequisite=t.updateRequisite=t.fetchRequisites=t.fetchProfile=void 0;const r=a(5184),s=a(4809);t.fetchProfile=(0,r.createAsyncThunk)("profile/fetchProfile",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getProfile()).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchRequisites=(0,r.createAsyncThunk)("crm/fetchRequisites",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getRequisites()).data}catch(e){return t.rejectWithValue(e)}})))),t.updateRequisite=(0,r.createAsyncThunk)("crm/updateRequisite",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.updateRequisite(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeRequisite=(0,r.createAsyncThunk)("crm/removeRequisite",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.removeRequisite(e),e}catch(e){return t.rejectWithValue(e)}})))),t.fetchTemplates=(0,r.createAsyncThunk)("crm/fetchTemplates",((e,t)=>i(void 0,void 0,void 0,(function*(){const{page:a,list:i}=e;try{return(yield s.uspacySdk.profileService.getTemplates(a,i)).data}catch(e){return t.rejectWithValue(e)}})))),t.fetchBasicTemplates=(0,r.createAsyncThunk)("crm/fetchBasicTemplates",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.getBasicTemplates()).data}catch(e){return t.rejectWithValue(e)}})))),t.createTemplate=(0,r.createAsyncThunk)("crm/createTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.createTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.updateTemplate=(0,r.createAsyncThunk)("crm/updateTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.profileService.updateTemplate(e)).data}catch(e){return t.rejectWithValue(e)}})))),t.removeTemplate=(0,r.createAsyncThunk)("crm/removeTemplate",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.profileService.removeTemplate(e),e}catch(e){return t.rejectWithValue(e)}}))))},5150:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.profileSlice=void 0;const i=a(5184),r=a(3925),s=a(995);t.profileSlice=(0,i.createSlice)({name:"profile",initialState:{loading:!0,loadingTemplates:{loadingCreateTemplates:!1,loadingReadTemplates:!1,loadingUpdateTemplates:!1,loadingDeleteTemplates:!1},loadingRequisites:{loadingCreateRequisites:!1,loadingReadRequisites:!1,loadingUpdateRequisites:!1,loadingDeleteRequisites:!1},errorLoading:null},reducers:{clearProfile(e){e.data=void 0},setLoading(e,t){e.loading=t.payload},addToRequisites(e,t){e.requisites=(0,r.checkBasicRequisite)([t.payload,...e.requisites],t.payload)},updateRequisites(e,t){e.requisites=(0,r.checkBasicRequisite)(e.requisites,t.payload)}},extraReducers:{[s.fetchProfile.fulfilled.type]:(e,t)=>{e.loading=!1,e.data=t.payload,e.currentRequestId=void 0},[s.fetchProfile.pending.type]:(e,t)=>{e.loading=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.fetchProfile.rejected.type]:(e,t)=>{e.loading=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.fetchRequisites.fulfilled.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!1,e.requisites=t.payload.data,e.currentRequestId=void 0},[s.fetchRequisites.pending.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.fetchRequisites.rejected.type]:(e,t)=>{e.loadingRequisites.loadingReadRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.updateRequisite.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingRequisites.loadingUpdateRequisites=!1,e.requisites=e.requisites.map((e=>e.id===a.id?Object.assign(Object.assign({},e),{is_basic:!0}):Object.assign(Object.assign({},e),{is_basic:!1}))),e.currentRequestId=void 0},[s.updateRequisite.pending.type]:(e,t)=>{e.loadingRequisites.loadingUpdateRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.updateRequisite.rejected.type]:(e,t)=>{e.loadingRequisites.loadingUpdateRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.removeRequisite.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingRequisites.loadingDeleteRequisites=!1,e.requisites=e.requisites.filter((e=>e.id!==a)),e.currentRequestId=void 0},[s.removeRequisite.pending.type]:(e,t)=>{e.loadingRequisites.loadingDeleteRequisites=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.removeRequisite.rejected.type]:(e,t)=>{e.loadingRequisites.loadingDeleteRequisites=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.fetchTemplates.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.templates=t.payload.data,e.currentRequestId=void 0},[s.fetchTemplates.pending.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.fetchTemplates.rejected.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.fetchBasicTemplates.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.basicTemplates=t.payload,e.currentRequestId=void 0},[s.fetchBasicTemplates.pending.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.fetchBasicTemplates.rejected.type]:(e,t)=>{e.loadingTemplates.loadingReadTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.createTemplate.fulfilled.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!1,e.templates=[t.payload,...e.templates],e.currentRequestId=void 0},[s.createTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.createTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingCreateTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.updateTemplate.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingTemplates.loadingUpdateTemplates=!1,e.templates=e.templates.map((e=>e.id===a.id?Object.assign({},t.payload):e)),e.currentRequestId=void 0},[s.updateTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingUpdateTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.updateTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingUpdateTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0},[s.removeTemplate.fulfilled.type]:(e,t)=>{const a=t.payload;e.loadingTemplates.loadingDeleteTemplates=!1,e.templates=e.templates.filter((e=>e.id!==a)),e.currentRequestId=void 0},[s.removeTemplate.pending.type]:(e,t)=>{e.loadingTemplates.loadingDeleteTemplates=!0,e.errorLoading=null,e.currentRequestId=t.meta.requestId},[s.removeTemplate.rejected.type]:(e,t)=>{e.loadingTemplates.loadingDeleteTemplates=!1,e.errorLoading=t.payload,e.currentRequestId=void 0}}}),t.default=t.profileSlice.reducer},1464:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StoreProvider=t.store=void 0;const i=a(997),r=a(6022),s=a(8527);t.store=(0,s.setupStore)(),t.StoreProvider=({children:e})=>(0,i.jsx)(r.Provider,{store:t.store,children:e})},8091:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateRolePermisionsFunnels=t.getPermissionsFunnels=t.deleteRole=t.createRole=t.updateRole=t.fetchRole=t.fetchPermissions=t.fetchRoles=void 0;const r=a(5184),s=a(4809);t.fetchRoles=(0,r.createAsyncThunk)("roles/fetchRoles",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getRoles()).data}catch(e){return t(e)}})))),t.fetchPermissions=(0,r.createAsyncThunk)("roles/fetchPermissions",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getPermissions()).data}catch(e){return t(e)}})))),t.fetchRole=(0,r.createAsyncThunk)("roles/fetchRole",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getRole(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateRole=(0,r.createAsyncThunk)("roles/updateRole",(({id:e,title:t,usersIds:a,departmentList:r,permissions:n},d)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.updateRole({id:e,title:t,usersIds:a,departmentList:r,permissions:n})).data}catch(e){return d.rejectWithValue(e)}})))),t.createRole=(0,r.createAsyncThunk)("roles/createRole",(({title:e,permissions:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.createRole({title:e,permissions:t})).data}catch(e){return a.rejectWithValue(e)}})))),t.deleteRole=(0,r.createAsyncThunk)("roles/deleteRole",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.rolesService.deleteRole(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.getPermissionsFunnels=(0,r.createAsyncThunk)("roles/getPermissionsFunnels",(({role:e=""},t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.getPermissionsFunnels(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateRolePermisionsFunnels=(0,r.createAsyncThunk)("roles/updateRolePermisionsFunnels",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.rolesService.updateRolePermisionsFunnels(e)).data}catch(e){return t.rejectWithValue("Failure")}}))))},1769:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.idsForDisableDeleting=void 0,function(e){e.employeeRole="Employee",e.headOfTheSalesDepartment="Head of the sales department",e.HR="HR",e.head="Head",e.noAccessRole="No Access"}(a||(t.idsForDisableDeleting=a={}))},8980:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearPermissionsFunnels=t.mergeCreatePermissions=t.addPermissionsForColAction=t.allowAllPermissions=t.setActiveModalType=t.updatePermission=t.setActiveRole=t.resetTable=t.resetCounter=t.addUserFromTable=t.selectedRole=t.getNextVal=void 0;const r=a(5184),s=a(1066),n=a(8091),d=a(1769),o=a(9451),l={roles:[],loadingRoles:!1,permissions:{create:[],edit:[],view:[],delete:[]},createPermissions:{create:[...s.disabledPermissions.create],edit:[...s.disabledPermissions.edit],view:[...s.disabledPermissions.view],delete:[...s.disabledPermissions.delete]},createPermissionsModal:{create:[],edit:[],view:[],delete:[]},modalActiveType:"",permissionsControllerView:o.PermissionsControllerViewEnums,filterCounter:0,errorLoadingRoles:null,roleData:{},activeRole:null,permissionsFunnels:{}},c=(0,r.createSlice)({name:"rolesReducer",initialState:l,reducers:{getNextVal(e,t){var a,i;const{tabName:s,categoryName:n,colName:d,targetVal:o,storeKey:l,currPickPermission:c}=t.payload,u="view"===d?"edit":"delete",p=(0,r.current)(e[l][u]),y=null===(i=null===(a=p.find((e=>e.split(".").splice(0,3).join(".")===`${s}.${n}.${u}`&&!e.includes("disabled"))))||void 0===a?void 0:a.split("."))||void 0===i?void 0:i.splice(-1)[0],g=p.filter((e=>e.split(".").splice(0,3).join(".")!==`${s}.${n}.${u}`));switch(d){case"view":case"edit":switch(o){case"mine":case"disabled":return void("allowed"!==y&&"mine"!==y||(e[l][u]=[...g,`${s}.${n}.${u}.${o}`,..."view"===d&&c?[c]:[]]));default:return}default:return}},selectedRole(e,t){e.roleData=t.payload,""===e.activeRole&&(e.roleData.name="",e.roleData.userList=[])},addUserFromTable(e,t){e.roles=e.roles.filter((e=>e.title===t.payload.roleName&&e.userList.map((e=>e.id))!=t.payload.user.id?e.userList.push(t.payload.user):e))},resetCounter(e){e.filterCounter=0,e.activeRole=""},resetTable(e,t){e[t.payload.permissionsType]={create:[],edit:[],view:[],delete:[]}},setActiveRole(e,t){e.activeRole===t.payload?(e.activeRole="",e.filterCounter=0):(e.activeRole=t.payload,e.filterCounter=1)},updatePermission(e,t){const a=e[t.payload.permissionsType][t.payload.key],i=t.payload.value.split(".").slice(0,-1).join("."),r=t.payload.value.split(".").pop(),s=a.filter((e=>{if(e.split(".").slice(0,-1).join(".")!==i)return e}));e[t.payload.permissionsType][t.payload.key]=[...s,"disabled"===r?"":t.payload.value].filter((e=>""!==e))},setActiveModalType(e,t){e.modalActiveType=t.payload},allowAllPermissions(e,t){const a=t.payload.type,i={create:[],edit:[],view:[],delete:[]};Object.keys(e.permissions).forEach((t=>{i[t]=[...i[t],e.permissions[t].filter((e=>"disabled-any"===e.split(".").pop()))]})),i.create=[...i.create,t.payload.currPermission.create].flat(),i.view=[...i.view,t.payload.currPermission.view].flat(),i.edit=[...i.edit,t.payload.currPermission.edit].flat(),i.delete=[...i.delete,t.payload.currPermission.delete].flat(),"create"===a?e.createPermissions=i:e.permissions=i},addPermissionsForColAction(e,t){const{categoryName:a,permissionsType:i,permissionKey:r,isFunnel:s,actionType:n}=t.payload,d="create"===i?e.createPermissions:e.permissions,o={create:[...d.create],edit:[...d.edit],view:[...d.view],delete:[...d.delete]},l=(e,t,...a)=>e.filter((e=>!e.includes(t))).concat(a);s?(o[n]=l(o[n],a,`${a}.${n}.${r}`),"create"===n&&(o.create=l(o.create,a,`${a}.create.mine.disabled-any`,`${a}.create.${r}`)),"view"===n&&("allowed"===r&&(o.view=l(o.view,a,`${a}.view.${r}`)),"disabled"===r&&(o.edit=l(o.edit,a,`${a}.edit.disabled-any`),o.delete=l(o.delete,a,`${a}.delete.disabled-any`)),"mine"===r&&(o.edit=l(o.edit,a,`${a}.${n}.${r}`),o.delete=l(o.delete,a,`${a}.${n}.${r}`))),"edit"===n&&(o.delete="disabled"===r?o.delete.filter((e=>!e.includes(a))).concat(`${a}.delete.disabled-any`):o.delete.filter((e=>!e.includes(a))).concat(`${a}.${n}.${r}`))):("crm.uspacy_calls"!==a&&(o.create=[...d.create.filter((e=>!e.includes(a))),`${a}.create.mine.disabled-any`,`${a}.create.${r}`].filter((e=>e!==`${a}.create.mine`)),o.delete=[...d.delete.filter((e=>!e.includes(a))),`${a}.delete.${r}`]),o.edit=[...d.edit.filter((e=>!e.includes(a))),`${a}.edit.${r}`],o.view=[...d.view.filter((e=>!e.includes(a))),`${a}.view.${r}`]),"create"===i?e.createPermissions=o:e.permissions=o},mergeCreatePermissions(e,t){const a={create:[...e[t.payload.key].create,...t.payload.universal.create],edit:[...e[t.payload.key].edit,...t.payload.universal.edit],view:[...e[t.payload.key].view,...t.payload.universal.view],delete:[...e[t.payload.key].delete,...t.payload.universal.delete]};e[t.payload.key]=a},clearPermissionsFunnels(e){e.permissionsFunnels=l.permissionsFunnels}},extraReducers:{[n.fetchPermissions.fulfilled.type]:(e,t)=>{e.permissions=t.payload},[n.fetchPermissions.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.fetchPermissions.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.fetchRoles.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null;const a=t.payload,i=a.findIndex((e=>"Head"===e.code));if(-1!==i){const e=a.splice(i,1)[0];a.splice(1,0,e)}e.roles=a.filter((e=>e.code!==d.idsForDisableDeleting.noAccessRole)),e.permissions={create:[],edit:[],view:[],delete:[]}},[n.fetchRoles.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.fetchRoles.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.createRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=[...e.roles,t.payload]},[n.createRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.createRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.updateRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=e.roles.map((e=>e.id===t.payload.id?t.payload:e))},[n.updateRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.updateRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.deleteRole.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.roles=e.roles.filter((e=>e.id!==t.payload))},[n.deleteRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.deleteRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.fetchRole.fulfilled.type]:(e,t)=>{const a=e=>e||[];e.loadingRoles=!1,e.permissions={create:[...s.disabledPermissions.create,...a(t.payload.permissions.create)],edit:[...s.disabledPermissions.edit,...a(t.payload.permissions.edit)],view:[...s.disabledPermissions.view,...a(t.payload.permissions.view)],delete:[...s.disabledPermissions.delete,...a(t.payload.permissions.delete)]}},[n.fetchRole.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.fetchRole.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.getPermissionsFunnels.fulfilled.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=null,e.permissionsFunnels=t.payload},[n.getPermissionsFunnels.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.getPermissionsFunnels.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload},[n.updateRolePermisionsFunnels.fulfilled.type]:(e,t)=>{e.permissionsFunnels=t.payload,e.loadingRoles=!1,e.errorLoadingRoles=null},[n.updateRolePermisionsFunnels.pending.type]:e=>{e.loadingRoles=!0,e.errorLoadingRoles=null},[n.updateRolePermisionsFunnels.rejected.type]:(e,t)=>{e.loadingRoles=!1,e.errorLoadingRoles=t.payload}}});i=c.actions,t.getNextVal=i.getNextVal,t.selectedRole=i.selectedRole,t.addUserFromTable=i.addUserFromTable,t.resetCounter=i.resetCounter,t.resetTable=i.resetTable,t.setActiveRole=i.setActiveRole,t.updatePermission=i.updatePermission,t.setActiveModalType=i.setActiveModalType,t.allowAllPermissions=i.allowAllPermissions,t.addPermissionsForColAction=i.addPermissionsForColAction,t.mergeCreatePermissions=i.mergeCreatePermissions,t.clearPermissionsFunnels=i.clearPermissionsFunnels,t.default=c.reducer},9451:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsControllerViewEnums=void 0,t.PermissionsControllerViewEnums=[{keyCategory:"CRM",key:"crm",subMenuList:[{id:1,name:"leads",key:"leads"},{id:2,name:"contacts",key:"contacts"},{id:3,name:"companies",key:"companies"},{id:4,name:"deals",key:"deals"},{id:5,name:"activity",key:"activity"},{id:6,name:"call",key:"uspacy_calls"}]},{keyCategory:"hrm",key:"hrm",subMenuList:[{id:1,name:"employees",key:"employee"},{id:2,name:"Department",key:"department"}]}]},3537:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchSettings=t.selectTotalSettings=void 0;const r=a(5184),s=a(4809),n=a(3970);t.selectTotalSettings=(e,t)=>{const a={};return Object.keys(Object.assign(Object.assign({},t),e)).forEach((i=>{const r=e[i],s=t[i];return r&&Boolean(r)?a[i]=r:a[i]=s})),a},t.fetchSettings=(0,r.createAsyncThunk)("settings/fetchSettings",((e,a)=>i(void 0,void 0,void 0,(function*(){try{const e=yield s.uspacySdk.tokensService.getDomain(),{data:a}=yield s.uspacySdk.httpClient.client.get(`${n.API_PREFIX_SETTINGS}/settings/general?domain=${e}`),{data:i}=yield s.uspacySdk.profileService.getPortalSettings(),r=(null==a?void 0:a.themeCustomization)?i:Object.assign(Object.assign({},i),{themeAccentColor:null==a?void 0:a.themeAccentColor,themeName:null==a?void 0:a.themeName,themeDecor:null==a?void 0:a.themeDecor});return(0,t.selectTotalSettings)(r,a)}catch(e){return a.rejectWithValue("Failure")}}))))},2587:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setDateLocale=t.setUserSettings=void 0;const r=a(5184),s=a(3537),n=(0,r.createSlice)({name:"settingsReducer",initialState:{},reducers:{setUserSettings:(e,t)=>{e.data=t.payload},setDateLocale:(e,t)=>{e.dateLocale=t.payload}},extraReducers:{[s.fetchSettings.fulfilled.type]:(e,t)=>{e.loading=!1,e.error=null,e.data=t.payload},[s.fetchSettings.pending.type]:e=>{e.loading=!0,e.error=null},[s.fetchSettings.rejected.type]:(e,t)=>{e.loading=!1,e.error=t.payload}}});i=n.actions,t.setUserSettings=i.setUserSettings,t.setDateLocale=i.setDateLocale,t.default=n.reducer},7567:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchTaskFields=t.restartTask=t.massCompletion=t.completeTask=t.unwatchTask=t.watchTask=t.pauseTask=t.startTask=t.massTasksDeletion=t.deleteTask=t.massTasksEditing=t.delegationTask=t.updateSubtask=t.updateOneTimeTemplate=t.updateRecurringTemplate=t.updateTask=t.replicateTask=t.createOneTimeTemplate=t.createRecurringTemplate=t.createTask=t.getParentTask=t.getRecurringTemplate=t.getTask=t.getSubtasks=t.getHierarchies=t.getOneTimeTemplates=t.getRecurringTemplates=t.getTasks=void 0;const r=a(5184),s=a(4809);t.getTasks=(0,r.createAsyncThunk)("tasks/getTasks",(({params:e,withoutResponsible:t,signal:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasks(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:r.rejectWithValue(e)}})))),t.getRecurringTemplates=(0,r.createAsyncThunk)("tasks/getRecurringTemplates",(({params:e,withoutResponsible:t,signal:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getRecurringTemplates(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:r.rejectWithValue(e)}})))),t.getOneTimeTemplates=(0,r.createAsyncThunk)("tasks/getOneTimeTemplates",(({params:e,withoutResponsible:t,signal:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getOneTimeTemplates(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:r.rejectWithValue(e)}})))),t.getHierarchies=(0,r.createAsyncThunk)("tasks/getHierarchies",(({params:e,withoutResponsible:t,signal:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getHierarchies(e,t,a)).data}catch(e){return a.aborted?{aborted:!0}:r.rejectWithValue(e)}})))),t.getSubtasks=(0,r.createAsyncThunk)("tasks/getSubtasks",(({id:e,page:t,list:a,isTemplate:r=!1},{rejectWithValue:n})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getSubtasks(e,t,a,r)).data}catch(e){return n(e)}})))),t.getTask=(0,r.createAsyncThunk)("tasks/getTask",(({id:e,crm_entity_list:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTask(e,t)).data}catch(e){return a(e)}})))),t.getRecurringTemplate=(0,r.createAsyncThunk)("tasks/getRecurringTemplate",(({id:e,crm_entity_list:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getRecurringTemplate(e,t)).data}catch(e){return a(e)}})))),t.getParentTask=(0,r.createAsyncThunk)("tasks/getParentTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getParentTask(e)).data}catch(e){return t(e)}})))),t.createTask=(0,r.createAsyncThunk)("tasks/createTask",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createTask(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.createRecurringTemplate=(0,r.createAsyncThunk)("tasks/createRecurringTemplate",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createRecurringTemplate(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.createOneTimeTemplate=(0,r.createAsyncThunk)("tasks/createOneTimeTemplate",(({data:e,abilityToAddTask:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.createOneTimeTemplate(e)).data,abilityToAddTask:t}}catch(e){return a(e)}})))),t.replicateTask=(0,r.createAsyncThunk)("tasks/replicateTask",(({data:e,abilityToAddTask:t,id:a},{rejectWithValue:r})=>i(void 0,void 0,void 0,(function*(){try{return{task:(yield s.uspacySdk.tasksService.replicateTask(e,a)).data,abilityToAddTask:t}}catch(e){return r(e)}})))),t.updateTask=(0,r.createAsyncThunk)("tasks/updateTask",(({id:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateTask(e,t)).data}catch(e){return a(e)}})))),t.updateRecurringTemplate=(0,r.createAsyncThunk)("tasks/updateRecurringTemplate",(({id:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateRecurringTemplate(e,t)).data}catch(e){return a(e)}})))),t.updateOneTimeTemplate=(0,r.createAsyncThunk)("tasks/updateOneTimeTemplate",(({id:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateOneTimeTemplate(e,t)).data}catch(e){return a(e)}})))),t.updateSubtask=(0,r.createAsyncThunk)("tasks/updateSubtask",(({id:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateSubtask(e,t)).data}catch(e){return a(e)}})))),t.delegationTask=(0,r.createAsyncThunk)("tasks/delegationTask",(({id:e,user_id:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.delegationTask(e,t)).data}catch(e){return a(e)}})))),t.massTasksEditing=(0,r.createAsyncThunk)("tasks/massTasksEditing",(({taskIds:e,exceptIds:t,all:a,params:r,withoutResponsible:n,payload:d,settings:o,profile:l,admin:c},{rejectWithValue:u})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massEditingTasks(e,t,a,r,n,d,o),{taskIds:e,exceptIds:t,all:a,payload:d,settings:o,profile:l,admin:c}}catch(e){return u(e)}})))),t.deleteTask=(0,r.createAsyncThunk)("tasks/deleteTask",(({id:e,type:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.deleteTask(e),{id:e,type:t}}catch(e){return a(e)}})))),t.massTasksDeletion=(0,r.createAsyncThunk)("tasks/massTasksDeletion",(({taskIds:e,exceptIds:t,all:a,params:r,withoutResponsible:n,profile:d,admin:o},{rejectWithValue:l})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massDeletionTasks(e,t,a,r,n),{taskIds:e,exceptIds:t,all:a,profile:d,admin:o}}catch(e){return l(e)}})))),t.startTask=(0,r.createAsyncThunk)("tasks/startTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.startTask(e)).data}catch(e){return t(e)}})))),t.pauseTask=(0,r.createAsyncThunk)("tasks/pauseTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.pauseTask(e)).data}catch(e){return t(e)}})))),t.watchTask=(0,r.createAsyncThunk)("tasks/watchTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.watchTask(e)).data}catch(e){return t(e)}})))),t.unwatchTask=(0,r.createAsyncThunk)("tasks/unwatchTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.unwatchTask(e)).data}catch(e){return t(e)}})))),t.completeTask=(0,r.createAsyncThunk)("tasks/completeTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.completeTask(e)).data}catch(e){return t(e)}})))),t.massCompletion=(0,r.createAsyncThunk)("tasks/massCompletion",(({taskIds:e,exceptIds:t,all:a,params:r,withoutResponsible:n,profile:d},{rejectWithValue:o})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.massCompletionTasks(e,t,a,r,n),{taskIds:e,exceptIds:t,all:a,profile:d}}catch(e){return o(e)}})))),t.restartTask=(0,r.createAsyncThunk)("tasks/restartTask",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.restartTask(e)).data}catch(e){return t(e)}})))),t.fetchTaskFields=(0,r.createAsyncThunk)("tasks/fetchTaskFields",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasksField()).data}catch(e){return t(e)}}))))},9935:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setTasksServiceType=t.changeTasksCardViewMode=t.setAnEditMode=t.setDeleteAllFromKanban=t.setTotalTasks=t.setIsRegularSection=t.setStatus=t.setIsHierarchy=t.setIsTable=t.setIsKanban=t.removeTaskFromNPositionTable=t.setIsTaskFromTemplate=t.setIsCopyingTask=t.setIsSubtasks=t.clearTasks=t.clearPopupLink=t.addPopupLink=t.removeTaskFromEndTable=t.addTasksToEndTable=t.addTaskToEndTable=t.changeItemsFilterRegularTasks=t.changeItemsFilterTasks=t.clearRegularFilter=t.clearFilter=t.changeRegularFilter=t.changeFilter=t.deleteTaskReducer=t.clearDeleteTaskId=t.clearChangeTask=t.clearAddedToKanbanTaskReducer=t.clearAddedTaskReducer=t.clearSubstasks=t.setAllSubtasks=t.editSubTask=t.setTaskFromTemplate=t.setParentTask=t.setTemplate=t.setTask=t.setTasks=void 0;const r=a(5184),s=a(5398),n=a(7567),d={tasks:{data:[],meta:{},aborted:!1},subtasks:{data:[],meta:{},aborted:!1},allSubtasks:[],task:{},recurringTemplate:{},parentTask:{},taskFromTemplate:{},addedTask:{},addedToKanbanTask:{},changeTask:{},changeTasks:[],deleteTaskId:null,deleteTaskIds:[],deleteAllFromKanban:!1,filters:{page:0,perPage:0,status:[],time_label_deadline:[],time_label_closed_date:[],time_label_created_date:[],certainDateOrPeriod_deadline:[],certainDateOrPeriod_closed_date:[],certainDateOrPeriod_created_date:[],priority:[],createdBy:[],closed_by:[],closed_date:[],group_id:[],parent_id:[],created_date:[],responsible:[],deadline:[],accomplices_ids:[],auditors_ids:[],accept_result:[],time_tracking:[],sortModel:[],openCalendar:!1,search:"",boolean_operator:"XOR",time_label:[],accomplices:[],auditors:[]},regularFilter:{page:0,perPage:0,status:[],time_label_created_date:[],certainDateOrPeriod_created_date:[],priority:[],createdBy:[],closed_by:[],group_id:[],parent_id:[],created_date:[],responsible:[],accomplices_ids:[],auditors_ids:[],accept_result:[],time_tracking:[],sortModel:[],openCalendar:!1,search:"",boolean_operator:"XOR",accomplices:[],auditors:[]},taskFields:{},loadingTasks:!0,loadingSubtasks:!0,loadingTask:!1,loadingRecurringTemplate:!1,loadingParentTask:!1,loadingCreatingTask:!1,loadingUpdatingTask:!1,loadingDeletingTask:!1,loadingStatusesTask:!1,loadingTaskFields:!1,errorLoadingTasks:null,errorLoadingSubtasks:null,errorLoadingTask:null,errorLoadingRecurringTemplate:null,errorLoadingParentTask:null,errorLoadingCreatingTask:null,errorLoadingUpdatingTask:null,errorLoadingDeletingTask:null,errorLoadingStatusesTask:null,errorLoadingTaskFields:null,meta:{currentPage:0,perPage:20,total:0},popupLinks:[],isSubtasks:!1,isCopyingTask:!1,isTaskFromTemplate:!1,isKanban:!1,isTable:!1,isHierarchy:!1,isEditMode:!1,taskStatus:"",isRegularSection:!1,tasksCardPermissions:{type:"task",mode:"view"},tasksServiceType:"task"},o=(0,r.createSlice)({name:"tasksReducer",initialState:d,reducers:{setTasks:(e,t)=>{e.tasks=t.payload},setTask:(e,t)=>{e.task=t.payload},setTemplate:(e,t)=>{e.recurringTemplate=t.payload},setParentTask:(e,t)=>{e.parentTask=t.payload},setTaskFromTemplate:(e,t)=>{e.taskFromTemplate=t.payload},editSubTask:(e,t)=>{e.allSubtasks=e.allSubtasks.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e})),e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},deleteTaskReducer:(e,t)=>{e.tasks.data=e.tasks.data.filter((e=>(null==e?void 0:e.id)!==String(null==t?void 0:t.payload)))},changeFilter:(e,t)=>{e.filters[t.payload.key]=t.payload.value},changeRegularFilter:(e,t)=>{e.regularFilter[t.payload.key]=t.payload.value},changeItemsFilterTasks:(e,t)=>{e.filters=t.payload},changeItemsFilterRegularTasks:(e,t)=>{e.regularFilter=t.payload},setAllSubtasks:(e,t)=>{e.allSubtasks=t.payload},clearSubstasks:e=>{e.allSubtasks=[],e.subtasks=d.subtasks},clearAddedTaskReducer:e=>{e.addedTask=d.addedTask},clearAddedToKanbanTaskReducer:e=>{e.addedToKanbanTask=d.addedToKanbanTask},clearChangeTask:e=>{e.changeTask=d.changeTask},clearDeleteTaskId:e=>{e.deleteTaskId=null},clearFilter:e=>{e.filters=Object.assign({},d.filters),e.filters.page=1,e.filters.perPage=20},clearRegularFilter:e=>{e.regularFilter=Object.assign({},d.regularFilter),e.regularFilter.page=1,e.regularFilter.perPage=20},addTaskToEndTable:(e,t)=>{e.tasks.data.push(t.payload)},addTasksToEndTable:(e,t)=>{e.tasks.data=e.tasks.data.concat(t.payload.data)},removeTaskFromEndTable:e=>{e.isTable&&(e.meta.total>=e.meta.perPage||e.meta.currentPage!==e.meta.lastPage)&&e.tasks.data.splice(-1)},removeTaskFromNPositionTable:(e,t)=>{e.isTable&&(e.tasks.data=e.tasks.data.filter((e=>(null==e?void 0:e.id)!==String(null==t?void 0:t.payload))),e.meta.total=e.meta.total-1)},addPopupLink:(e,t)=>{e.popupLinks.push(t.payload)},clearPopupLink:e=>{e.popupLinks=[]},clearTasks:e=>{e.tasks.data=[],e.loadingTasks=!0},setIsSubtasks:(e,t)=>{e.isSubtasks=t.payload},setIsCopyingTask:(e,t)=>{e.isCopyingTask=t.payload},setIsTaskFromTemplate:(e,t)=>{e.isTaskFromTemplate=t.payload},setIsKanban:(e,t)=>{e.isKanban=t.payload},setIsTable:(e,t)=>{e.isTable=t.payload},setIsHierarchy:(e,t)=>{e.isHierarchy=t.payload},setStatus:(e,t)=>{e.taskStatus=t.payload},setIsRegularSection:(e,t)=>{e.isRegularSection=t.payload},setTotalTasks:(e,t)=>{e.meta.total=t.payload},setDeleteAllFromKanban:(e,t)=>{e.deleteAllFromKanban=t.payload},setAnEditMode:(e,t)=>{e.isEditMode=t.payload},changeTasksCardViewMode:(e,t)=>{e.tasksCardPermissions=t.payload},setTasksServiceType:(e,t)=>{e.tasksServiceType=t.payload}},extraReducers:{[n.getTasks.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.isTable&&(e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta)},[n.getTasks.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[n.getTasks.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[n.getRecurringTemplates.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta},[n.getRecurringTemplates.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[n.getRecurringTemplates.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[n.getOneTimeTemplates.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta},[n.getOneTimeTemplates.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[n.getOneTimeTemplates.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[n.getHierarchies.fulfilled.type]:(e,t)=>{e.loadingTasks=t.payload.aborted,e.errorLoadingTasks=null,e.isHierarchy&&(e.tasks=t.payload.aborted?e.tasks:t.payload,e.meta=t.payload.aborted?e.meta:t.payload.meta)},[n.getHierarchies.pending.type]:e=>{e.loadingTasks=!0,e.errorLoadingTasks=null},[n.getHierarchies.rejected.type]:(e,t)=>{e.loadingTasks=!1,e.errorLoadingTasks=t.payload},[n.getSubtasks.fulfilled.type]:(e,t)=>{e.loadingSubtasks=!1,e.errorLoadingSubtasks=null,e.subtasks=t.payload,e.allSubtasks=[...e.allSubtasks,...t.payload.data]},[n.getSubtasks.pending.type]:e=>{e.loadingSubtasks=!0,e.errorLoadingSubtasks=null},[n.getSubtasks.rejected.type]:(e,t)=>{e.loadingSubtasks=!1,e.errorLoadingSubtasks=t.payload},[n.getTask.fulfilled.type]:(e,t)=>{e.loadingTask=!1,e.errorLoadingTask=null,e.task=t.payload},[n.getTask.pending.type]:e=>{e.loadingTask=!0,e.errorLoadingTask=null},[n.getTask.rejected.type]:(e,t)=>{e.loadingTask=!1,e.errorLoadingTask=t.payload},[n.getRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingRecurringTemplate=!1,e.errorLoadingRecurringTemplate=null,e.recurringTemplate=t.payload},[n.getRecurringTemplate.pending.type]:e=>{e.loadingRecurringTemplate=!0,e.errorLoadingRecurringTemplate=null},[n.getRecurringTemplate.rejected.type]:(e,t)=>{e.loadingRecurringTemplate=!1,e.errorLoadingRecurringTemplate=t.payload},[n.getParentTask.fulfilled.type]:(e,t)=>{e.loadingTask=!1,e.loadingParentTask=null,e.parentTask=t.payload},[n.getParentTask.pending.type]:e=>{e.loadingParentTask=!0,e.errorLoadingParentTask=null},[n.getParentTask.rejected.type]:(e,t)=>{e.loadingParentTask=!1,e.errorLoadingParentTask=t.payload},[n.createTask.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.meta.total=e.meta.total+1),e.isTable&&!e.isHierarchy&&e.tasks.data.unshift(t.payload.task),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[n.createTask.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[n.createTask.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[n.createRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.tasks.data.unshift(t.payload.task),e.meta.total=e.meta.total+1),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[n.createRecurringTemplate.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[n.createRecurringTemplate.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[n.createOneTimeTemplate.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.tasks.data.unshift(t.payload.task),e.meta.total=e.meta.total+1),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[n.createOneTimeTemplate.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[n.createOneTimeTemplate.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[n.replicateTask.fulfilled.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=null,t.payload.abilityToAddTask&&(e.isTable&&(e.meta.total=e.meta.total+1),e.isTable&&e.tasks.data.unshift(t.payload.task),e.isKanban&&(e.addedToKanbanTask=t.payload.task)),e.isSubtasks&&!e.isCopyingTask&&(e.allSubtasks.unshift(t.payload.task),e.subtasks.meta.total=e.subtasks.meta.total+1),e.addedTask=t.payload.task},[n.replicateTask.pending.type]:e=>{e.loadingCreatingTask=!0,e.errorLoadingCreatingTask=null},[n.replicateTask.rejected.type]:(e,t)=>{e.loadingCreatingTask=!1,e.errorLoadingCreatingTask=t.payload},[n.updateTask.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[n.updateTask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.updateTask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.updateRecurringTemplate.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload)},[n.updateRecurringTemplate.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.updateRecurringTemplate.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.updateOneTimeTemplate.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload)},[n.updateOneTimeTemplate.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.updateOneTimeTemplate.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.updateSubtask.fulfilled.type]:e=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null},[n.updateSubtask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.updateSubtask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.delegationTask.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>{var a;return(null==e?void 0:e.id)===(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)?t.payload:e}))),e.task.id&&(e.task=t.payload),e.isKanban&&(e.changeTask=null==t?void 0:t.payload)},[n.delegationTask.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.delegationTask.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.massTasksEditing.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null;const a=t.payload.admin;e.tasks.data=e.tasks.data.map((i=>{const r=(null==i?void 0:i.setterId)===String(t.payload.profile.id),n=a||r;if(t.payload.taskIds.includes(null==i?void 0:i.id)&&n){const a=Object.assign({},i);for(const e in t.payload.payload)t.payload.payload.hasOwnProperty(e)&&t.payload.settings[e]?Array.isArray(t.payload.payload[e])?a[e]=Array.from(new Set([...a[e],...t.payload.payload[e]])):a[e]=(0,s.fillTheString)(a[e],t.payload.payload[e],t.payload.settings[e].position):"deadline"!==e||"scheduled"!==a.status||t.payload.payload[e]?"deadline"===e&&"notScheduled"===a.status&&t.payload.payload[e]>0?(a.status="scheduled",a[e]=t.payload.payload[e]):a[e]=t.payload.payload[e]:(a.status="notScheduled",a[e]=t.payload.payload[e]);return e.isKanban&&e.changeTasks.push(a),a}return i}))},[n.massTasksEditing.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.massTasksEditing.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.deleteTask.fulfilled.type]:(e,t)=>{var a;e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=null,(e.isKanban||e.isHierarchy)&&(e.deleteTaskId=+(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)),e.isTable&&(e.meta.total=e.meta.total-1),e.isTable&&e.tasksServiceType===t.payload.type&&(e.tasks.data=e.tasks.data.filter((e=>{var a;return(null==e?void 0:e.id)!==String(null===(a=null==t?void 0:t.payload)||void 0===a?void 0:a.id)})))},[n.deleteTask.pending.type]:e=>{e.loadingDeletingTask=!0,e.errorLoadingDeletingTask=null},[n.deleteTask.rejected.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=t.payload},[n.massTasksDeletion.fulfilled.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=null;const a=t.payload.admin;e.isTable&&(e.tasks.data=e.tasks.data.filter((i=>{var r,s;const n=(null==i?void 0:i.setterId)===String(t.payload.profile.id),d=a||n;return e.isKanban&&d&&(e.deleteTaskIds=null===(s=null===(r=null==t?void 0:t.payload)||void 0===r?void 0:r.taskIds)||void 0===s?void 0:s.map((e=>e)),t.payload.all&&(e.deleteAllFromKanban=!0)),t.payload.all&&d?e.meta.total=0:t.payload.all&&d&&t.payload.exceptIds.length?e.meta.total=t.payload.exceptIds.length:e.meta.total=e.meta.total-t.payload.taskIds.length,d&&!t.payload.taskIds.includes(null==i?void 0:i.id)})))},[n.massTasksDeletion.pending.type]:e=>{e.loadingDeletingTask=!0,e.errorLoadingDeletingTask=null},[n.massTasksDeletion.rejected.type]:(e,t)=>{e.loadingDeletingTask=!1,e.errorLoadingDeletingTask=t.payload},[n.startTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[n.startTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[n.startTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[n.pauseTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[n.pauseTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[n.pauseTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[n.completeTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[n.completeTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[n.completeTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[n.massCompletion.fulfilled.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=null,e.tasks.data=e.tasks.data.map((a=>{var i,r,s;const n=(null==a?void 0:a.responsibleId)===String(null===(i=t.payload.profile)||void 0===i?void 0:i.id),d=(null==a?void 0:a.setterId)===String(t.payload.profile.id),o=null===(r=null==a?void 0:a.accomplicesIds)||void 0===r?void 0:r.includes(String(null===(s=t.payload.profile)||void 0===s?void 0:s.id)),l=n||d||o;return t.payload.taskIds.includes(null==a?void 0:a.id)&&l?(a.status=(null==a?void 0:a.acceptResult)&&!d?"inControl":"ready",e.isKanban&&e.changeTasks.push(a),a):a}))},[n.massCompletion.pending.type]:e=>{e.loadingUpdatingTask=!0,e.errorLoadingUpdatingTask=null},[n.massCompletion.rejected.type]:(e,t)=>{e.loadingUpdatingTask=!1,e.errorLoadingUpdatingTask=t.payload},[n.restartTask.fulfilled.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=null,e.taskStatus=t.payload.status,e.isTable&&(e.tasks.data=e.tasks.data.map((e=>e.id===t.payload.id?(e.status=t.payload.status,e):e))),(e.isKanban||e.isHierarchy)&&(e.changeTask=null==t?void 0:t.payload)},[n.restartTask.pending.type]:e=>{e.loadingStatusesTask=!0,e.errorLoadingStatusesTask=null},[n.restartTask.rejected.type]:(e,t)=>{e.loadingStatusesTask=!1,e.errorLoadingStatusesTask=t.payload},[n.fetchTaskFields.fulfilled.type]:(e,t)=>{e.loadingTaskFields=!1,e.errorLoadingTaskFields=null,e.taskFields=t.payload},[n.fetchTaskFields.pending.type]:e=>{e.loadingTaskFields=!0,e.errorLoadingTaskFields=null},[n.fetchTaskFields.rejected.type]:(e,t)=>{e.loadingTaskFields=!1,e.errorLoadingTaskFields=t.payload}}});i=o.actions,t.setTasks=i.setTasks,t.setTask=i.setTask,t.setTemplate=i.setTemplate,t.setParentTask=i.setParentTask,t.setTaskFromTemplate=i.setTaskFromTemplate,t.editSubTask=i.editSubTask,t.setAllSubtasks=i.setAllSubtasks,t.clearSubstasks=i.clearSubstasks,t.clearAddedTaskReducer=i.clearAddedTaskReducer,t.clearAddedToKanbanTaskReducer=i.clearAddedToKanbanTaskReducer,t.clearChangeTask=i.clearChangeTask,t.clearDeleteTaskId=i.clearDeleteTaskId,t.deleteTaskReducer=i.deleteTaskReducer,t.changeFilter=i.changeFilter,t.changeRegularFilter=i.changeRegularFilter,t.clearFilter=i.clearFilter,t.clearRegularFilter=i.clearRegularFilter,t.changeItemsFilterTasks=i.changeItemsFilterTasks,t.changeItemsFilterRegularTasks=i.changeItemsFilterRegularTasks,t.addTaskToEndTable=i.addTaskToEndTable,t.addTasksToEndTable=i.addTasksToEndTable,t.removeTaskFromEndTable=i.removeTaskFromEndTable,t.addPopupLink=i.addPopupLink,t.clearPopupLink=i.clearPopupLink,t.clearTasks=i.clearTasks,t.setIsSubtasks=i.setIsSubtasks,t.setIsCopyingTask=i.setIsCopyingTask,t.setIsTaskFromTemplate=i.setIsTaskFromTemplate,t.removeTaskFromNPositionTable=i.removeTaskFromNPositionTable,t.setIsKanban=i.setIsKanban,t.setIsTable=i.setIsTable,t.setIsHierarchy=i.setIsHierarchy,t.setStatus=i.setStatus,t.setIsRegularSection=i.setIsRegularSection,t.setTotalTasks=i.setTotalTasks,t.setDeleteAllFromKanban=i.setDeleteAllFromKanban,t.setAnEditMode=i.setAnEditMode,t.changeTasksCardViewMode=i.changeTasksCardViewMode,t.setTasksServiceType=i.setTasksServiceType,t.default=o.reducer},699:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFilterPreset=t.bulkUpdateFiltersPresets=t.updateFilterPreset=t.createFilterPreset=t.getFiltersPreset=t.getFiltersPresets=void 0;const r=a(5184),s=a(4809);t.getFiltersPresets=(0,r.createAsyncThunk)("tasksFilters/getFiltersPresets",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getFiltersPresets(e)).data}catch(e){return t(e)}})))),t.getFiltersPreset=(0,r.createAsyncThunk)("tasksFilters/getFiltersPreset",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getFiltersPreset(e)).data}catch(e){return t(e)}})))),t.createFilterPreset=(0,r.createAsyncThunk)("tasksFilters/createFilterPreset",(({body:e,type:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.createFilterPreset(e,t)).data}catch(e){return a(e)}})))),t.updateFilterPreset=(0,r.createAsyncThunk)("tasksFilters/updateFilterPreset",(({id:e,rev:t,body:a},{rejectWithValue:r})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.updateFilterPreset(e,t,a)).data}catch(e){return r(e)}})))),t.bulkUpdateFiltersPresets=(0,r.createAsyncThunk)("tasksFilters/bulkUpdateFiltersPresets",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{const t=yield s.uspacySdk.tasksService.bulkUpdateFiltersPresets(e);return null==t?void 0:t.data}catch(e){return t(e)}})))),t.deleteFilterPreset=(0,r.createAsyncThunk)("tasksFilters/deleteFilterPreset",(({id:e,rev:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksService.deleteFilterPreset(e,t)}catch(e){return a(e)}}))))},659:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.setPresets=t.setIsNewPreset=void 0;const r=a(5184),s=a(699),n=(0,r.createSlice)({name:"tasksFilters",initialState:{isNewPreset:!1,presets:{},preset:{},loadingPresets:!1,loadingCreatePreset:!1,loadingUpdatePreset:!1,loadingDeletePreset:!1,errorLoadingPresets:null,errorLoadingCreatePreset:null,errorLoadingUpdatePreset:null,errorLoadingDeletePreset:null},reducers:{setIsNewPreset:(e,t)=>{e.isNewPreset=t.payload},setPresets:(e,t)=>{e.presets=t.payload}},extraReducers:{[s.getFiltersPresets.fulfilled.type]:(e,t)=>{e.presets=t.payload,e.loadingPresets=!1,e.errorLoadingPresets=null},[s.getFiltersPresets.pending.type]:e=>{e.loadingPresets=!0,e.errorLoadingPresets=null},[s.getFiltersPresets.rejected.type]:(e,t)=>{e.loadingPresets=!1,e.errorLoadingPresets=t.payload},[s.getFiltersPreset.fulfilled.type]:(e,t)=>{e.preset=t.payload,e.loadingPreset=!1,e.errorLoadingPreset=null},[s.getFiltersPreset.pending.type]:e=>{e.loadingPreset=!0,e.errorLoadingPreset=null},[s.getFiltersPreset.rejected.type]:(e,t)=>{e.loadingPreset=!1,e.errorLoadingPreset=t.payload},[s.createFilterPreset.fulfilled.type]:(e,t)=>{const a=Object.assign({_id:t.payload.id,_rev:t.payload.rev},t.meta.arg.body);e.presets.docs.unshift(Object.assign({_id:a._id,_rev:a._rev},a)),e.loadingCreatePreset=!1,e.errorLoadingCreatePreset=null},[s.createFilterPreset.pending.type]:e=>{e.loadingCreatePreset=!0,e.errorLoadingCreatePreset=null},[s.createFilterPreset.rejected.type]:(e,t)=>{e.loadingCreatePreset=!1,e.errorLoadingCreatePreset=t.payload},[s.updateFilterPreset.fulfilled.type]:(e,t)=>{const a=Object.assign({_id:t.payload.id,_rev:t.payload.rev},t.meta.arg.body);e.presets.docs=e.presets.docs.map((e=>e._id===a._id?a:e)),e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=null},[s.updateFilterPreset.pending.type]:e=>{e.loadingUpdatePreset=!0,e.errorLoadingUpdatePreset=null},[s.updateFilterPreset.rejected.type]:(e,t)=>{e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=t.payload},[s.bulkUpdateFiltersPresets.fulfilled.type]:(e,t)=>{const a={res:t.payload,body:t.meta.arg};e.presets.docs=e.presets.docs.map((e=>{var t,i;const r=null===(t=null==a?void 0:a.res)||void 0===t?void 0:t.find((t=>(null==t?void 0:t.id)===(null==e?void 0:e._id))),s=null===(i=null==a?void 0:a.body)||void 0===i?void 0:i.find((t=>(null==t?void 0:t._id)===(null==e?void 0:e._id)));if(null==r?void 0:r.id){const t=Object.assign(Object.assign({},e),s);return t._rev=null==r?void 0:r.rev,t}return e})),e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=null},[s.bulkUpdateFiltersPresets.pending.type]:e=>{e.loadingUpdatePreset=!0,e.errorLoadingUpdatePreset=null},[s.bulkUpdateFiltersPresets.rejected.type]:(e,t)=>{e.loadingUpdatePreset=!1,e.errorLoadingUpdatePreset=t.payload},[s.deleteFilterPreset.fulfilled.type]:(e,t)=>{e.presets.docs=e.presets.docs.filter((e=>e._id!==t.meta.arg.id)),e.loadingDeletePreset=!1,e.errorLoadingDeletePreset=null},[s.deleteFilterPreset.pending.type]:e=>{e.loadingDeletePreset=!0,e.errorLoadingDeletePreset=null},[s.deleteFilterPreset.rejected.type]:(e,t)=>{e.errorLoadingDeletePreset=t.payload,e.loadingDeletePreset=!1}}});i=n.actions,t.setIsNewPreset=i.setIsNewPreset,t.setPresets=i.setPresets,t.default=n.reducer},7865:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateTasksSettings=t.createSettings=t.getTasksSettings=void 0;const r=a(5184),s=a(4809);t.getTasksSettings=(0,r.createAsyncThunk)("tasksSettings/getTasksSettings",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.getTasksSettings(e)).data}catch(e){return t(e)}})))),t.createSettings=(0,r.createAsyncThunk)("tasksSettings/createSettings",(({body:e,type:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksService.createSettings(e,t)).data}catch(e){return a(e)}})))),t.updateTasksSettings=(0,r.createAsyncThunk)("tasksSettings/updateTasksSettings",(({id:e,rev:t,body:a},{rejectWithValue:r})=>i(void 0,void 0,void 0,(function*(){var i,n;try{const r=yield s.uspacySdk.tasksService.updateTasksSettings(e,t,a);return Object.assign({_id:null===(i=null==r?void 0:r.data)||void 0===i?void 0:i.id,_rev:null===(n=null==r?void 0:r.data)||void 0===n?void 0:n.rev},a)}catch(e){return r(e)}}))))},1331:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setTasksSettings=void 0;const i=a(5184),r=a(7865),s=(0,i.createSlice)({name:"tasksSettingsReducer",initialState:{tasksSettings:{docs:[]},loadingTasksSettings:!1,loadingCreateTasksSettings:!1,loadingUpdateTasksSettings:!1,errorLoadingTasksSettings:null,errorLoadingCreateTasksSettings:null,errorLoadingUpdateTasksSettings:null},reducers:{setTasksSettings:(e,t)=>{e.tasksSettings=t.payload}},extraReducers:{[r.getTasksSettings.fulfilled.type]:(e,t)=>{e.loadingTasksSettings=!1,e.errorLoadingTasksSettings=null,e.tasksSettings=t.payload},[r.getTasksSettings.pending.type]:e=>{e.loadingTasksSettings=!0,e.errorLoadingTasksSettings=null},[r.getTasksSettings.rejected.type]:(e,t)=>{e.loadingTasksSettings=!1,e.errorLoadingTasksSettings=t.payload},[r.createSettings.fulfilled.type]:e=>{e.loadingCreateTasksSettings=!1,e.errorLoadingCreateTasksSettings=null},[r.createSettings.pending.type]:e=>{e.loadingCreateTasksSettings=!0,e.errorLoadingCreateTasksSettings=null},[r.createSettings.rejected.type]:(e,t)=>{e.loadingCreateTasksSettings=!1,e.errorLoadingCreateTasksSettings=t.payload},[r.updateTasksSettings.fulfilled.type]:(e,t)=>{e.loadingUpdateTasksSettings=!1,e.errorLoadingUpdateTasksSettings=null,e.tasksSettings.docs=e.tasksSettings.docs.map((e=>e._id===t.payload._id?t.payload:e))},[r.updateTasksSettings.pending.type]:e=>{e.loadingUpdateTasksSettings=!0,e.errorLoadingUpdateTasksSettings=null},[r.updateTasksSettings.rejected.type]:(e,t)=>{e.loadingUpdateTasksSettings=!1,e.errorLoadingUpdateTasksSettings=t.payload}}});t.setTasksSettings=s.actions.setTasksSettings,t.default=s.reducer},1573:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStages=void 0;const r=a(5184),s=a(4809);t.fetchStages=(0,r.createAsyncThunk)("stages/fetchStages",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksStagesService.getTasksStages(e)).data}catch(e){return t.rejectWithValue("Failure")}}))))},8391:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearStages=void 0;const i=a(5184),r=a(1573),s=(0,i.createSlice)({name:"stagesReducer",initialState:{stages:{data:[]},loadingStages:!1,addingStage:!1,editingStage:!1,deletingStage:!1,loadingMoveTask:!1,errorLoadingStages:"",errorAddingStage:"",errorEditingStage:"",errorDeletingStage:"",errorLoadingMoveTask:""},reducers:{clearStages:e=>{e.stages={}}},extraReducers:{[r.fetchStages.fulfilled.type]:(e,t)=>{e.loadingStages=!1,e.errorLoadingStages="",e.stages=t.payload},[r.fetchStages.pending.type]:e=>{e.loadingStages=!0,e.errorLoadingStages=""},[r.fetchStages.rejected.type]:(e,t)=>{e.loadingStages=!1,e.errorLoadingStages=t.payload}}});t.clearStages=s.actions.clearStages,t.default=s.reducer},2549:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteTimer=t.editTimer=t.createTimer=t.fetchTaskTimerList=t.stopTimer=t.startTimer=t.fetchTimerRealTime=void 0;const r=a(5184),s=a(4809);t.fetchTimerRealTime=(0,r.createAsyncThunk)("timer/fetchTimerRealTime",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.getTimerRealtime()).data}catch(e){return t(e)}})))),t.startTimer=(0,r.createAsyncThunk)("timer/startTimer",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.startTimer(e),e}catch(e){return t(e)}})))),t.stopTimer=(0,r.createAsyncThunk)("timer/stopTimer",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.stopTimer(e)}catch(e){return t(e)}})))),t.fetchTaskTimerList=(0,r.createAsyncThunk)("timer/fetchTaskTimerList",((e,{rejectWithValue:t})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.getTimerList(e)).data}catch(e){return t(e)}})))),t.createTimer=(0,r.createAsyncThunk)("timer/createTimer",(({id:e,data:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.createTimer(e,t)).data}catch(e){return a(e)}})))),t.editTimer=(0,r.createAsyncThunk)("timer/editTimer",(({taskId:e,id:t,data:a},{rejectWithValue:r})=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.tasksTimerService.updateTimer(e,t,a)).data}catch(e){return r(e)}})))),t.deleteTimer=(0,r.createAsyncThunk)("timer/deleteTimer",(({taskId:e,id:t},{rejectWithValue:a})=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.tasksTimerService.deleteTimer(e,t),t}catch(e){return a(e)}}))))},4084:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.clearStartTimerError=t.deleteTimerReducer=t.editTimerReducer=t.setTaskTimerList=t.setRealTimerTotalSeconds=t.clearTimerRealTime=t.setIsTaskTimerActive=void 0;const r=a(5184),s=a(2549),n=(0,r.createSlice)({name:"timerReducer",initialState:{isTaskTimerActive:!1,activeTaskTimerId:null,timerRealTime:{},timerObj:{},taskTimerList:{},taskTimerItem:{},loadingTimerRealTimer:!1,loadingStartTimer:!1,loadingStopTimer:!1,loadingTaskTimerList:!1,loadingCreateTimer:!1,loadingEditTimer:!1,loadingDeleteTimer:!1,errorLoadingTimerRealTimer:null,errorLoadingStartTimer:null,errorLoadingStopTimer:null,errorLoadingTaskTimerList:null,errorLoadingCreateTimer:null,errorLoadingEditTimer:null,errorLoadingDeleteTimer:null},reducers:{setIsTaskTimerActive:(e,t)=>{e.isTaskTimerActive=t.payload},setRealTimerTotalSeconds:(e,t)=>{e.timerRealTime.totalSeconds=t.payload},clearTimerRealTime:e=>{e.timerRealTime={}},setTaskTimerList:(e,t)=>{e.taskTimerList=t.payload},editTimerReducer:(e,t)=>{const a=e.taskTimerList.elapsedTimes.find((e=>e.id===t.payload.id));e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds+=t.payload.seconds-a.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime+=t.payload.seconds-a.seconds,e.taskTimerList.elapsedTimes=e.taskTimerList.elapsedTimes.map((e=>e.id===t.payload.id?t.payload:e))},deleteTimerReducer:(e,t)=>{const a=e.taskTimerList.elapsedTimes.find((e=>e.id===t.payload));e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds-=a.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime-=a.seconds,e.taskTimerList.elapsedTimes=e.taskTimerList.elapsedTimes.filter((e=>e.id!==+t.payload))},clearStartTimerError:e=>{e.errorLoadingStartTimer=null}},extraReducers:{[s.fetchTimerRealTime.fulfilled.type]:(e,t)=>{e.loadingTimerRealTimer=!1,e.errorLoadingTimerRealTimer=null,e.timerRealTime=t.payload},[s.fetchTimerRealTime.pending.type]:e=>{e.loadingTimerRealTimer=!0,e.errorLoadingTimerRealTimer=null},[s.fetchTimerRealTime.rejected.type]:(e,t)=>{e.loadingTimerRealTimer=!1,e.errorLoadingTimerRealTimer=t.payload},[s.startTimer.fulfilled.type]:e=>{e.loadingStartTimer=!1,e.errorLoadingStartTimer=null,e.timerRealTime.taskId||e.isTaskTimerActive||(e.isTaskTimerActive=!0)},[s.startTimer.pending.type]:e=>{e.loadingStartTimer=!0,e.errorLoadingStartTimer=null},[s.startTimer.rejected.type]:(e,t)=>{e.loadingStartTimer=!1,e.errorLoadingStartTimer=t.payload},[s.stopTimer.fulfilled.type]:(e,t)=>{e.loadingStopTimer=!1,e.errorLoadingStopTimer=null,e.timerRealTime.taskId===t.payload.taskId&&(e.isTaskTimerActive=!1,e.timerObj=t.payload)},[s.stopTimer.pending.type]:e=>{e.loadingStopTimer=!0,e.errorLoadingStopTimer=null},[s.stopTimer.rejected.type]:(e,t)=>{e.loadingStopTimer=!1,e.errorLoadingStopTimer=t.payload},[s.fetchTaskTimerList.fulfilled.type]:(e,t)=>{e.loadingTaskTimerList=!1,e.errorLoadingTaskTimerList=null,e.taskTimerList=t.payload},[s.fetchTaskTimerList.pending.type]:e=>{e.loadingTaskTimerList=!0,e.errorLoadingTaskTimerList=null},[s.fetchTaskTimerList.rejected.type]:(e,t)=>{e.loadingTaskTimerList=!1,e.errorLoadingTaskTimerList=t.payload},[s.createTimer.fulfilled.type]:(e,t)=>{e.loadingCreateTimer=!1,e.errorLoadingCreateTimer=null,e.taskTimerList.totalSeconds=e.taskTimerList.totalSeconds+=t.payload.seconds,e.taskTimerList.myTime=e.taskTimerList.myTime+=t.payload.seconds,e.taskTimerList.elapsedTimes.push(t.payload)},[s.createTimer.pending.type]:e=>{e.loadingCreateTimer=!0,e.errorLoadingCreateTimer=null},[s.createTimer.rejected.type]:(e,t)=>{e.loadingCreateTimer=!1,e.errorLoadingCreateTimer=t.payload},[s.editTimer.fulfilled.type]:e=>{e.loadingEditTimer=!1,e.errorLoadingEditTimer=null},[s.editTimer.pending.type]:e=>{e.loadingEditTimer=!0,e.errorLoadingEditTimer=null},[s.editTimer.rejected.type]:(e,t)=>{e.loadingEditTimer=!1,e.errorLoadingEditTimer=t.payload},[s.deleteTimer.fulfilled.type]:e=>{e.loadingDeleteTimer=!1,e.errorLoadingDeleteTimer=null},[s.deleteTimer.pending.type]:e=>{e.loadingDeleteTimer=!0,e.errorLoadingDeleteTimer=null},[s.deleteTimer.rejected.type]:(e,t)=>{e.loadingDeleteTimer=!1,e.errorLoadingDeleteTimer=t.payload}}});i=n.actions,t.setIsTaskTimerActive=i.setIsTaskTimerActive,t.clearTimerRealTime=i.clearTimerRealTime,t.setRealTimerTotalSeconds=i.setRealTimerTotalSeconds,t.setTaskTimerList=i.setTaskTimerList,t.editTimerReducer=i.editTimerReducer,t.deleteTimerReducer=i.deleteTimerReducer,t.clearStartTimerError=i.clearStartTimerError,t.default=n.reducer},8508:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))},r=this&&this.__rest||function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(a[i[r]]=e[i[r]])}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAvatar=t.deleteInvitation=t.repeatInvitation=t.sendUserInvites=t.activateUser=t.deactivateUser=t.updateUserRoles=t.updateUserPosition=t.updateUser=t.fetchUsers=void 0;const s=a(5184),n=a(4809),d=a(8065);t.fetchUsers=(0,s.createAsyncThunk)("users/fetchUsers",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const e=(yield n.uspacySdk.tokensService.getUserRoles().catch((()=>{})))||[],t=n.uspacySdk.usersService.hasRole(e,[d.MainRoles.ADMIN,d.MainRoles.OWNER])?"all":void 0;return(yield n.uspacySdk.usersService.getUsers(void 0,"all",t)).data}catch(e){return t.rejectWithValue("Failure load users")}})))),t.updateUser=(0,s.createAsyncThunk)("users/updateUser",((e,t)=>i(void 0,void 0,void 0,(function*(){try{const{id:t}=e,a=r(e,["id"]),i=yield n.uspacySdk.usersService.updateUser(t,a);return e.active||e.registered||(i.data.dateOfInvitation=e.dateOfInvitation),i.data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserPosition=(0,s.createAsyncThunk)("users/updateUserPosition",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.usersService.updatePosition(e.id,e.position)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.updateUserRoles=(0,s.createAsyncThunk)("users/updateUserRoles",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.usersService.updateRoles(e.id,e.roles)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.deactivateUser=(0,s.createAsyncThunk)("users/deactivateUser",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.usersService.deactivateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.activateUser=(0,s.createAsyncThunk)("users/activateUser",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.usersService.activateUser(e)).data}catch(e){return t.rejectWithValue("Failure")}})))),t.sendUserInvites=(0,s.createAsyncThunk)("users/sendUserInvites",(({invites:e,type:a},r)=>i(void 0,void 0,void 0,(function*(){try{return"single"===a?n.uspacySdk.invatesService.createInvates(e.reduce(((e,t)=>t.email.length>0?[...e,{email:t.email,firstName:t.firstName,lastName:t.lastName}]:e),[])):n.uspacySdk.invatesService.createInvatesBatch(e.reduce(((e,t)=>t.email.length>0?[...e,t.email]:e),[]))}catch(e){return r.rejectWithValue("Failure")}finally{return r.dispatch((0,t.fetchUsers)())}})))),t.repeatInvitation=(0,s.createAsyncThunk)("users/repeatInvitation",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return yield n.uspacySdk.invatesService.resendInvateByUserId(e),e}catch(e){return t.rejectWithValue("Failure")}})))),t.deleteInvitation=(0,s.createAsyncThunk)("users/deleteInvitation",((e,t)=>i(void 0,void 0,void 0,(function*(){try{return n.uspacySdk.invatesService.deleteInvateByUserId(e)}catch(e){return t.rejectWithValue("Failure")}finally{return e}})))),t.uploadAvatar=(0,s.createAsyncThunk)("users/uploadAvatar",(({file:e,userId:t,adminRole:a,profileId:r},{rejectWithValue:s})=>i(void 0,void 0,void 0,(function*(){try{return(yield n.uspacySdk.usersService.uploadAvatar({file:e,userId:a&&t!==r?t:r})).data}catch(e){return s("Failure")}}))))},9789:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.usersSlice=void 0;const i=a(5184),r=a(8508);t.usersSlice=(0,i.createSlice)({name:"users",initialState:{data:[],loading:!0,loadingUpdatingUser:!1,errorLoadingUpdatingUser:null},reducers:{addUserRoleFromTable(e,t){e.data=e.data.filter((e=>e.id===t.payload.id?e.roles.push(t.payload.role):e))},deleteUserRoleFromTable(e,t){e.data=e.data.filter((e=>{if(e.id===t.payload.id){const a=e.roles.filter((e=>e!==t.payload.role));return e.roles=a,e}return e}))}},extraReducers:{[r.fetchUsers.fulfilled.type]:(e,t)=>{e.loading=!1,e.data=t.payload.filter((e=>!!e.authUserId))},[r.fetchUsers.pending.type]:e=>{e.loading=!0,e.errorLoading=""},[r.fetchUsers.rejected.type]:(e,t)=>{e.loading=!1,e.errorLoading=t.payload},[r.updateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.updateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.updateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.updateUserPosition.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.updateUserPosition.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.updateUserPosition.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.updateUserRoles.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.updateUserRoles.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.updateUserRoles.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.deactivateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.deactivateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.deactivateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.activateUser.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.activateUser.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.activateUser.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.sendUserInvites.fulfilled.type]:e=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null},[r.sendUserInvites.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.sendUserInvites.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.repeatInvitation.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id.toString()===t.payload.toString()?Object.assign(Object.assign({},e),{dateOfInvitation:(new Date).getTime()/1e3}):e))},[r.repeatInvitation.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.repeatInvitation.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.deleteInvitation.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.filter((e=>e.id.toString()!==t.payload.toString()))},[r.deleteInvitation.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.deleteInvitation.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload},[r.uploadAvatar.fulfilled.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=null,e.data=e.data.map((e=>e.id===t.payload.id?t.payload:e))},[r.uploadAvatar.pending.type]:e=>{e.loadingUpdatingUser=!0,e.errorLoadingUpdatingUser=null},[r.uploadAvatar.rejected.type]:(e,t)=>{e.loadingUpdatingUser=!1,e.errorLoadingUpdatingUser=t.payload}}}),t.default=t.usersSlice.reducer},3917:function(e,t,a){var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))((function(r,s){function n(e){try{o(i.next(e))}catch(e){s(e)}}function d(e){try{o(i.throw(e))}catch(e){s(e)}}function o(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(n,d)}o((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.updateWebhook=t.deleteSelectedWebhooks=t.repeatWebhook=t.toggleWebhook=t.getWebhookById=t.deleteWebhook=t.createWebhook=t.fetchWebhooks=void 0;const r=a(5184),s=a(4809);t.fetchWebhooks=(0,r.createAsyncThunk)("webhooks/fetchWebhooks",(({page:e,list:t,name:a,isIncoming:r},n)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.getWebhooks(e,t,a,r)).data}catch(e){return n.rejectWithValue("Failure")}})))),t.createWebhook=(0,r.createAsyncThunk)("webhooks/createWebhook",(({data:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.createWebhook(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteWebhook=(0,r.createAsyncThunk)("webhooks/deletehWebhook",(({id:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.deleteWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.getWebhookById=(0,r.createAsyncThunk)("webhooks/getWebhookById",(({id:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.getWebhookById(e,t)).data}catch(e){return a.rejectWithValue("Failure")}})))),t.toggleWebhook=(0,r.createAsyncThunk)("webhooks/toggleWebhook",(({id:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.toggleWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.repeatWebhook=(0,r.createAsyncThunk)("webhooks/repeatWebhook",(({id:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.repeatWebhook(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.deleteSelectedWebhooks=(0,r.createAsyncThunk)("webhooks/deleteSelectedWebhooks",(({ids:e,isIncoming:t},a)=>i(void 0,void 0,void 0,(function*(){try{return yield s.uspacySdk.webhooksService.deleteSelectedWebhooks(e,t),e}catch(e){return a.rejectWithValue("Failure")}})))),t.updateWebhook=(0,r.createAsyncThunk)("webhooks/updateWebhook",(({id:e,body:t,isIncoming:a},r)=>i(void 0,void 0,void 0,(function*(){try{return(yield s.uspacySdk.webhooksService.updateWebhook(e,t,a)).data}catch(e){return r.rejectWithValue("Failure")}}))))},515:(e,t,a)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteLastElementTable=t.addWebhookToEndTable=t.getCopyWebhook=t.setModalOpen=t.setModalMode=void 0;const r=a(5184),s=a(3917),n=(0,r.createSlice)({name:"webhooksReducer",initialState:{webhooks:{},webhook:{},modalModes:{create:!1,edit:!1,copy:!1,view:!1,isIncoming:!1},isModalOpen:!1,loadingWebhooks:!1,errorLoadingErrors:null},reducers:{setModalMode:(e,t)=>{e.modalModes=t.payload},setModalOpen:(e,t)=>{e.isModalOpen=t.payload},getCopyWebhook:(e,t)=>{e.webhook=e.webhooks.data.find((e=>e.id===t.payload))},addWebhookToEndTable:(e,t)=>{e.webhooks.data.push(t.payload)},deleteLastElementTable:e=>{e.webhooks.data=e.webhooks.data.slice(0,-1)}},extraReducers:{[s.fetchWebhooks.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=t.payload.data,e.webhooks.meta=t.payload.meta},[s.fetchWebhooks.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.fetchWebhooks.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.getWebhookById.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhook=t.payload},[s.getWebhookById.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.getWebhookById.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.createWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data.unshift(t.payload),e.webhooks.meta.total=e.webhooks.meta.total+1},[s.createWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.createWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.deleteWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.filter((e=>e.id!==t.payload)),e.webhooks.meta.total=e.webhooks.meta.total-1},[s.deleteWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.deleteWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.toggleWebhook.fulfilled.type]:e=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null},[s.toggleWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.toggleWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.repeatWebhook.fulfilled.type]:e=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null},[s.repeatWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.repeatWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.deleteSelectedWebhooks.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.filter((e=>!t.payload.includes(e.id)))},[s.deleteSelectedWebhooks.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.deleteSelectedWebhooks.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload},[s.updateWebhook.fulfilled.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=null,e.webhooks.data=e.webhooks.data.map((e=>e.id===t.payload.id?t.payload:e))},[s.updateWebhook.pending.type]:e=>{e.loadingWebhooks=!0,e.errorLoadingErrors=null},[s.updateWebhook.rejected.type]:(e,t)=>{e.loadingWebhooks=!1,e.errorLoadingErrors=t.payload}}});i=n.actions,t.setModalMode=i.setModalMode,t.setModalOpen=i.setModalOpen,t.getCopyWebhook=i.getCopyWebhook,t.addWebhookToEndTable=i.addWebhookToEndTable,t.deleteLastElementTable=i.deleteLastElementTable,t.default=n.reducer},5184:e=>{e.exports=a(9646)},4809:e=>{e.exports=a(7765)},6063:e=>{e.exports=a(4657)},414:e=>{e.exports=a(3810)},9243:e=>{e.exports=a(6394)},8065:e=>{e.exports=a(771)},9472:e=>{e.exports=a(2464)},9591:e=>{e.exports=a(8055)},5599:e=>{e.exports=a(6449)},9699:e=>{e.exports=a(2193)},113:e=>{e.exports=a(2404)},8524:e=>{e.exports=a(5187)},7078:e=>{e.exports=a(8023)},5795:e=>{e.exports=a(3805)},7026:e=>{e.exports=a(5015)},6689:e=>{e.exports=a(1527)},6022:e=>{e.exports=a(3512)},997:e=>{e.exports=a(4848)}},i={},r=function e(a){var r=i[a];if(void 0!==r)return r.exports;var s=i[a]={exports:{}};return t[a].call(s.exports,s,s.exports,e),s.exports}(3607);e.exports=r})()},8440:(e,t,a)=>{var i=a(6038),r=a(7301),s=a(6009),n=s&&s.isSet,d=n?r(n):i;e.exports=d},8879:(e,t,a)=>{var i=a(4335)(Object.getPrototypeOf,Object);e.exports=i},8948:(e,t,a)=>{var i=a(1791),r=a(6375);e.exports=function(e,t){return i(e,r(e),t)}},9172:(e,t,a)=>{var i=a(5861),r=a(346);e.exports=function(e){return r(e)&&"[object Map]"==i(e)}},9344:(e,t,a)=>{var i=a(3805),r=Object.create,s=function(){function e(){}return function(t){if(!i(t))return{};if(r)return r(t);e.prototype=t;var a=new e;return e.prototype=void 0,a}}();e.exports=s},9622:(e,t,a)=>{var i=a(695),r=a(2903),s=a(4894);e.exports=function(e){return s(e)?i(e,!0):r(e)}},9653:(e,t,a)=>{var i=a(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},9999:(e,t,a)=>{var i=a(7217),r=a(3729),s=a(6547),n=a(4733),d=a(3838),o=a(3290),l=a(3007),c=a(2271),u=a(8948),p=a(2),y=a(3349),g=a(5861),v=a(6189),m=a(7199),f=a(5529),h=a(6449),S=a(3656),k=a(7730),b=a(3805),F=a(8440),T=a(5950),j=a(9622),C="[object Arguments]",L="[object Function]",I="[object Object]",P={};P[C]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[L]=P["[object WeakMap]"]=!1,e.exports=function e(t,a,_,O,E,M){var A,R=1&a,D=2&a,w=4&a;if(_&&(A=E?_(t,O,E,M):_(t)),void 0!==A)return A;if(!b(t))return t;var U=h(t);if(U){if(A=v(t),!R)return l(t,A)}else{var x=g(t),W=x==L||"[object GeneratorFunction]"==x;if(S(t))return o(t,R);if(x==I||x==C||W&&!E){if(A=D||W?{}:f(t),!R)return D?u(t,d(A,t)):c(t,n(A,t))}else{if(!P[x])return E?t:{};A=m(t,x,R)}}M||(M=new i);var V=M.get(t);if(V)return V;M.set(t,A),F(t)?t.forEach((function(i){A.add(e(i,a,_,i,t,M))})):k(t)&&t.forEach((function(i,r){A.set(r,e(i,a,_,r,t,M))}));var q=U?void 0:(w?D?y:p:D?j:T)(t);return r(q||t,(function(i,r){q&&(i=t[r=i]),s(A,r,e(i,a,_,r,t,M))})),A}}}]);
//# sourceMappingURL=394.1bc46913.chunk.js.map